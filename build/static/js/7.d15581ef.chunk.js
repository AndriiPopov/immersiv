(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{1061:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(7),r=n(9),i=n(27),s=n(0),o=n.n(s),j=n(107),u=n(989),l=n(1065),d=n(1055),b=n(1066),O=n(1054),p=n(1072),x=n(1073),h=n(1071),f=n(1070),m=n(1056),g=n(1069),v=n(1074),w=n(979),k=n.n(w),C=n(981),y=n.n(C),S=n(980),P=n.n(S),T=n(1046),A=n(1047),E=n(1048),I=n(982),F=n.n(I),_=n(983),z=n.n(_),D=n(984),G=n.n(D),M=n(3),J=n.n(M),L=n(8),W=n(1067),N=n(1059),R=n(1058),U=n(1077),X=n(1062),q=n(1051),B=n(220),H=n(1064),K=n(993),Q=n(1076),V=n(970),Y=n.n(V),Z=n(971),$=n.n(Z),ee=n(969),te=n.n(ee),ne=n(967),ae=n.n(ne),ce=function(e){var t=e.project,n=e.data,r=e.setEditId,s=e.setEditState,j=o.a.useState(null),u=Object(c.a)(j,2),l=u[0],d=u[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(H.a,{secondaryAction:Object(a.jsx)(g.a,{edge:"end",onClick:function(e){d(e.currentTarget)},children:Object(a.jsx)(ae.a,{})}),children:Object(a.jsxs)(T.a,{onClick:function(){r(t.url),s(t)},children:[Object(a.jsx)(A.a,{children:t.featured?Object(a.jsx)(te.a,{}):t.published?Object(a.jsx)(Y.a,{}):Object(a.jsx)($.a,{})}),Object(a.jsx)(E.a,{primary:t.name,secondary:t.url})]})}),Object(a.jsxs)(K.a,{anchorEl:l,open:!!l,onClose:function(){return d(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(a.jsx)(Q.a,{onClick:function(){s(t),r(t.url),d(null)},children:"Edit"}),Object(a.jsx)(Q.a,{onClick:Object(L.a)(J.a.mark((function e(){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.saveProject(t.url,Object(i.a)(Object(i.a)({},t),{},{featured:!0}));case 2:(a=e.sent).data&&n.setProjects(a.data),d(null);case 5:case"end":return e.stop()}}),e)}))),children:"Set as featured"}),Object(a.jsx)(Q.a,{onClick:Object(L.a)(J.a.mark((function e(){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.deleteProject(t.url);case 2:(a=e.sent).data&&n.setProjects(a.data),d(null);case 5:case"end":return e.stop()}}),e)}))),children:"Delete"})]})]})},re=function(e){var t=e.data,n=e.menuTab,r=Object(s.useState)(""),o=Object(c.a)(r,2),j=o[0],u=o[1],l=Object(s.useState)(null),d=Object(c.a)(l,2),b=d[0],O=d[1],p=function(){var e=Object(L.a)(J.a.mark((function e(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=6;break}return e.next=3,B.a.saveProject(j,b);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,B.a.createProject(b);case 8:e.t0=e.sent;case 9:(n=e.t0).data&&t.setProjects(n.data),x();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){u(""),O(null)};return"project"===n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(W.a,{onClick:function(){u(!1),O({published:!0})},children:"Add project"}),t.projects.sort((function(e,t){return e.url>t.url?1:-1})).map((function(e){return Object(a.jsx)(ce,{project:e,setEditId:u,setEditState:O,data:t},e.url)})),Object(a.jsx)(N.a,{open:!!b,children:!!b&&Object(a.jsxs)(q.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[Object(a.jsx)(R.a,{value:b.name,onChange:function(e){return O(Object(i.a)(Object(i.a)({},b),{},{name:e.target.value}))},label:"Name",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(R.a,{value:b.url,onChange:function(e){return O(Object(i.a)(Object(i.a)({},b),{},{url:e.target.value}))},label:"Url",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(R.a,{value:b.projectId,onChange:function(e){return O(Object(i.a)(Object(i.a)({},b),{},{projectId:e.target.value}))},label:"Project id",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(R.a,{value:b.modelId,onChange:function(e){return O(Object(i.a)(Object(i.a)({},b),{},{modelId:e.target.value}))},label:"Model id",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(U.a,{label:"Published",control:Object(a.jsx)(X.a,{checked:b.published,onChange:function(e){return O(Object(i.a)(Object(i.a)({},b),{},{published:e.target.checked}))}})}),Object(a.jsxs)("div",{style:{marginTop:"50px"},children:[Object(a.jsx)(W.a,{onClick:p,children:"Save"}),Object(a.jsx)(W.a,{onClick:x,children:"Cancel"})]})]})})]}):null},ie=n(254),se=function(e){var t=e.data,n=e.menuTab,r=Object(s.useState)(t.constant),o=Object(c.a)(r,2),j=o[0],u=o[1];Object(s.useEffect)((function(){u(t.constant)}),[t.constant]);var l=function(){var e=Object(L.a)(J.a.mark((function e(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.a.saveConstant(j);case 2:(n=e.sent).data&&t.setConstant(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"constant"===n?Object(a.jsxs)(q.a,{sx:{width:400,bgcolor:"background.paper",p:4},children:[Object(a.jsx)(R.a,{value:j.email,onChange:function(e){return u(Object(i.a)(Object(i.a)({},j),{},{email:e.target.value}))},label:"Email",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(R.a,{value:j.phone,onChange:function(e){return u(Object(i.a)(Object(i.a)({},j),{},{phone:e.target.value}))},label:"Phone",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(R.a,{value:j.call,onChange:function(e){return u(Object(i.a)(Object(i.a)({},j),{},{call:e.target.value}))},label:"International phone number",style:{marginTop:"20px",width:"100%"}}),Object(a.jsxs)("div",{style:{marginTop:"50px"},children:[Object(a.jsx)(W.a,{onClick:l,children:"Save"}),Object(a.jsx)(W.a,{onClick:function(){return u(t.constant)},children:"Cancel"})]})]}):null},oe=n(34),je=n(35),ue=n(12),le=new(function(){function e(){Object(oe.a)(this,e)}return Object(je.a)(e,[{key:"getAdmin",value:function(e){return ue.a.get("/admins")}},{key:"createAdmin",value:function(e){return ue.a.post("/admins",e)}},{key:"deleteAdmin",value:function(e){return ue.a.delete("/admins/".concat(e))}}]),e}()),de=n(976),be=n.n(de),Oe=n(977),pe=n.n(Oe),xe=n(978),he=n.n(xe),fe=function(e){var t=e.data,n=e.menuTab,r=Object(s.useState)(null),o=Object(c.a)(r,2),j=o[0],u=o[1],l=function(){var e=Object(L.a)(J.a.mark((function e(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.createAdmin(j);case 2:(n=e.sent).data&&t.setAdmins(n.data),d();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){u(null)},b=function(){var e=Object(L.a)(J.a.mark((function e(n){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.deleteAdmin(n);case 2:(a=e.sent).data&&t.setAdmins(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"admin"===n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(W.a,{onClick:function(){u({published:!0})},children:"Add admin"}),t.admins.sort((function(e,t){return e.email>t.email?1:-1})).map((function(e){return Object(a.jsxs)(H.a,{secondaryAction:Object(a.jsx)(g.a,{edge:"end",onClick:function(){return b(e.email)},children:Object(a.jsx)(be.a,{})}),children:[Object(a.jsx)(A.a,{children:e.locked?Object(a.jsx)(pe.a,{}):Object(a.jsx)(he.a,{})}),Object(a.jsx)(E.a,{primary:e.email})]})})),Object(a.jsx)(N.a,{open:!!j,children:!!j&&Object(a.jsxs)(q.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[Object(a.jsx)(R.a,{value:j.email,onChange:function(e){return u(Object(i.a)(Object(i.a)({},j),{},{email:e.target.value}))},label:"Email",style:{marginTop:"20px",width:"100%"}}),Object(a.jsxs)("div",{style:{marginTop:"50px"},children:[Object(a.jsx)(W.a,{onClick:l,children:"Save"}),Object(a.jsx)(W.a,{onClick:d,children:"Cancel"})]})]})})]}):null},me=n(15),ge=Object(j.a)(p.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(i.a)({zIndex:t.zIndex.drawer+1,transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen})},n&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:t.transitions.create(["width","margin"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen})})})),ve=Object(j.a)(b.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return{"& .MuiDrawer-paper":Object(i.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.enteringScreen}),boxSizing:"border-box"},!n&&Object(r.a)({overflowX:"hidden",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),width:t.spacing(7)},t.breakpoints.up("sm"),{width:t.spacing(9)}))}})),we=Object(u.a)(),ke=function(e){var t=e.data,n=Object(me.b)().logout,r=Object(s.useState)(!1),o=Object(c.a)(r,2),j=o[0],u=o[1],b=Object(s.useState)("project"),p=Object(c.a)(b,2),w=p[0],C=p[1],S=function(){u(!j)};return Object(a.jsx)(l.a,{theme:we,children:Object(a.jsxs)(O.a,{sx:{display:"flex"},children:[Object(a.jsx)(d.a,{}),Object(a.jsx)(ge,{position:"absolute",open:j,children:Object(a.jsxs)(x.a,{sx:{pr:"24px"},children:[Object(a.jsx)(g.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:S,sx:Object(i.a)({marginRight:"36px"},j&&{display:"none"}),children:Object(a.jsx)(k.a,{})}),Object(a.jsx)(f.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:"Dashboard"}),Object(a.jsx)(g.a,{color:"inherit",onClick:n,children:Object(a.jsx)(P.a,{})})]})}),Object(a.jsxs)(ve,{variant:"permanent",open:j,children:[Object(a.jsx)(x.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(a.jsx)(g.a,{onClick:S,children:Object(a.jsx)(y.a,{})})}),Object(a.jsx)(m.a,{}),Object(a.jsxs)(h.a,{component:"nav",children:[Object(a.jsxs)(T.a,{onClick:function(){return C("project")},selected:"project"===w,children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(F.a,{})}),Object(a.jsx)(E.a,{primary:"Projects"})]}),Object(a.jsxs)(T.a,{onClick:function(){return C("constant")},selected:"constant"===w,children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(z.a,{})}),Object(a.jsx)(E.a,{primary:"General"})]}),Object(a.jsxs)(T.a,{onClick:function(){return C("admin")},selected:"admin"===w,children:[Object(a.jsx)(A.a,{children:Object(a.jsx)(G.a,{})}),Object(a.jsx)(E.a,{primary:"Admins"})]})]})]}),Object(a.jsxs)(O.a,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(a.jsx)(x.a,{}),Object(a.jsxs)(v.a,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Object(a.jsx)(re,{data:t,menuTab:w}),Object(a.jsx)(fe,{data:t,menuTab:w}),Object(a.jsx)(se,{data:t,menuTab:w})]})]})]})})},Ce=n(20);t.default=function(){var e=Object(s.useState)(null),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(s.useState)(null),o=Object(c.a)(i,2),j=o[0],u=o[1],l=Object(s.useState)(null),d=Object(c.a)(l,2),b=d[0],O=d[1];return Object(s.useEffect)((function(){B.a.getProject().then((function(e){O(e.data)})),le.getAdmin().then((function(e){u(e.data)})),ie.a.getConstant().then((function(e){e.data.length?r(e.data[0]):r({})}))}),[]),Object(a.jsx)(Ce.a,{loading:!n||!j||!b,children:Object(a.jsx)(ke,{data:{constant:n,setConstant:r,admins:j,setAdmins:u,projects:b,setProjects:O}})})}},220:function(e,t,n){"use strict";var a=n(34),c=n(35),r=n(12),i=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getProject",value:function(e){return r.a.get("/projects".concat(e?"/"+e:""))}},{key:"getFeaturedProject",value:function(){return r.a.get("/projects/__featured__")}},{key:"saveProject",value:function(e,t){return r.a.put("/projects/".concat(e),t)}},{key:"createProject",value:function(e){return r.a.post("/projects",e)}},{key:"deleteProject",value:function(e){return r.a.delete("/projects/".concat(e))}}]),e}();t.a=new i},254:function(e,t,n){"use strict";var a=n(34),c=n(35),r=n(12),i=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getConstant",value:function(){return r.a.get("/constant")}},{key:"saveConstant",value:function(e){return r.a.put("/constant",e)}}]),e}();t.a=new i}}]);
//# sourceMappingURL=7.d15581ef.chunk.js.map