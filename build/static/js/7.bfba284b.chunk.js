(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{1328:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(47),r=n(0),s=n.n(r),o=n(1322),i=n(1321),u=n(1336),j=n(1335),l=n(1255),b=n.n(l),d=n(1252),O=n.n(d),p=n(1253),x=n.n(p),f=n(1254),h=n.n(f),m=n(123),v=n(44),g=n.n(v),k=n(59),C=n(1332),w=n(1326),y=n(1324),P=n(1339),T=n(1329),S=n(1318),A=n(529),E=n(1330),I=n(1337),F=n(1313),_=n(1314),L=n(1315),D=n(1263),J=n(1331),M=n(1244),G=n.n(M),N=n(1245),U=n.n(N),W=n(1243),q=n.n(W),z=n(1241),B=n.n(z),H=function(e){var t=e.project,n=e.data,r=e.setEditId,o=e.setEditState,i=s.a.useState(null),u=Object(c.a)(i,2),j=u[0],l=u[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E.a,{secondaryAction:Object(a.jsx)(I.a,{edge:"end",onClick:function(e){l(e.currentTarget)},children:Object(a.jsx)(B.a,{})}),children:Object(a.jsxs)(F.a,{onClick:function(){r(t.url),o(t)},children:[Object(a.jsx)(_.a,{children:t.featured?Object(a.jsx)(q.a,{}):t.published?Object(a.jsx)(G.a,{}):Object(a.jsx)(U.a,{})}),Object(a.jsx)(L.a,{primary:t.name,secondary:t.url})]})}),Object(a.jsxs)(D.a,{anchorEl:j,open:!!j,onClose:function(){return l(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(a.jsx)(J.a,{onClick:function(){o(t),r(t.url),l(null)},children:"Edit"}),Object(a.jsx)(J.a,{onClick:Object(k.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.saveProject(t.url,Object(m.a)(Object(m.a)({},t),{},{featured:!0}));case 2:(a=e.sent).data&&n.setProjects(a.data),l(null);case 5:case"end":return e.stop()}}),e)}))),children:"Set as featured"}),Object(a.jsx)(J.a,{onClick:Object(k.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.deleteProject(t.url);case 2:(a=e.sent).data&&n.setProjects(a.data),l(null);case 5:case"end":return e.stop()}}),e)}))),children:"Delete"})]})]})},K=function(e){var t=e.data,n=e.menuTab,s=Object(r.useState)(""),o=Object(c.a)(s,2),i=o[0],u=o[1],j=Object(r.useState)(null),l=Object(c.a)(j,2),b=l[0],d=l[1],O=function(){var e=Object(k.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=6;break}return e.next=3,A.a.saveProject(i,b);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,A.a.createProject(b);case 8:e.t0=e.sent;case 9:(n=e.t0).data&&t.setProjects(n.data),p();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){u(""),d(null)};return"project"===n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a,{onClick:function(){u(!1),d({published:!0})},children:"Add project"}),t.projects.sort((function(e,t){return e.url>t.url?1:-1})).map((function(e){return Object(a.jsx)(H,{project:e,setEditId:u,setEditState:d,data:t},e.url)})),Object(a.jsx)(w.a,{open:!!b,children:!!b&&Object(a.jsxs)(S.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,maxWidth:"100%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[Object(a.jsx)(y.a,{value:b.name,onChange:function(e){return d(Object(m.a)(Object(m.a)({},b),{},{name:e.target.value}))},label:"Name",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(y.a,{value:b.url,onChange:function(e){return d(Object(m.a)(Object(m.a)({},b),{},{url:e.target.value}))},label:"Url",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(y.a,{value:b.projectId,onChange:function(e){return d(Object(m.a)(Object(m.a)({},b),{},{projectId:e.target.value}))},label:"Project id",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(y.a,{value:b.modelId,onChange:function(e){return d(Object(m.a)(Object(m.a)({},b),{},{modelId:e.target.value}))},label:"Model id",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(P.a,{label:"Published",control:Object(a.jsx)(T.a,{checked:b.published,onChange:function(e){return d(Object(m.a)(Object(m.a)({},b),{},{published:e.target.checked}))}})}),Object(a.jsxs)("div",{style:{marginTop:"50px"},children:[Object(a.jsx)(C.a,{onClick:O,children:"Save"}),Object(a.jsx)(C.a,{onClick:p,children:"Cancel"})]})]})})]}):null},Q=n(562),R=function(e){var t=e.data,n=e.menuTab,s=Object(r.useState)(t.constant),o=Object(c.a)(s,2),i=o[0],u=o[1];Object(r.useEffect)((function(){u(t.constant)}),[t.constant]);var j=function(){var e=Object(k.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.saveConstant(i);case 2:(n=e.sent).data?t.setConstant(n.data):t.setConstant({});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"constant"===n?Object(a.jsxs)(S.a,{sx:{width:400,bgcolor:"background.paper",p:4},children:[Object(a.jsx)(y.a,{value:i.email,onChange:function(e){return u(Object(m.a)(Object(m.a)({},i),{},{email:e.target.value}))},label:"Email",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(y.a,{value:i.phone,onChange:function(e){return u(Object(m.a)(Object(m.a)({},i),{},{phone:e.target.value}))},label:"Phone",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(y.a,{value:i.call,onChange:function(e){return u(Object(m.a)(Object(m.a)({},i),{},{call:e.target.value}))},label:"International phone number",style:{marginTop:"20px",width:"100%"}}),Object(a.jsxs)("div",{style:{marginTop:"50px"},children:[Object(a.jsx)(C.a,{onClick:j,children:"Save"}),Object(a.jsx)(C.a,{onClick:function(){return u(t.constant)},children:"Cancel"})]})]}):null},V=n(145),X=n(146),Y=n(43),Z=new(function(){function e(){Object(V.a)(this,e)}return Object(X.a)(e,[{key:"getAdmin",value:function(e){return Y.a.get("/admins")}},{key:"createAdmin",value:function(e){return Y.a.post("/admins",e)}},{key:"deleteAdmin",value:function(e){return Y.a.delete("/admins/".concat(e))}}]),e}()),$=n(1249),ee=n.n($),te=n(1250),ne=n.n(te),ae=n(1251),ce=n.n(ae),re=function(e){var t=e.data,n=e.menuTab,s=Object(r.useState)(null),o=Object(c.a)(s,2),i=o[0],u=o[1],j=function(){var e=Object(k.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.createAdmin(i);case 2:(n=e.sent).data&&t.setAdmins(n.data),l();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){u(null)},b=function(){var e=Object(k.a)(g.a.mark((function e(n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.deleteAdmin(n);case 2:(a=e.sent).data&&t.setAdmins(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"admin"===n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a,{onClick:function(){u({published:!0})},children:"Add admin"}),t.admins.sort((function(e,t){return e.email>t.email?1:-1})).map((function(e){return Object(a.jsxs)(E.a,{secondaryAction:Object(a.jsx)(I.a,{edge:"end",onClick:function(){return b(e.email)},children:Object(a.jsx)(ee.a,{})}),children:[Object(a.jsx)(_.a,{children:e.locked?Object(a.jsx)(ne.a,{}):Object(a.jsx)(ce.a,{})}),Object(a.jsx)(L.a,{primary:e.email})]})})),Object(a.jsx)(w.a,{open:!!i,children:!!i&&Object(a.jsxs)(S.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[Object(a.jsx)(y.a,{value:i.email,onChange:function(e){return u(Object(m.a)(Object(m.a)({},i),{},{email:e.target.value}))},label:"Email",style:{marginTop:"20px",width:"100%"}}),Object(a.jsxs)("div",{style:{marginTop:"50px"},children:[Object(a.jsx)(C.a,{onClick:j,children:"Save"}),Object(a.jsx)(C.a,{onClick:l,children:"Cancel"})]})]})})]}):null},se=n(70),oe=n(1340),ie=n(1338),ue=n(1341),je=n(1342),le=function(e){var t=e.data,n=Object(se.b)().logout,s=Object(r.useState)("project"),l=Object(c.a)(s,2),d=l[0],p=l[1];return Object(r.useEffect)((function(){"logout"===d&&(p("project"),n())}),[d]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(oe.a,{children:Object(a.jsx)(u.a,{children:Object(a.jsx)(j.a,{variant:"h6",component:"div",children:"Dashboard -> ".concat("admin"===d?"Admins":"project"===d?"Projects":"General info")})})}),Object(a.jsxs)(i.a,{sx:{p:2,pb:7,pt:13},children:[Object(a.jsx)(o.a,{}),Object(a.jsx)(K,{data:t,menuTab:d}),Object(a.jsx)(re,{data:t,menuTab:d}),Object(a.jsx)(R,{data:t,menuTab:d}),Object(a.jsx)(ie.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(a.jsxs)(ue.a,{showLabels:!0,value:d,onChange:function(e,t){p(t)},children:[Object(a.jsx)(je.a,{label:"Projects",icon:Object(a.jsx)(O.a,{}),value:"project"}),Object(a.jsx)(je.a,{label:"Info",icon:Object(a.jsx)(x.a,{}),value:"constant"}),Object(a.jsx)(je.a,{label:"Admins",icon:Object(a.jsx)(h.a,{}),value:"admin"}),Object(a.jsx)(je.a,{label:"Logout",icon:Object(a.jsx)(b.a,{}),value:"logout"})]})})]})]})},be=n(89);t.default=function(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)(null),i=Object(c.a)(o,2),u=i[0],j=i[1],l=Object(r.useState)(null),b=Object(c.a)(l,2),d=b[0],O=b[1];return Object(r.useEffect)((function(){A.a.getProject().then((function(e){O(e.data)})),Z.getAdmin().then((function(e){j(e.data)})),Q.a.getConstant().then((function(e){e.data?s(e.data):s({})})).catch((function(){s({})}))}),[]),Object(a.jsx)(be.a,{loading:!n||!u||!d,children:Object(a.jsx)(le,{data:{constant:n,setConstant:s,admins:u,setAdmins:j,projects:d,setProjects:O}})})}},529:function(e,t,n){"use strict";var a=n(145),c=n(146),r=n(43),s=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getProject",value:function(e){return r.a.get("/projects".concat(e?"/"+e:""))}},{key:"getFeaturedProject",value:function(){return r.a.get("/projects/__featured__")}},{key:"saveProject",value:function(e,t){return r.a.put("/projects/".concat(e),t)}},{key:"createProject",value:function(e){return r.a.post("/projects",e)}},{key:"deleteProject",value:function(e){return r.a.delete("/projects/".concat(e))}}]),e}();t.a=new s},562:function(e,t,n){"use strict";var a=n(145),c=n(146),r=n(43),s=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getConstant",value:function(){return r.a.get("/constant")}},{key:"saveConstant",value:function(e){return r.a.put("/constant",e)}}]),e}();t.a=new s}}]);
//# sourceMappingURL=7.bfba284b.chunk.js.map