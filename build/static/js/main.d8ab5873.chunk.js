(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[2],{140:function(e,t,n){"use strict";var a=n(32),i=n(8),c=n(9),r=n(25),o=n.n(r),l=n(42),s=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(){var e=Object(a.a)(o.a.mark((function e(t,n){var a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/auth/login",{email:t,password:n});case 2:return a=e.sent,i=a.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"googleLogin",value:function(){var e=Object(a.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/auth/google",{token:t});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("expiresAt")}},{key:"forgotPassword",value:function(e){return l.a.post("/auth/forgot-password",{email:e})}},{key:"checkToken",value:function(e,t){return l.a.post("auth/check-token",{token:e,email:t})}},{key:"resetPassword",value:function(e,t,n,a){return l.a.post("auth/reset-password",{token:e,email:t,password:n,password2:a})}},{key:"register",value:function(e,t,n){return l.a.post("auth/signup",{username:e,email:t,password:n})}},{key:"getCurrentUser",value:function(){return l.a.get("/users/profile")}}]),e}();t.a=new s},228:function(e,t,n){"use strict";var a,i,c=n(4),r=n(6),o=n(28),l=n(1),s=(n(341),n(226)),d=n.n(s),u=n(29),j=n(178),b=n.n(j),p=n(3),x=u.a.div(a||(a=Object(o.a)(["\n  top: 0px;\n  bottom: ",";\n  left: 0px;\n  right: 0px;\n  padding: 50px 10px 10px;\n  position: absolute;\n  visibility: ",";\n"])),(function(e){return e.isPage?0:"50px"}),(function(e){return e.open?"visible":"hidden"})),h=u.a.div(i||(i=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  height: 100%;\n"])));t.a=function(e){var t,n=e.project,a=e.activeUI,i=e.uiData,o=e.open,s=Object(l.useState)(""),u=Object(r.a)(s,2),j=u[0],O=u[1],m=Object(l.useState)(0),f=Object(r.a)(m,2),v=f[0],g=f[1],y=Object(l.useState)({}),w=Object(r.a)(y,2),k=w[0],I=w[1],C=Object(l.useRef)();Object(l.useEffect)((function(){g(0)}),[j]);var S=function(){C.current&&I({width:C.current.clientWidth,height:C.current.clientHeight})};if(Object(l.useEffect)((function(){window.addEventListener("resize",S),S()}),[]),!n)return null;var P=n.media,D=(null===P||void 0===P?void 0:P.filter((function(e){return!j||j===e.type})).map((function(e,t){return"video"!==e.type?Object(c.a)(Object(c.a)({},e),{},{original:e.url,thumbnail:e.thumbnail,description:e.name,originalClass:"featured-slide",thumbnailClass:"featured-thumb"}):e.vimeo?Object(c.a)(Object(c.a)({},e),{},{index:t,thumbnail:e.url,renderItem:function(t){return v===t.index?Object(p.jsx)("div",{style:{paddingTop:"56.25%"},children:Object(p.jsx)(b.a,{url:e.url,controls:!0,width:"100%",height:"100%",playsinline:!0,style:{position:"absolute",top:0,left:0}})}):null},renderThumbInner:function(t){return Object(p.jsxs)("div",{style:{position:"relative"},children:[Object(p.jsx)(b.a,{url:e.url,width:"100%",height:"100%"}),Object(p.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0}})]})}}):Object(c.a)(Object(c.a)({},e),{},{index:t,thumbnail:e.url,renderItem:function(t){return v===t.index?Object(p.jsxs)("video",{controls:!0,preload:"auto",autoPlay:!0,muted:!0,style:{width:"100%",height:"100%"},children:[Object(p.jsx)("source",{src:e.url,type:"video/mp4"}),Object(p.jsxs)("p",{class:"vjs-no-js",children:["To view this video please enable JavaScript, and consider upgrading to a web browser that",Object(p.jsx)("a",{href:"https://videojs.com/html5-video-support/",target:"_blank",rel:"noreferrer",children:"supports HTML5 video"})]})]}):null},renderThumbInner:function(t){return Object(p.jsxs)("div",{style:{position:"relative"},children:[Object(p.jsxs)("video",{id:"my-player",class:"video-js",controls:!0,"data-setup":"{}",style:{width:"100%",height:"100%"},children:[Object(p.jsx)("source",{src:e.url,type:"video/mp4"}),Object(p.jsxs)("p",{class:"vjs-no-js",children:["To view this video please enable JavaScript, and consider upgrading to a web browser that",Object(p.jsx)("a",{href:"https://videojs.com/html5-video-support/",target:"_blank",rel:"noreferrer",children:"supports HTML5 video"})]})]}),Object(p.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0}})]})}})})).filter((function(e){return e})))||[],U=function(e){O(e===j?"":e)};return Object(p.jsx)(x,{ref:C,open:a.includes("gallery")||o,isPage:o,style:{backgroundColor:((null===i||void 0===i||null===(t=i.background)||void 0===t?void 0:t.hex)||"#000000")+"CC"},children:Object(p.jsxs)(h,{children:[Object(p.jsxs)("div",{className:"buttons",children:[Object(p.jsx)("div",{onClick:function(){return U("photo")},className:"photo"===j?"active":void 0,children:Object(p.jsx)("img",{src:"/gallery/photo.png"})}),Object(p.jsx)("div",{onClick:function(){return U("plan")},className:"plan"===j?"active":void 0,children:Object(p.jsx)("img",{src:"/gallery/plan.png"})}),Object(p.jsx)("div",{onClick:function(){return U("video")},className:"video"===j?"active":void 0,children:Object(p.jsx)("img",{src:"/gallery/video.png"})})]}),Object(p.jsx)(d.a,{items:D,showBullets:!1,showFullscreenButton:!1,showPlayButton:!1,thumbnailPosition:k.height>k.width?"bottom":"right",onSlide:g,startIndex:v})]})})}},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return Et})),n.d(t,"b",(function(){return Ft}));var a,i,c,r,o,l,s,d,u,j,b,p,x,h,O,m,f,v,g,y,w,k,I,C,S,P,D,U,T,A,E,F,N,L,z,M,V,B,R,W,H,K,q,_,G,Y=n(4),J=n(6),X=n(28),$=n(1),Q=n(29),Z=n(5),ee=n(639),te=n(65),ne=n(634),ae=n(628),ie=n(161),ce=n(375),re=n(633),oe=n(3),le=Object(Q.a)(te.a)(a||(a=Object(X.a)(["\n  position: absolute;\n  top: 0px;\n\n  ","\n  z-index: 1;\n"])),(function(e){return"left"===e.adminSide?"left: -15px;":"right: -15px;"})),se=Q.a.div(i||(i=Object(X.a)(["\n  position: absolute;\n  inset: 0;\n  background-color: rgba(83, 72, 4, 0.6);\n"]))),de=function(e){var t,n=e.uiData,a=e.setUiData,i=e.name,c=e.button,r=e.hideControls,o=e.adminSide,l=Object($.useState)(!1),s=Object(J.a)(l,2),d=s[0],u=s[1];return Object(oe.jsxs)(oe.Fragment,{children:[(null===(t=n[i])||void 0===t?void 0:t.hide)&&Object(oe.jsx)(se,{}),!r&&Object(oe.jsx)(le,{type:"primary",shape:"circle",icon:Object(oe.jsx)(ee.a,{}),onClick:function(){u(!0)},adminSide:o}),Object(oe.jsx)(ne.a,{title:i,open:d,footer:null,destroyOnClose:!0,onCancel:function(){return u(!1)},children:Object(oe.jsxs)(ae.a,{labelCol:{span:8},wrapperCol:{span:16},onFinish:function(e){a((function(t){return Object(Y.a)(Object(Y.a)({},t),{},Object(Z.a)({},i,Object(Y.a)(Object(Y.a)({},t[i]||{}),e)))})),u(!1)},initialValues:n[i]||{},children:[Object(oe.jsx)(ae.a.Item,{label:"Hide",name:"hide",valuePropName:"checked",children:Object(oe.jsx)(ie.a,{})}),Object(oe.jsx)(ae.a.Item,{label:"Label",name:"label",children:Object(oe.jsx)(ce.a,{})}),!c&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(ae.a.Item,{label:"Min",name:"min",children:Object(oe.jsx)(re.a,{})}),Object(oe.jsx)(ae.a.Item,{label:"Max",name:"max",children:Object(oe.jsx)(re.a,{})}),Object(oe.jsx)(ae.a.Item,{label:"Step",name:"step",children:Object(oe.jsx)(re.a,{})}),Object(oe.jsx)(ae.a.Item,{label:"Default",name:"default",children:Object(oe.jsx)(re.a,{})})]}),Object(oe.jsx)(ae.a.Item,{wrapperCol:{offset:8,span:16},children:Object(oe.jsx)(te.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]})},ue=n(138),je=n(122),be=n(288),pe=n(179),xe=n(367),he=(n(341),n(226)),Oe=n.n(he),me=Q.a.div(c||(c=Object(X.a)(["\n  cursor: pointer;\n  padding: 5px 5px 0px;\n  font-size: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  user-select: none;\n  ","\n  > p {\n    font-size: 11px;\n    margin: 0;\n    margin-top: 5px;\n    text-transform: uppercase;\n    white-space: nowrap;\n  }\n"])),(function(e){return null===Ft||void 0===Ft?void 0:Ft(e)})),fe=function(e){var t,n,a=e.activeUI,i=e.title,c=e.icon,r=e.onUnclick,o=e.onClick,l=e.visible,s=e.admin,d=e.uiData,u=e.setUiData,j=e.name,b=e.hideControls,p=e.hideHidden,x=e.adminSide,h=null===a||void 0===a?void 0:a.includes(j||i),O=(null===a||void 0===a?void 0:a.filter((function(e){return l.includes(e)})).length)||s;null===d||void 0===d||null===(t=d[j])||void 0===t||!t.hide||!p&&s||(O=!1);var m=(null===d||void 0===d||null===(n=d[j])||void 0===n?void 0:n.label)||i;return O?Object(oe.jsxs)("div",{style:{position:"relative"},children:[Object(oe.jsxs)(me,{onClick:h?r:o,isActive:h,uiData:d,children:[c,m&&Object(oe.jsx)("p",{children:m})]}),s&&Object(oe.jsx)(de,{uiData:d,setUiData:u,name:j,button:!0,hideControls:b,adminSide:x})]}):null},ve=Q.a.div(r||(r=Object(X.a)(["\n  top: 00px;\n  bottom: 50px;\n  left: 0px;\n  right: 0px;\n  padding: 50px 10px 10px;\n  position: absolute;\n\n  visibility: ",";\n  z-index: 1;\n"])),(function(e){return e.open?"visible":"hidden"})),ge=Q.a.div(o||(o=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),ye=function(e){var t,n=e.project,a=(e.activeUI,e.uiData),i=(e.setActiveUI,e.onClose),c=Object($.useState)(0),r=Object(J.a)(c,2),o=r[0],l=r[1],s=Object($.useState)({}),d=Object(J.a)(s,2),u=d[0],j=d[1],b=Object($.useRef)(),p=function(){b.current&&j({width:b.current.clientWidth,height:b.current.clientHeight})};if(Object($.useEffect)((function(){window.addEventListener("resize",p),p()}),[]),!n)return null;var x=n.media,h=(null===x||void 0===x?void 0:x.filter((function(e){return"plan"===e.type})).map((function(e,t){return Object(Y.a)(Object(Y.a)({},e),{},{original:e.url,thumbnail:e.thumbnail,description:e.name,originalClass:"featured-slide",thumbnailClass:"featured-thumb"})})).filter((function(e){return e})))||[];return Object(oe.jsx)(ve,{ref:b,open:!0,style:{backgroundColor:((null===a||void 0===a||null===(t=a.background)||void 0===t?void 0:t.hex)||"#000000")+"CC"},children:Object(oe.jsxs)(ge,{children:[Object(oe.jsx)("div",{style:{display:"flex"},children:Object(oe.jsx)(me,{type:"text",onClick:i,children:Object(oe.jsx)(je.a,{size:30})})}),Object(oe.jsx)(Oe.a,{items:h,showBullets:!1,showFullscreenButton:!1,showPlayButton:!1,thumbnailPosition:u.height>u.width?"bottom":"right",onSlide:l,startIndex:o})]})})},we=n(366),ke=n.n(we),Ie=Q.a.div(l||(l=Object(X.a)(["\n  inset: 0;\n  position: absolute;\n  z-index: ",";\n"])),(function(e){return e.admin?0:1e4})),Ce=Q.a.div(s||(s=Object(X.a)(["\n  bottom: 60px;\n  left: 0px;\n  right: 0px;\n  position: absolute;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  visibility: ",";\n"])),(function(e){return e.open?"visible":"hidden"})),Se=Q.a.div(d||(d=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-x: auto;\n  white-space: nowrap;\n  justify-content: end;\n  align-items: center;\n"]))),Pe=Q.a.div(u||(u=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-x: auto;\n  white-space: nowrap;\n  justify-content: end;\n  width: 100%;\n  max-width: 600px;\n"]))),De=Q.a.div(j||(j=Object(X.a)(["\n  border-radius: 5px;\n  padding: 15px 20px;\n  display: flex;\n  flex-direction: column;\n"]))),Ue=Q.a.div(b||(b=Object(X.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: space-between;\n"]))),Te=Q.a.div(p||(p=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 200px;\n"]))),Ae=Q.a.div(x||(x=Object(X.a)(["\n  font-size: 30px;\n  white-space: normal;\n  @media only screen and (max-width: 768px) {\n    font-size: 20px;\n  }\n"]))),Ee=Q.a.div(h||(h=Object(X.a)(["\n  font-size: 26px;\n  @media only screen and (max-width: 768px) {\n    font-size: 20px;\n  }\n"]))),Fe=Q.a.div(O||(O=Object(X.a)(["\n  font-size: 16px;\n  text-transform: capitalize;\n"]))),Ne=Q.a.div(m||(m=Object(X.a)(["\n  margin-top: 20px;\n  font-size: 16px;\n  white-space: normal;\n"]))),Le=Q.a.div(f||(f=Object(X.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  margin-top: 20px;\n  overflow-x: auto;\n"]))),ze=Q.a.div(v||(v=Object(X.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin: 0 10px;\n"]))),Me=Q.a.div(g||(g=Object(X.a)(["\n  margin-left: 10px;\n"]))),Ve=Q.a.div(y||(y=Object(X.a)(["\n  border-radius: 5px;\n  color: white;\n  padding: 15px 20px;\n  margin-top: 5px;\n  overflow: auto;\n"]))),Be=Q.a.div(w||(w=Object(X.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),Re=Q.a.div(k||(k=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 5px;\n  margin: 0 10px;\n  cursor: pointer;\n\n  ",";\n"])),(function(e){return null===Ft||void 0===Ft?void 0:Ft(e)})),We=Q.a.div(I||(I=Object(X.a)(["\n  margin-top: 5px;\n"]))),He=Q.a.div(C||(C=Object(X.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: start;\n"]))),Ke=function(e){var t,n=e.icon,a=e.admin,i=e.uiData,c=e.setUiData,r=e.name,o=e.hideHidden,l=e.hideControls,s=e.children;return null===i||void 0===i||null===(t=i[r])||void 0===t||!t.hide||!o&&a?Object(oe.jsxs)("div",{style:{position:"relative"},children:[Object(oe.jsxs)(ze,{children:[n,Object(oe.jsx)(Me,{children:s})]}),a&&Object(oe.jsx)(de,{uiData:i,setUiData:c,name:r,button:!0,hideControls:l})]}):null},qe=function(e){var t,n,a=e.onClick,i=e.admin,c=e.uiData,r=e.setUiData,o=e.name,l=e.label,s=e.hideHidden,d=e.hideControls,u=e.icon;return null===c||void 0===c||null===(t=c[o])||void 0===t||!t.hide||!s&&i?Object(oe.jsxs)("div",{style:{position:"relative"},children:[Object(oe.jsxs)(Re,{onClick:a,uiData:c,children:[u,Object(oe.jsx)(We,{children:(null===c||void 0===c||null===(n=c[o])||void 0===n?void 0:n.label)||l})]}),i&&Object(oe.jsx)(de,{uiData:c,setUiData:r,name:o,button:!0,hideControls:d})]}):null},_e=function(e){var t,n=e.admin,a=e.uiData,i=e.setUiData,c=e.name,r=e.children,o=e.hideHidden,l=e.hideControls;return null===a||void 0===a||null===(t=a[c])||void 0===t||!t.hide||!o&&n?Object(oe.jsxs)("div",{style:{position:"relative"},children:[r,n&&Object(oe.jsx)(de,{uiData:a,setUiData:i,name:c,button:!0,hideControls:l})]}):null},Ge=function(e){var t,n,a,i,c,r,o=e.emitUIInteraction,l=e.setActiveUI,s=e.activeUI,d=e.chosenApratment,u=e.project,j=e.admin,b=Object($.useState)(!1),p=Object(J.a)(b,2),x=p[0],h=p[1],O=j?{Name:"Apartment name",Price:15e4,FacadeName:"Facade name",BedroomsCount:4,BathroomsCount:5,Surface:150,Frontage:30,Depth:15,URLPlan:"asdsa",URLVirtualTour:"sdads",Url:"https://google.com"}:(null===u||void 0===u?void 0:u.properties)&&u.properties.find((function(e){return parseInt(e.id)===parseInt(d)})),m=j?s.includes("apartment"):O&&parseInt(d)>=-1;return Object($.useEffect)((function(){m&&s.length&&!j&&l([s[0]])}),[m]),m?Object(oe.jsxs)(Ie,{style:j?{pointerEvents:"none"}:{backgroundColor:((null===(t=e.uiData)||void 0===t||null===(n=t.background)||void 0===n?void 0:n.hex)||"#000000")+"77"},admin:j,children:[Object(oe.jsx)(Ce,{open:m,children:Object(oe.jsx)(Se,{children:Object(oe.jsxs)(Pe,{children:[Object(oe.jsxs)(De,{style:{backgroundColor:(null===(a=e.uiData)||void 0===a||null===(i=a.background)||void 0===i?void 0:i.hex)||"black"},children:[Object(oe.jsx)(He,{children:Object(oe.jsx)(Re,{onClick:function(){return j?l(s.filter((function(e){return"apartment"!==e}))):null===o||void 0===o?void 0:o({HideApartmentInfo:!0})},uiData:e.uiData,children:Object(oe.jsx)(pe.a,{size:30})})}),Object(oe.jsx)(Ue,{children:Object(oe.jsxs)(Te,{children:[Object(oe.jsx)(_e,Object(Y.a)(Object(Y.a)({},e),{},{name:"apartmentName",children:Object(oe.jsx)(Ae,{children:O.Name})})),Object(oe.jsx)(_e,Object(Y.a)(Object(Y.a)({},e),{},{name:"apartmentPrice",children:Object(oe.jsx)(Ee,{children:ke()({prefix:"$"})(O.Price)})})),Object(oe.jsx)(_e,Object(Y.a)(Object(Y.a)({},e),{},{name:"apartmentAvailability",children:Object(oe.jsx)(Fe,{children:O.Availability})})),Object(oe.jsx)(_e,Object(Y.a)(Object(Y.a)({},e),{},{name:"aprtmentFacadeName",children:Object(oe.jsx)(Ne,{children:O.FacadeName})}))]})}),Object(oe.jsxs)(Le,{children:[Object(oe.jsx)(_e,Object(Y.a)(Object(Y.a)({},e),{},{name:"BedStat",children:Object(oe.jsx)(Ke,Object(Y.a)(Object(Y.a)({},e),{},{name:"BedStat",icon:Object(oe.jsx)(ue.b,{size:30}),children:"".concat(O.BedroomsCount," beds")}))})),Object(oe.jsx)(_e,Object(Y.a)(Object(Y.a)({},e),{},{name:"BathStat",children:Object(oe.jsx)(Ke,Object(Y.a)(Object(Y.a)({},e),{},{name:"BathStat",icon:Object(oe.jsx)(ue.a,{size:30}),children:"".concat(O.BathroomsCount," baths")}))})),Object(oe.jsx)(_e,Object(Y.a)(Object(Y.a)({},e),{},{name:"SurfaceStat",children:Object(oe.jsx)(Ke,Object(Y.a)(Object(Y.a)({},e),{},{name:"SurfaceStat",icon:Object(oe.jsx)(je.b,{size:30}),children:"".concat(O.Surface," m2")}))})),Object(oe.jsx)(_e,Object(Y.a)(Object(Y.a)({},e),{},{name:"FrontageStat",children:Object(oe.jsx)(Ke,Object(Y.a)(Object(Y.a)({},e),{},{name:"FrontageStat",icon:Object(oe.jsx)(be.a,{size:30}),children:"".concat(O.Frontage," m")}))})),Object(oe.jsx)(_e,Object(Y.a)(Object(Y.a)({},e),{},{name:"DepthStat",children:Object(oe.jsx)(Ke,Object(Y.a)(Object(Y.a)({},e),{},{name:"DepthStat",icon:Object(oe.jsx)(be.a,{size:30,style:{transform:"rotate(90deg)"}}),children:"".concat(O.Depth," m")}))}))]})]}),Object(oe.jsx)(Ve,{style:{backgroundColor:(null===(c=e.uiData)||void 0===c||null===(r=c.background)||void 0===r?void 0:r.hex)||"black"},children:Object(oe.jsxs)(Be,{children:[Object(oe.jsx)(qe,Object(Y.a)(Object(Y.a)({},e),{},{icon:Object(oe.jsx)(ue.c,{size:30}),onClick:function(){return window.open(O.URLPlan,"_blank").focus()},label:"3D Tour",name:"TDTour"})),Object(oe.jsx)(qe,Object(Y.a)(Object(Y.a)({},e),{},{icon:Object(oe.jsx)(ue.c,{size:30}),onClick:function(){return window.open(O.URLVirtualTour,"_blank").focus()},label:"Virtual tour",name:"VTour"})),Object(oe.jsx)(qe,Object(Y.a)(Object(Y.a)({},e),{},{icon:Object(oe.jsx)(xe.a,{size:30}),onClick:function(){return h(!0)},label:"Floor plan",name:"FloorPlan"})),Object(oe.jsx)(qe,Object(Y.a)(Object(Y.a)({},e),{},{icon:Object(oe.jsx)(pe.b,{size:30}),onClick:function(){return window.open(O.Url,"_blank").focus()},label:"Property info",name:"PropertyInfo"}))]})})]})})}),x&&Object(oe.jsx)(ye,Object(Y.a)(Object(Y.a)({},e),{},{onClose:function(){return h(!1)}}))]}):null},Ye=n(12),Je=n(378),Xe=n(631),$e=n(227),Qe=Q.a.div(S||(S=Object(X.a)(["\n  top: 20px;\n  bottom: 60px;\n  left: 0;\n  right: 0;\n  position: absolute;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  visibility: ",";\n  pointer-events: none;\n"])),(function(e){return e.open?"visible":"hidden"})),Ze=Q.a.div(P||(P=Object(X.a)(["\n  width: 100%;\n  padding: 70px 30px 20px;\n  max-height: 100%;\n  max-width: 600px;\n  overflow: auto;\n  overflow-x: hidden;\n  pointer-events: all;\n  position: relative;\n"]))),et=Q.a.div(D||(D=Object(X.a)(["\n  position: absolute;\n  right: 0px;\n  top: 20px;\n"]))),tt=function(e){var t=e.options,n=e.value,a=e.onChange,i=e.emitUIInteraction;return t.map((function(e){var t=e.value,c=e.label;return Object(oe.jsx)(Je.a.CheckableTag,{onClick:function(){null!==n&&void 0!==n&&n.includes(t)?a(n.filter((function(e){return e!==t}))):a([].concat(Object(Ye.a)(n||[]),[t])),i(t)},checked:null===n||void 0===n?void 0:n.includes(t),style:{color:"white"},children:c||t},t)}))},nt=function(e){var t,n,a=e.activeUI,i=e.emitUIInteraction,c=e.admin,r=e.uiData,o=e.setUiData,l=e.hideHidden,s=e.hideControls,d=null===a||void 0===a?void 0:a.includes("filter"),u=ae.a.useForm(),j=Object(J.a)(u,1)[0],b=Object($.useState)({}),p=Object(J.a)(b,2),x=p[0],h=p[1];return Object(oe.jsx)(Qe,{open:d,children:Object(oe.jsxs)(Ze,{style:{backgroundColor:((null===(t=e.uiData)||void 0===t||null===(n=t.background)||void 0===n?void 0:n.hex)||"#000000")+"CC"},children:[d&&Object(oe.jsxs)(et,{children:[Object(oe.jsx)(te.a,{htmlType:"button",style:{margin:"0 8px"},type:"link",onClick:function(){j.resetFields(),null===i||void 0===i||i({ResetFilters:!0})},children:Object(oe.jsx)($e.b,{size:30,color:"white"})}),Object(oe.jsx)(te.a,{onClick:function(){return e.setActiveUI(["exterior"])},type:"link",children:Object(oe.jsx)(je.a,{size:30,color:"white"})})]}),Object(oe.jsx)(ae.a,{layout:"vertical",form:j,initialValues:{Orientation:["N","E","S","W"],Availability:["Available","Reserved","Sold"]},onValuesChange:h,children:[{name:"Budget",label:"Budget",type:"range",min:0,max:5e6,step:1e4},{name:"Size",label:"Size",type:"range",min:0,max:100,step:1},{name:"Bedrooms",label:"Bedrooms",type:"range",min:0,max:5,step:.5},{name:"Bathrooms",label:"Bathrooms",type:"range",min:0,max:3,step:.5},{name:"Availability",label:"Availability",type:"selectMulti",options:[{value:"Available"},{value:"Reserved"},{value:"Sold"}]},{name:"Orientation",label:"Orientation",type:"selectMulti",options:[{value:"N"},{value:"E"},{value:"S"},{value:"W"}]},{name:"Depth",label:"Depth",type:"range",min:0,max:100,step:.5},{name:"Frontage",label:"Frontage",type:"range",min:0,max:100,step:.5}].map((function(e){var t,n,a,u,j,b=e.name,p=e.label,h=e.type,O=e.defaultValue,m=e.min,f=e.max,v=e.step,g=e.options,y=(null===r||void 0===r||null===(t=r[b])||void 0===t?void 0:t.label)||p;return"range"===h&&(y="".concat(y,": more than ").concat(x[b]||0)),null===r||void 0===r||null===(n=r[b])||void 0===n||!n.hide||!l&&c?Object(oe.jsxs)("div",{style:{position:"relative"},children:[Object(oe.jsx)(ae.a.Item,{name:b,label:Object(oe.jsx)("label",{style:{color:"white"},children:y}),children:d?"range"===h?Object(oe.jsx)(Xe.a,{defaultValue:O||[m,f],min:(null===r||void 0===r||null===(a=r[b])||void 0===a?void 0:a.min)||m,max:(null===r||void 0===r||null===(u=r[b])||void 0===u?void 0:u.max)||f,step:(null===r||void 0===r||null===(j=r[b])||void 0===j?void 0:j.step)||v,onChange:function(e){null===i||void 0===i||i(Object(Z.a)({},b,e))}}):Object(oe.jsx)(tt,{options:g,defaultValue:O,emitUIInteraction:function(e){return null===i||void 0===i?void 0:i(Object(Z.a)({},e,!0))}}):null}),c&&Object(oe.jsx)(de,{uiData:r,setUiData:o,name:b,button:"range"!==h,hideControls:s})]}):null}))})]})})},at=n(228),it=Q.a.div(U||(U=Object(X.a)(["\n  bottom: 60px;\n  left: 0px;\n  right: 0px;\n  position: absolute;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  visibility: ",";\n"])),(function(e){return e.open?"visible":"hidden"})),ct=Q.a.div(T||(T=Object(X.a)(["\n  display: flex;\n  flex: 1;\n  overflow-x: auto;\n  justify-content: center;\n"]))),rt=Q.a.div(A||(A=Object(X.a)(["\n  border-radius: 5px;\n  color: white;\n  margin: 0 6px;\n  padding: 5px 10px;\n  white-space: nowrap;\n  cursor: pointer;\n"]))),ot=function(e){var t=e.emitUIInteraction,n=e.activeUI,a=e.project,i=null===n||void 0===n?void 0:n.includes("location");return Object(oe.jsx)(it,{open:i,children:Object(oe.jsx)(ct,{children:Object(Ye.a)(Array((null===a||void 0===a?void 0:a.levelsCount)||0)).map((function(n,a){var i,c;return Object(oe.jsx)(rt,{onClick:function(){null===t||void 0===t||t({Location:a})},style:{backgroundColor:(null===(i=e.uiData)||void 0===i||null===(c=i.background)||void 0===c?void 0:c.hex)||"#000000"},children:"Level ".concat(a)})}))})})},lt=Q.a.div(E||(E=Object(X.a)(["\n  bottom: 60px;\n  left: 0;\n  right: 0;\n  position: absolute;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  visibility: ",";\n"])),(function(e){return e.open?"visible":"hidden"})),st=Q.a.table(F||(F=Object(X.a)(["\n  width: 100%;\n  border-collapse: separate;\n  border-spacing: 0 3px;\n  color: white;\n  max-width: 300px;\n"]))),dt=Q.a.tr(N||(N=Object(X.a)(["\n  margin: 5px 0;\n  border-radius: 5px;\n  position: relative;\n  td {\n    padding: 5px;\n  }\n  td:first-child {\n    border-top-left-radius: 5px;\n  }\n  td:last-child {\n    border-top-right-radius: 5px;\n  }\n\n  td:first-child {\n    border-bottom-left-radius: 5px;\n  }\n  td:last-child {\n    border-bottom-right-radius: 5px;\n  }\n"]))),ut=Q.a.td(L||(L=Object(X.a)(["\n  text-align: right;\n"]))),jt=Q.a.td(z||(z=Object(X.a)(["\n  width: 100%;\n"]))),bt=Q.a.td(M||(M=Object(X.a)(["\n  text-align: left;\n"]))),pt=function(e){var t,n,a,i,c,r,o,l,s,d,u,j,b=e.emitUIInteraction,p=e.activeUI,x=e.admin,h=e.uiData,O=e.setUiData,m=e.hideHidden,f=e.hideControls,v=null===p||void 0===p?void 0:p.includes("sun");return Object(oe.jsx)(lt,{open:v,children:Object(oe.jsx)(st,{children:Object(oe.jsxs)("tbody",{children:[null===h||void 0===h||null===(t=h.time)||void 0===t||!t.hide||!m&&x?Object(oe.jsxs)(dt,{style:{backgroundColor:((null===h||void 0===h||null===(n=h.background)||void 0===n?void 0:n.hex)||"#000000")+"CC"},children:[Object(oe.jsx)(ut,{children:"".concat((null===h||void 0===h||null===(a=h.time)||void 0===a?void 0:a.min)||0,":00")}),Object(oe.jsx)(jt,{children:Object(oe.jsx)(Xe.a,{onChange:function(e){null===b||void 0===b||b({Time:e})},min:(null===h||void 0===h||null===(i=h.time)||void 0===i?void 0:i.min)||0,max:(null===h||void 0===h||null===(c=h.time)||void 0===c?void 0:c.max)||23,step:(null===h||void 0===h||null===(r=h.time)||void 0===r?void 0:r.step)||1,tooltip:{formatter:function(e){return"".concat(e,":00")}}})}),Object(oe.jsx)(bt,{children:"".concat((null===h||void 0===h||null===(o=h.time)||void 0===o?void 0:o.max)||23,":00")}),x&&Object(oe.jsx)(de,{uiData:h,setUiData:O,name:"time",hideControls:f})]}):null,null===h||void 0===h||null===(l=h.position)||void 0===l||!l.hide||!m&&x?Object(oe.jsxs)(dt,{style:{backgroundColor:((null===h||void 0===h||null===(s=h.background)||void 0===s?void 0:s.hex)||"#000000")+"CC"},children:[Object(oe.jsx)(ut,{children:"S"}),Object(oe.jsx)(jt,{children:Object(oe.jsx)(Xe.a,{tooltip:{open:!1},onChange:function(e){null===b||void 0===b||b({SunPosition:e})},min:(null===h||void 0===h||null===(d=h.position)||void 0===d?void 0:d.min)||0,max:(null===h||void 0===h||null===(u=h.position)||void 0===u?void 0:u.max)||360,step:(null===h||void 0===h||null===(j=h.position)||void 0===j?void 0:j.step)||1})}),Object(oe.jsx)(bt,{children:"N"}),x&&Object(oe.jsx)(de,{uiData:h,setUiData:O,name:"position",hideControls:f})]}):null]})})})},xt=n(647),ht=n(648),Ot=n(155),mt=n(240),ft=n(101),vt=Q.a.div(V||(V=Object(X.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n  height: 100%;\n  position: relative;\n  > * {\n    margin: 0px 10px;\n  }\n"]))),gt=function(e){var t=e.activeUI,n=e.setActiveUI,a=e.emitUIInteraction,i=e.admin;return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(vt,{children:[Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"home",icon:Object(oe.jsx)(xt.a,{}),onClick:function(){n(["exterior"]),null===a||void 0===a||a({Home:!0})},visible:["exterior"],name:"home"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"gallery",icon:Object(oe.jsx)(ht.a,{}),onClick:function(){null===a||void 0===a||a({Gallery:!0}),n([t[0],"gallery"])},onUnclick:function(){null===a||void 0===a||a({Gallery:!0}),n([t[0]])},visible:["exterior","interior"],name:"gallery"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"nearby",icon:Object(oe.jsx)(ft.g,{}),onClick:function(){n([t[0],"nearby"]),null===a||void 0===a||a({Nearby:!0})},onUnclick:function(){n([t[0]]),null===a||void 0===a||a({Nearby:!0})},visible:["exterior"],name:"nearby"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"filter",icon:Object(oe.jsx)(Ot.a,{}),onClick:function(){n([t[0],"filter"]),null===a||void 0===a||a({Filter:!0})},onUnclick:function(){n([t[0]]),null===a||void 0===a||a({Filter:!0})},visible:["exterior"],name:"filter"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"materials",icon:Object(oe.jsx)(ft.a,{}),onClick:function(){n([t[0],"materials"]),null===a||void 0===a||a({Materials:!0})},onUnclick:function(){n([t[0]]),null===a||void 0===a||a({Materials:!0})},visible:["interior"],name:"materials"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"teleport",icon:Object(oe.jsx)(ft.c,{}),onClick:function(){n([t[0],"teleport"]),null===a||void 0===a||a({Teleport:!0})},onUnclick:function(){n([t[0]]),null===a||void 0===a||a({Teleport:!0})},visible:["interior"],name:"teleport"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"info",icon:Object(oe.jsx)(ft.e,{}),onClick:function(){n([t[0],"info"]),null===a||void 0===a||a({InteriorInfo:!0})},onUnclick:function(){n([t[0]]),null===a||void 0===a||a({InteriorInfo:!0})},visible:["interior"],name:"info"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"discover",icon:Object(oe.jsx)($e.a,{}),onClick:function(){n([t[0],"discover"]),null===a||void 0===a||a({Discover:!0})},onUnclick:function(){n([t[0]]),null===a||void 0===a||a({Discover:!0})},visible:["exterior"],name:"discover"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"level",icon:Object(oe.jsx)(ft.b,{}),onClick:function(){null===a||void 0===a||a({Level:!0}),n([t[0],"location"])},onUnclick:function(){null===a||void 0===a||a({Level:!0}),n([t[0]])},visible:["exterior","interior"],name:"location"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"rooms",icon:Object(oe.jsx)(pe.c,{}),onClick:function(){n([t[0],"rooms"]),null===a||void 0===a||a({Teleport:!0})},onUnclick:function(){n([t[0]]),null===a||void 0===a||a({Teleport:!0})},visible:["exterior","interior"],name:"roomsButton"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"sun",icon:Object(oe.jsx)(ft.d,{}),onClick:function(){null===a||void 0===a||a({Sun:!0}),n([t[0],"sun"])},onUnclick:function(){null===a||void 0===a||a({Sun:!0}),n([t[0]])},visible:["exterior","interior"],name:"sun"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"Floor plan",icon:Object(oe.jsx)(ft.f,{}),onClick:function(){n([t[0],"floorPlan"]),null===a||void 0===a||a({FloorPlan:!0})},onUnclick:function(){n([t[0]]),null===a||void 0===a||a({FloorPlan:!0})},visible:["interior"],name:"floorPlan"})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"Level view",icon:Object(oe.jsx)(ue.d,{}),onClick:function(){n([t[0],"levelView"]),null===a||void 0===a||a({LevelView:!0})},onUnclick:function(){n([t[0]]),null===a||void 0===a||a({LevelView:!0})},visible:["interior"],name:"levelView"})),i&&Object(oe.jsxs)(oe.Fragment,{children:[!e.uiData.onlyInterior&&Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"interior",icon:Object(oe.jsx)(mt.a,{}),onClick:function(){return n(["interior"])},onUnclick:function(){return n(["exterior"])},visible:["exterior","interior"],admin:!1})),Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({},e),{},{title:"apartment",icon:Object(oe.jsx)(mt.a,{}),onClick:function(){return n(["exterior","apartment"])},onUnclick:function(){return n(["exterior"])},visible:["exterior"],admin:!1}))]})]})})},yt=n(635),wt=Q.a.div(B||(B=Object(X.a)(['\n  position: absolute;\n  inset: 0;\n  background-color: black;\n  z-index: 99999999;\n  background-image: url("/images/how-to.png");\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: contain;\n']))),kt=Object(Q.a)(te.a)(R||(R=Object(X.a)(["\n  position: absolute;\n  left: 16px;\n  top: 16px;\n  z-index: 1;\n"]))),It=function(e){var t=Object($.useState)(),n=Object(J.a)(t,2),a=n[0],i=n[1];return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(fe,Object(Y.a)(Object(Y.a)({icon:Object(oe.jsx)(ft.h,{}),visible:["exterior","interior"]},e),{},{adminSide:"left",onClick:function(){return i(!0)},onUnclick:function(){return i(!1)}})),Object(oe.jsx)(yt.a,{visible:a,onClose:function(){return i(!1)},width:"100VW",title:"How to use IMMERSIV",forceRender:!0,children:Object(oe.jsx)(wt,{children:Object(oe.jsx)(kt,{onClick:function(){return i(!1)},type:"link",children:Object(oe.jsx)(je.a,{size:30,color:"white"})})})})]})},Ct=Q.a.div(W||(W=Object(X.a)(["\n  bottom: 60px;\n  left: 0px;\n  right: 0px;\n  position: absolute;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  visibility: ",";\n"])),(function(e){return e.open?"visible":"hidden"})),St=Q.a.div(H||(H=Object(X.a)(["\n  display: flexbox;\n  overflow-x: auto;\n  justify-content: center;\n"]))),Pt=Q.a.div(K||(K=Object(X.a)(["\n  border-radius: 5px;\n  color: white;\n  margin: 0 6px;\n  padding: 5px 10px;\n  white-space: nowrap;\n  cursor: pointer;\n"]))),Dt=function(e){var t=e.emitUIInteraction,n=e.activeUI,a=e.uiData,i=null===n||void 0===n?void 0:n.includes("rooms");return null!==a&&void 0!==a&&a.rooms?Object(oe.jsx)(Ct,{open:i,children:Object(oe.jsx)(St,{children:a.rooms.split("\n").map((function(n,a){var i,c;return Object(oe.jsx)(Pt,{onClick:function(){null===t||void 0===t||t({Room:a+1})},style:{backgroundColor:(null===(i=e.uiData)||void 0===i||null===(c=i.background)||void 0===c?void 0:c.hex)||"#000000"},children:n})}))})}):null},Ut=Q.a.div(q||(q=Object(X.a)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 50px;\n  display: flex;\n  overflow-x: auto;\n"]))),Tt=Q.a.div(_||(_=Object(X.a)(["\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n"]))),At=Q.a.div(G||(G=Object(X.a)(["\n  background: black;\n  margin-left: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0px 16px;\n"]))),Et=function(e){var t,n,a,i,c,r,o,l=Object($.useState)(["exterior"]),s=Object(J.a)(l,2),d=s[0],u=s[1],j=Object(Y.a)(Object(Y.a)({},e),{},{activeUI:d,setActiveUI:function(t){var n;null!==(n=e.uiData)&&void 0!==n&&n.onlyInterior&&t.includes("exterior")?u(["interior"]):u(t)}});return Object($.useEffect)((function(){var t;null!==(t=e.uiData)&&void 0!==t&&t.onlyInterior&&u(["interior"])}),[null===(t=e.uiData)||void 0===t?void 0:t.onlyInterior]),Object(oe.jsxs)("div",{style:{zIndex:1,color:(null===(n=e.uiData)||void 0===n||null===(a=n.textColor)||void 0===a?void 0:a.hex)||"white"},children:[Object(oe.jsxs)(Ut,{children:[Object(oe.jsx)(Tt,{style:{backgroundColor:(null===(i=e.uiData)||void 0===i||null===(c=i.background)||void 0===c?void 0:c.hex)||"black"},children:Object(oe.jsx)(gt,Object(Y.a)({},j))}),Object(oe.jsx)(At,{style:{backgroundColor:(null===(r=e.uiData)||void 0===r||null===(o=r.background)||void 0===o?void 0:o.hex)||"black"},children:Object(oe.jsx)(It,Object(Y.a)({},j))})]}),Object(oe.jsx)(nt,Object(Y.a)({},j)),Object(oe.jsx)(at.a,Object(Y.a)({},j)),Object(oe.jsx)(pt,Object(Y.a)({},j)),Object(oe.jsx)(ot,Object(Y.a)({},j)),Object(oe.jsx)(Dt,Object(Y.a)({},j)),Object(oe.jsx)(Ge,Object(Y.a)({},j))]})},Ft=function(e){var t,n,a,i,c,r,o,l,s=(null===(t=e.uiData)||void 0===t||null===(n=t.buttonColor)||void 0===n?void 0:n.hex)||"white";e.isActive&&(s=(null===(a=e.uiData)||void 0===a||null===(i=a.buttonHoverColor)||void 0===i?void 0:i.hex)||"lightblue");var d=(null===(c=e.uiData)||void 0===c||null===(r=c.buttonHoverColor)||void 0===r?void 0:r.hex)||(null===(o=e.uiData)||void 0===o||null===(l=o.buttonColor)||void 0===l?void 0:l.hex)||"lightblue";return"color: ".concat(s,";\n  &:hover {\n    color: ").concat(d,";\n  }")}},277:function(e,t,n){"use strict";var a=n(8),i=n(9),c=n(42),r=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,[{key:"getConstant",value:function(){return c.a.get("/constant")}},{key:"saveConstant",value:function(e){return c.a.put("/constant",e)}}]),e}();t.a=new r},340:function(e,t,n){"use strict";var a=n(6),i=n(1),c=n(362),r=n(232),o=n(368),l=n.n(o),s=n(3);t.a=function(e){var t=e.project,n=e.setVideoInitialized,o=Object(i.useRef)(null),d=Object(i.useRef)(null),u=Object(i.useRef)(null),j=Object(i.useState)(),b=Object(a.a)(j,2),p=b[0],x=b[1],h=Object(i.useRef)(),O=Object(i.useState)(-1),m=Object(a.a)(O,2),f=m[0],v=m[1],g=Object(i.useCallback)(l()((function(e){v(parseInt(e)),console.log("UE response set state: ",e)}),500,{leading:!1}),[]),y=function(e){console.log("UE response: ",e),g(e)},w=function(){n(!0)};return Object(i.useEffect)((function(){var t={address:e.project.arcwareAddress||"wss://signalling-client.ragnarok.arcware.cloud/",packageId:e.project.arcwarePackageId||"ff41fd0c-cac9-4e4c-abe5-3ada402f57cc",settings:{},autoplay:{video:!0,audio:!0},sizeContainer:o.current,container:d.current,videoRef:u.current,playOverlay:!1,loader:function(){},applicationResponse:y,videoInitializeCallback:w};h.current||(h.current=!0,x(new c.a(t)))}),[]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{ref:o,style:{flex:1},children:Object(s.jsx)("div",{ref:d,style:{zIndex:1},children:Object(s.jsx)("video",{ref:u})})}),null!=p&&(null===t||void 0===t?void 0:t.newUI)&&Object(s.jsx)(r.a,{emitUIInteraction:function(e){p.emitUIInteraction(e),console.log("emitUIInteraction() with: ",e)},project:t,uiData:t.uiData,chosenApratment:f})]})}},42:function(e,t,n){"use strict";var a=n(166),i=n.n(a).a.create({baseURL:"https://tour.immersiv.com.au/api",withCredentials:!0});i.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers["auth-token"]=t),e}),(function(e){return Promise.reject(e)})),t.a=i},531:function(e,t){},55:function(e,t,n){"use strict";var a=n(8),i=n(9),c=n(42),r=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,[{key:"getProject",value:function(e){return c.a.get("/projects".concat(e?"/"+e:""))}},{key:"getProjectByUrl",value:function(e){return c.a.get("/projects/url/".concat(e))}},{key:"getFeaturedProject",value:function(){return c.a.get("/projects/url/__featured__")}},{key:"saveProject",value:function(e,t){return c.a.put("/projects/".concat(e),t)}},{key:"createProject",value:function(e){return c.a.post("/projects",e)}},{key:"deleteProject",value:function(e){return c.a.delete("/projects/".concat(e))}},{key:"addMedia",value:function(e,t){return c.a.post("/projects/".concat(e,"/media"),t)}},{key:"deleteMedia",value:function(e,t){return c.a.delete("/projects/".concat(e,"/media/").concat(t))}},{key:"moveMedia",value:function(e,t,n){return c.a.put("/projects/".concat(e,"/media/").concat(t),null,{params:{down:n?"true":"false"}})}}]),e}();t.a=new r},59:function(e,t,n){"use strict";n(1);var a=n(207),i=n(3);t.a=function(e){var t=e.children,n=e.title,c=e.loading,r=e.description,o=e.isProject;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(a.a,{children:[Object(i.jsxs)("title",{children:[n||"Home"," | IMMERSIV "]}),Object(i.jsx)("meta",{name:"description",content:r||"IMMERSIV is a digital interactive sales experience for unbuilt environments"})]}),c?null:Object(i.jsx)("div",{style:{flex:1,display:o?"flex":"block"},children:t})]})}},617:function(e,t,n){},619:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(6),c=n(32),r=n(25),o=n.n(r),l=n(1),s=n(42),d=n(376),u=Object(d.a)(),j=function(e){var t=e.children,n=m(),a=n.isInitiated,i=n.logout;return Object(l.useEffect)((function(){s.a.interceptors.response.use((function(e){return e}),function(){var e=Object(c.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,401!==t.response.status||"/auth/refresh-token"!==n.url){e.next=3;break}return e.abrupt("return",new Promise((function(e,n){i(),u.push("/login"),n(t)})));case 3:if(401!==t.response.status||n._retry){e.next=17;break}return e.prev=4,n._retry=!0,e.next=8,s.a.post("/auth/refresh-token");case 8:return a=e.sent,localStorage.setItem("token",a.data.token),e.abrupt("return",Object(s.a)(n));case 13:e.prev=13,e.t0=e.catch(4),i(),u.push("/login");case 17:return e.abrupt("return",Promise.reject(t));case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}())}),[]),a?t:null},b=n(140),p=n(352),x=n(3),h=Object(l.createContext)(),O=function(e){var t=e.children,n=Object(l.useState)({token:""}),c=Object(i.a)(n,2),r=c[0],o=c[1],s=Object(l.useState)(!1),d=Object(i.a)(s,2),u=d[0],O=d[1],m=Object(l.useState)(!1),f=Object(i.a)(m,2),v=f[0],g=f[1];Object(l.useEffect)((function(){localStorage.getItem("token")&&(O(!0),o((function(){return y(localStorage.getItem("token"))}))),g(!0)}),[]);var y=function(e){if(e){var t=Object(p.a)(e);return Object(a.a)(Object(a.a)({},t),{},{token:e})}return{token:""}};return Object(x.jsx)(h.Provider,{value:{setUserState:function(e){return function(e){var t=e.token;O(!0),o((function(){return y(t)})),localStorage.setItem("token",t)}(e)},logout:function(){o(null),O(!1),b.a.logout()},isInitiated:v,isLoggedIn:u,setIsLoggedIn:O,authData:r,setAuthData:o},children:Object(x.jsx)(j,{children:t})})},m=function(){var e=Object(l.useContext)(h);if(void 0===e)throw new Error("useUser must be used within UserProvider");return e},f=n(71),v=n.n(f),g=n(207),y=n(59),w=n(623),k=n(632),I=n(65),C=n(634),S=n(628),P=n(375),D=n(636),U=n(223),T=n(150),A=n(637),E=n(66),F=n(639),N=n(43),L=n(53),z=n(8),M=n(9),V=new(function(){function e(){Object(z.a)(this,e)}return Object(M.a)(e,[{key:"getAdmin",value:function(){return s.a.get("/admins")}},{key:"createAdmin",value:function(e){return s.a.post("/admins",e)}},{key:"deleteAdmin",value:function(e){return s.a.delete("/admins/".concat(e))}}]),e}()),B=function(){var e=Object(N.f)(),t=m(),n=t.isLoggedIn,a=t.authData,i=t.logout,c=t.isInitiated;Object(l.useEffect)((function(){if(c){if(!n)return i(),e("/login"),null;if(null===a||void 0===a||!a.super)return null!==a&&void 0!==a&&a.projectId?(e("/p-admin/".concat(a.projectId)),null):(i(),e("/login"),null)}}),[n,null===a||void 0===a?void 0:a.super,null===a||void 0===a?void 0:a.projectId,c])},R=function(e){var t=Object(l.useRef)(null),n=Object(l.useState)(null),a=Object(i.a)(n,2),r=a[0],s=a[1],d=Object(l.useState)(null),u=Object(i.a)(d,2),j=u[0],b=u[1],p=Object(N.f)();Object(l.useEffect)((function(){V.getAdmin().then((function(e){s(e.data)}))}),[]),B();var h=function(){var e=Object(c.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.createAdmin(n);case 2:(a=e.sent).data&&(L.b.success("Saved"),s(a.data),b(null),t.current&&t.current.resetFields());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.deleteAdmin(t);case 2:(n=e.sent).data&&s(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(y.a,{loading:!r,children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return p("/admin")},title:"Admins",style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsxs)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"800px",width:"100%",margin:"auto"},children:[Object(x.jsx)(I.a,{onClick:function(){return b({})},style:{margin:"16px"},children:"Add admin"}),Object(x.jsx)(C.a,{visible:!!j,onCancel:function(){return b(null)},footer:null,children:Object(x.jsxs)(S.a,{onFinish:h,style:{padding:" 16px",maxWidth:"500px",margin:"auto"},ref:t,children:[Object(x.jsx)(S.a.Item,{name:"email",rules:[{required:!0,message:"Please add name!",type:"email"}],children:Object(x.jsx)(P.a,{placeholder:"Email"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Save"})})]})}),r&&Object(x.jsx)(D.b,{itemLayout:"horizontal",dataSource:r.sort((function(e,t){return e.name>t.name?1:-1})),renderItem:function(e){return Object(x.jsx)(D.b.Item,{actions:[Object(x.jsx)(U.a,{overlay:Object(x.jsx)(T.a,{children:Object(x.jsx)(A.a,{title:"Are you sure to delete this admin?",onConfirm:function(){return O(e.email)},okText:"Yes",cancelText:"No",children:Object(x.jsx)(T.a.Item,{danger:!0,children:"Delete"},"3")})}),trigger:["click"],children:Object(x.jsx)(F.a,{style:{fontSize:"30px"}})})],style:{borderBottom:"3px solid #ccc",paddingLeft:"16px"},children:Object(x.jsx)(D.b.Item.Meta,{title:e.email,description:e.locked?"Locked":"Not locked"})})}})]})]})})},W=n(626),H=n(55),K=n(85),q=n.n(K),_=new(function(){function e(){Object(z.a)(this,e)}return Object(M.a)(e,[{key:"getGA",value:function(e,t,n,a){return s.a.post("/ga/".concat(e),{metrics:t,dimensions:n,start:a[0],finish:a[1]})}},{key:"getAccessToken",value:function(){return s.a.get("/ga/access-token")}}]),e}()),G=n(12),Y=n(355),J=n(282),X=n.n(J),$=function(e){var t=e.data,n=e.title,a=e.column,i=e.seconds,c=e.type,r=void 0===c?"LineChart":c,o=e.isDate,l=void 0===o||o,s=t?[[X()(t.columnHeaders[0].name.replace("ga:","")),X()(t.columnHeaders[a].name.replace("ga:",""))]].concat(Object(G.a)(t.rows.map((function(e){return[l?q()(e[0],"YYYYMMDD").format("D MMM"):e[0],parseInt(e[a])/(i?60:1)]})).sort((function(e,t){return l?0:t[1]-e[1]})))):[];return Object(x.jsx)("div",{style:{maxWidth:"400px",margin:"20px",width:"100%"},children:Object(x.jsx)(Y.a,{chartType:r,width:"100%",height:"400px",data:s,options:{title:n,legend:{position:"none"},chartArea:{width:"85%",height:"80%"},allowHtml:!0,width:"100%"}})})},Q=function(e){var t=Object(N.g)().id,n=Object(l.useState)(null),a=Object(i.a)(n,2),c=a[0],r=a[1],o=Object(l.useState)(null),s=Object(i.a)(o,2),d=s[0],u=s[1],j=Object(l.useState)(null),b=Object(i.a)(j,2),p=b[0],h=b[1],O=Object(l.useState)(null),f=Object(i.a)(O,2),v=f[0],g=f[1],I=Object(l.useState)(null),C=Object(i.a)(I,2),S=C[0],P=C[1],D=Object(l.useState)([q()().subtract(7,"day").format(),q()().format()]),U=Object(i.a)(D,2),T=U[0],A=U[1],F=Object(N.f)(),z=m(),M=z.logout,V=z.isLoggedIn,B=z.authData;Object(l.useEffect)((function(){if(!V||(null===B||void 0===B||!B.super)&&t.toString()!==(null===B||void 0===B?void 0:B.projectId.toString()))return M(),F("/login"),null}),[V,null===B||void 0===B?void 0:B.super,null===B||void 0===B?void 0:B.projectId]),Object(l.useEffect)((function(){H.a.getProject(t).then((function(e){r(e.data)}))}),[]),Object(l.useEffect)((function(){2===T.length&&null!==c&&void 0!==c&&c.id&&(u(null),h(null),g(null),P(null),R())}),[T[0],T[1],null===c||void 0===c?void 0:c.id]);var R=function(){_.getGA(c.id,"ga:users,ga:newUsers,ga:pageviews,ga:sessions,ga:sessionDuration","ga:date",T).then((function(e){u(e.data.data)})).catch((function(e){L.b.error("Users analytics data not loaded")})),_.getGA(c.id,"ga:users","ga:city",T).then((function(e){h(e.data.data)})).catch((function(e){L.b.error("Location analytics data not loaded")})),_.getGA(c.id,"ga:users","ga:deviceCategory",T).then((function(e){g(e.data.data)})).catch((function(e){L.b.error("Device analytics data not loaded")})),_.getGA(c.id,"ga:users","ga:source",T).then((function(e){P(e.data.data)})).catch((function(e){L.b.error("Source analytics data not loaded")}))};return Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return F("/p-admin/".concat(t))},title:Object(x.jsxs)(x.Fragment,{children:["Analytics",Object(x.jsx)("br",{}),Object(x.jsx)(W.a.RangePicker,{size:"large",defaultValue:[q()().subtract(7,"day"),q()()],onChange:function(e){return A([e[0].format(),e[1].format()])},allowClear:!1})]}),style:{borderBottom:"1px #ccc solid"}}),c&&Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",paddingTop:"100px",padding:"16px",width:"100%",margin:"auto"},children:Object(x.jsxs)("div",{style:{textAlign:"center",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},children:[Object(x.jsx)($,{data:d,title:"Users",xKey:"start",valKey:"value",column:1}),Object(x.jsx)($,{data:d,title:"New users",xKey:"start",valKey:"value",column:2}),Object(x.jsx)($,{data:d,title:"Page views",xKey:"start",valKey:"value",column:3}),Object(x.jsx)($,{data:d,title:"Sessions",xKey:"start",valKey:"value",column:4}),Object(x.jsx)($,{data:d,title:"Session duration (minutes)",xKey:"start",valKey:"value",column:5,seconds:!0}),Object(x.jsx)($,{data:v,title:"Device type",xKey:"start",valKey:"value",type:"PieChart",column:1,seconds:!0,isDate:!1}),Object(x.jsx)($,{data:S,title:"Source",xKey:"start",valKey:"value",type:"BarChart",column:1,isDate:!1}),Object(x.jsx)($,{data:p,title:"Source",xKey:"start",valKey:"value",type:"Table",column:1,isDate:!1})]})})]})})},Z=n(277),ee=function(e){var t=Object(l.useState)(null),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(l.useRef)(null),d=Object(N.f)();Object(l.useEffect)((function(){Z.a.getConstant().then((function(e){e.data?(r(e.data),s.current&&s.current.setFieldsValue(e.data)):r({})})).catch((function(){r({})}))}),[]),B();var u=function(){var e=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.saveConstant(t);case 2:(n=e.sent).data&&(r(n.data),L.b.success("Saved"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return d("/admin")},title:"Constants",style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"800px",width:"100%",margin:"auto"},children:Object(x.jsxs)(S.a,{ref:s,name:"normal_login",onFinish:u,style:{padding:" 16px",maxWidth:"500px",margin:"auto"},initialValues:a,children:[Object(x.jsx)(S.a.Item,{name:"email",children:Object(x.jsx)(P.a,{placeholder:"Email"})}),Object(x.jsx)(S.a.Item,{name:"phone",children:Object(x.jsx)(P.a,{placeholder:"Phone"})}),Object(x.jsx)(S.a.Item,{name:"call",children:Object(x.jsx)(P.a,{placeholder:"Phone in international format"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Save"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{onClick:function(){s.current&&s.current.resetFields()},style:{width:"100%"},children:"Reset"})})]})})]})})},te=n(5),ne=n(83),ae=n(630),ie=n(627),ce=n(161),re=n(633),oe=n(638),le=n(356),se=n.n(le),de=n(166),ue=n.n(de),je=new(function(){function e(){Object(z.a)(this,e)}return Object(M.a)(e,[{key:"signUrl",value:function(e,t){return s.a.get("/utils/sign-s3",{params:{isVideo:!!e,isLogo:!!t}})}}]),e}()),be=function(e,t,n){return function(){var a=Object(c.a)(o.a.mark((function a(i){var c,r,l,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i.action,i.data,c=i.file,i.filename,i.headers,r=i.onError,i.onProgress,l=i.onSuccess,i.withCredentials,a.prev=1,a.next=4,je.signUrl(t,n);case 4:s=a.sent,ue.a.put(s.data.signedRequest,c,{}).then((function(t){e({url:s.data.url,thumbnail:s.data.thumbnail}),l(s.data.thumbnail)})).catch((function(e){console.log(e.message),r()})),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),r(),L.b.error(a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},pe=function(e){var t=be((function(t){e.setFieldsValue(Object(te.a)({},e.id,t.url))}),e.isVideo,!0),n=Object(l.useState)(""),a=Object(i.a)(n,2),c=a[0],r=a[1];return Object(l.useEffect)((function(){setTimeout((function(){return r(e[e.id])}),5e3)}),[e[e.id]]),Object(x.jsxs)(x.Fragment,{children:[c===e[e.id]?e.isVideo?Object(x.jsxs)("video",{id:"my-player",class:"video-js",controls:!0,preload:"auto","data-setup":"{}",children:[Object(x.jsx)("source",{src:c,type:"video/mp4"}),Object(x.jsxs)("p",{class:"vjs-no-js",children:["To view this video please enable JavaScript, and consider upgrading to a web browser that",Object(x.jsx)("a",{href:"https://videojs.com/html5-video-support/",target:"_blank",rel:"noreferrer",children:"supports HTML5 video"})]})]}):Object(x.jsx)(ae.a,{src:c,style:{maxHeight:"50px"}}):Object(x.jsx)(ne.a,{}),Object(x.jsx)("div",{style:{marginTop:"10px"},children:Object(x.jsx)(ie.a,{customRequest:t,showUploadList:!1,maxCount:1,getValueFromEvent:function(){},children:Object(x.jsx)(I.a,{children:"Change"})})})]})},xe=function(e){var t=e.setFieldsValue;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(S.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please set name!"}],children:Object(x.jsx)(P.a,{placeholder:"Name"})}),Object(x.jsx)(S.a.Item,{name:"url",label:"Url",rules:[{required:!0,message:"Please add url!"}],extra:"This is only what should appear at the end of url, for example 'best-hotel', 'sky_mall'... Do not put https://tour.immersiv.com.au/ here!",children:Object(x.jsx)(P.a,{placeholder:"Url"})}),Object(x.jsx)(S.a.Item,{label:"New UI",name:"newUI",valuePropName:"checked",children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(S.a.Item,{label:"Arcware project",name:"isArcware",valuePropName:"checked",children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(S.a.Item,{label:"Monkeyway project",name:"isMonkeyway",valuePropName:"checked",children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(S.a.Item,{name:"monkeywayBaseUrl",label:"Monkeyway base url",children:Object(x.jsx)(P.a,{placeholder:"Leave empty for default."})}),Object(x.jsx)(S.a.Item,{name:"monkeywayAppEnvId",label:"Monkeyway app env id",children:Object(x.jsx)(P.a,{placeholder:"Monkeyway app env id"})}),Object(x.jsx)(S.a.Item,{name:"monkeywayApiKey",label:"Monkeyway api key",children:Object(x.jsx)(P.a,{placeholder:"Monkeyway api key"})}),Object(x.jsx)(S.a.Item,{name:"arcwareAddress",label:"Arcware address",children:Object(x.jsx)(P.a,{placeholder:"Arcware address"})}),Object(x.jsx)(S.a.Item,{name:"arcwarePackageId",label:"Arcware project id",children:Object(x.jsx)(P.a,{placeholder:"Arcware project id"})}),Object(x.jsx)(S.a.Item,{name:"projectId",label:"Project id",hidden:!0,children:Object(x.jsx)(P.a,{placeholder:"Project id"})}),Object(x.jsx)(S.a.Item,{name:"modelId",label:"Model id",hidden:!0,children:Object(x.jsx)(P.a,{placeholder:"Model id"})}),Object(x.jsx)(S.a.Item,{name:"levelsCount",label:"Number of levels",children:Object(x.jsx)(re.a,{placeholder:"Number of levels"})}),Object(x.jsx)(S.a.Item,{label:"Custom background",name:"backgroundOn",valuePropName:"checked",children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(S.a.Item,{label:"Background video",name:"backgroundTypeVideo",valuePropName:"checked",children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(S.a.Item,{label:"Background video",valuePropName:"backgroundVideo",name:"backgroundVideo",children:Object(x.jsx)(pe,{setFieldsValue:t,isVideo:!0})}),Object(x.jsx)(S.a.Item,{label:"Background video Vimeo",name:"backgroundVideoVimeo",valuePropName:"checked",children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(S.a.Item,{name:"backgroundVideoVimeoUrl",label:"Vimeo url",extra:"Should look like https://player.vimeo.com/video/76979871?h=8272103f6e",children:Object(x.jsx)(P.a,{placeholder:"https://player.vimeo.com/video/76979871?h=8272103f6e"})}),Object(x.jsx)(S.a.Item,{label:"Background image",valuePropName:"backgroundImage",name:"backgroundImage",children:Object(x.jsx)(pe,{setFieldsValue:t})}),Object(x.jsx)(S.a.Item,{name:"adminEmail",label:"Client login",children:Object(x.jsx)(P.a,{placeholder:"Admin email"})}),Object(x.jsx)(S.a.Item,{name:"adminPassword",label:"Client password",rules:[{min:6,message:"Must have length at least 6!"}],children:Object(x.jsx)(P.a,{placeholder:"Admin password"})}),Object(x.jsx)(S.a.Item,{name:"analytic",label:"Analytics property",children:Object(x.jsx)(P.a,{placeholder:"Google analytics property id"})}),Object(x.jsx)(S.a.Item,{name:"mobileNativeEvents",label:"Mobile native events",valuePropName:"checked",children:Object(x.jsx)(oe.a,{children:"Mobile native events"})}),Object(x.jsx)(S.a.Item,{name:"desktopNativeEvents",label:"Desktop native events",valuePropName:"checked",children:Object(x.jsx)(oe.a,{})}),Object(x.jsx)(S.a.Item,{name:"published",valuePropName:"checked",label:"Published",children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(S.a.Item,{label:"Project details on",name:"projectDetailsOn",valuePropName:"checked",children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(S.a.Item,{label:"Project details duration",name:"projectDetailsDuraton",children:Object(x.jsx)(P.a,{type:"number"})}),Object(x.jsx)(S.a.Item,{label:"Client logo",valuePropName:"clientLogo",name:"clientLogo",children:Object(x.jsx)(pe,{setFieldsValue:t})}),Object(x.jsx)(S.a.Item,{label:"Client logo max width",name:"clientLogoMaxWidth",children:Object(x.jsx)(P.a,{type:"number"})}),Object(x.jsx)(S.a.Item,{label:"Client logo max height",name:"clientLogoMaxHeight",children:Object(x.jsx)(P.a,{type:"number"})}),Object(x.jsx)(S.a.Item,{label:"Project logo",valuePropName:"projectLogo",name:"projectLogo",children:Object(x.jsx)(pe,{setFieldsValue:t})}),Object(x.jsx)(S.a.Item,{label:"Project logo max width",name:"projectLogoMaxWidth",children:Object(x.jsx)(P.a,{type:"number"})}),Object(x.jsx)(S.a.Item,{label:"Project logo max height",name:"projectLogoMaxHeight",children:Object(x.jsx)(P.a,{type:"number"})}),Object(x.jsx)(S.a.Item,{name:"projectName",label:"Project name",extra:"This text will appear on the screen where the project is being loaded if there is no logo",children:Object(x.jsx)(P.a,{placeholder:"projectName"})}),Object(x.jsx)(S.a.Item,{name:"description",label:"Description",extra:"This text will appear on the screen where the project is being loaded",children:Object(x.jsx)(se.a,{placeholder:"Description",rows:4})}),Object(x.jsx)(S.a.Item,{wrapperCol:{offset:8,span:16},children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Save"})})]})},he=function(e){var t=Object(l.useRef)(null),n=Object(N.f)();B();var a=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.createProject(t);case 2:e.sent.data&&(L.b.success("Saved"),n("/admin"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return n("/admin")},title:"Create project",style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"800px",width:"100%",margin:"auto"},children:Object(x.jsxs)(S.a,{ref:t,name:"normal_login",onFinish:a,style:{padding:" 16px",maxWidth:"500px",margin:"auto"},labelCol:{span:8},wrapperCol:{span:16},children:[Object(x.jsx)(xe,{}),Object(x.jsx)(S.a.Item,{wrapperCol:{offset:8,span:16},children:Object(x.jsx)(I.a,{onClick:function(){t.current&&t.current.resetFields()},style:{width:"100%"},children:"Reset"})})]})})]})})},Oe=n(357),me=n.n(Oe),fe=n(640),ve=function(){var e=Object(l.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(x.jsx)("div",{children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{onClick:function(){return a(!n)},children:"Forgot password?"}),Object(x.jsx)(me.a,{title:"Forgot Password",visible:n,footer:[],onCancel:function(){return a(!1)},children:Object(x.jsxs)(S.a,{name:"normal_login",onFinish:function(e){b.a.forgotPassword(e.email).then((function(e){"OK"===e.data.status&&(L.b.success("Email has been sent successfully."),a(!1))})).catch((function(e){}))},style:{padding:"100px 16px",maxWidth:"500px",margin:"auto"},children:[Object(x.jsx)(S.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(x.jsx)(P.a,{prefix:Object(x.jsx)(fe.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Reset password"})})]})})]})})},ge=n(629),ye=n(641),we=function(){var e=m(),t=e.isLoggedIn,n=e.setUserState,a=e.authData,r=Object(l.useState)(!1),s=Object(i.a)(r,2),d=s[0],u=s[1],j=Object(l.useState)(!1),p=Object(i.a)(j,2),h=p[0],O=p[1],f=Object(N.f)(),v=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,i=t.password,e.prev=1,u(!0),e.next=5,b.a.login(a,i);case 5:c=e.sent,L.b.success("Login successful \ud83d\udd13"),setTimeout((function(){n(c),O(!0),u(!1)}),1500),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),u(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(t||h)&&(null!==a&&void 0!==a&&a.super||null!==a&&void 0!==a&&a.projectId)&&f("/admin"),Object(x.jsx)(y.a,{title:"Login",loading:d,children:Object(x.jsxs)(S.a,{name:"normal_login",onFinish:v,style:{padding:"100px 16px",maxWidth:"500px",margin:"auto"},children:[Object(x.jsx)(ge.a.Title,{style:{textAlign:"center",marginBottom:"50px"},children:"Manage IMMERSIVE"}),Object(x.jsx)(S.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(x.jsx)(P.a,{prefix:Object(x.jsx)(fe.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(x.jsx)(S.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(x.jsx)(P.a.Password,{prefix:Object(x.jsx)(ye.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)("a",{children:Object(x.jsx)(ve,{})})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Log in"})})]})})},ke=n(159),Ie=n.n(ke),Ce=function(e){var t=Object(l.useState)(null),n=Object(i.a)(t,2),r=n[0],s=n[1],d=S.a.useForm(),u=Object(i.a)(d,1)[0],j=Object(N.g)().id;Object(l.useEffect)((function(){H.a.getProject(j).then((function(e){s(e.data)}))}),[j]);var b=Object(N.f)();B();var p=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.saveProject(r.id,t);case 2:e.sent.data&&L.b.success("Saved");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=null!==r&&void 0!==r&&r.url?"https://tour.immersiv.com.au/p/".concat(r.url):"not set yet",O=null!==r&&void 0!==r&&r.url?"https://tour.immersiv.com.au/g/".concat(r.url):"not set yet",m=null!==r&&void 0!==r&&r.url?"https://tour.immersiv.com.au/api/properties/properties-ue/".concat(r.url):"not set yet",f=S.a.useWatch("projectName",u),v=S.a.useWatch("clientLogo",u),g=S.a.useWatch("clientLogoMaxWidth",u),C=S.a.useWatch("clientLogoMaxHeight",u),P=S.a.useWatch("projectLogo",u),D=S.a.useWatch("projectLogoMaxWidth",u),U=S.a.useWatch("projectLogoMaxHeight",u);return Object(x.jsx)(y.a,{loading:!r,children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return b("/admin")},title:"Project - ".concat(null===r||void 0===r?void 0:r.name),style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"800px",width:"100%",margin:"auto"},children:r&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(I.a,{onClick:function(){return b("/p-admin/".concat(j))},style:{margin:"16px"},children:"See client admin panel"}),Object(x.jsx)(I.a,{onClick:function(){return b("/admin/projects/".concat(r.id,"/properties"))},style:{margin:"16px"},children:"Manage properties"}),Object(x.jsx)(I.a,{onClick:function(){return b("/admin/projects/".concat(r.id,"/media"))},style:{margin:"16px"},children:"Manage media"}),Object(x.jsx)(I.a,{onClick:function(){return b("/admin/projects/".concat(r.id,"/ui"))},style:{margin:"16px"},children:"Manage UI"}),Object(x.jsxs)(ge.a.Paragraph,{children:["The project full url is ".concat(h),Object(x.jsx)(I.a,{onClick:function(){return Ie()(h)},type:"link",children:"Copy"})]}),Object(x.jsxs)(ge.a.Paragraph,{children:["The project gallery url is ".concat(O," "),Object(x.jsx)(I.a,{onClick:function(){return Ie()(O)},type:"link",children:"Copy"})]}),Object(x.jsxs)(ge.a.Paragraph,{children:["The project properties api link ".concat(m," "),Object(x.jsx)(I.a,{onClick:function(){return Ie()(m)},type:"link",children:"Copy"})]}),Object(x.jsxs)(S.a,{form:u,onFinish:p,style:{padding:" 16px",maxWidth:"500px",margin:"auto"},initialValues:r,labelCol:{span:8},wrapperCol:{span:16},children:[Object(x.jsx)(xe,{setFieldsValue:function(e){u&&u.setFieldsValue(Object(a.a)(Object(a.a)({},u.getFieldsValue()),e))}}),Object(x.jsx)(S.a.Item,{wrapperCol:{offset:8,span:16},children:Object(x.jsx)(I.a,{onClick:function(){u.current&&u.current.resetFields()},style:{width:"100%"},children:"Reset"})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Project details preview"}),Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,alignItems:"center"},children:[Object(x.jsx)("img",{src:v,alt:"logo",style:{maxHeight:C+"px",maxWidth:g+"px",marginBottom:"36px"}}),P?Object(x.jsx)("img",{src:P,alt:"logo",style:{maxHeight:U+"px",maxWidth:D+"px",marginBottom:"36px"}}):Object(x.jsx)("h6",{style:{textAlign:"center"},children:f})]})]})]})})]})})},Se=n(635),Pe=n(642),De=n(643),Ue=n(644),Te=n(645),Ae=function(e){var t=Object(l.useState)(null),n=Object(i.a)(t,2),a=n[0],r=n[1],s=m().logout,d=Object(N.f)(),u=Object(l.useState)(!1),j=Object(i.a)(u,2),b=j[0],p=j[1];Object(l.useEffect)((function(){H.a.getProject().then((function(e){r(e.data)}))}),[]),B();var h=function(){var e=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.deleteProject(t);case 2:(n=e.sent).data&&r(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.saveProject(t,{featured:!0});case 2:(n=e.sent).data&&r(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(y.a,{loading:!a,children:[Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return p(!0)},backIcon:Object(x.jsx)(Pe.a,{}),title:"Projects",style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsxs)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"800px",width:"100%",margin:"auto"},children:[Object(x.jsx)(I.a,{onClick:function(){return d("/admin/projects/create")},style:{margin:"16px"},children:"Add project"}),a&&Object(x.jsx)(D.b,{itemLayout:"horizontal",dataSource:a.sort((function(e,t){return e.url>t.url?1:-1})),renderItem:function(e){return Object(x.jsx)(D.b.Item,{actions:[Object(x.jsx)(U.a,{overlay:Object(x.jsxs)(T.a,{children:[Object(x.jsx)(T.a.Item,{onClick:function(){return O(e.id)},children:"Set as featured"},"1"),Object(x.jsx)(T.a.Divider,{}),Object(x.jsx)(A.a,{title:"Are you sure to delete this project?",onConfirm:function(){return h(e.id)},okText:"Yes",cancelText:"No",children:Object(x.jsx)(T.a.Item,{danger:!0,children:"Delete"},"3")})]}),trigger:["click"],children:Object(x.jsx)(F.a,{style:{fontSize:"30px"}})})],children:Object(x.jsx)(D.b.Item.Meta,{avatar:e.featured?Object(x.jsx)(De.a,{style:{fontSize:"24px"}}):e.published?Object(x.jsx)(Ue.a,{style:{fontSize:"24px"}}):Object(x.jsx)(Te.a,{style:{fontSize:"24px"}}),title:e.name,description:e.url,onClick:function(){d("/admin/projects/".concat(e.id))}})})}})]})]}),Object(x.jsx)(Se.a,{title:"Menu",placement:"left",onClose:function(){return p(!1)},visible:b,children:Object(x.jsxs)(T.a,{mode:"inline",style:{width:"100%"},onClick:function(e){e.item;var t=e.key;switch(p(!1),t){case"logout":s();break;case"info":d("/admin/contant");break;case"admins":d("/admin/admins");break;default:return}},activeKey:"projects",selectedKeys:["projects"],children:[Object(x.jsx)(T.a.Item,{children:"Projects"},"projects"),Object(x.jsx)(T.a.Item,{children:"Constant"},"info"),Object(x.jsx)(T.a.Item,{children:"Admins"},"admins"),Object(x.jsx)(T.a.Item,{children:"Logout"},"logout")]})})]})},Ee=new(function(){function e(){Object(z.a)(this,e)}return Object(M.a)(e,[{key:"getProperty",value:function(e,t){return s.a.get("/properties/".concat(e,"/").concat(t?"/"+t:""))}},{key:"saveProperty",value:function(e,t,n){return s.a.put("/properties/".concat(e,"/").concat(t),n)}},{key:"createProperty",value:function(e,t){return s.a.post("/properties/".concat(e),{id:t})}},{key:"deleteProperty",value:function(e,t){return s.a.post("/properties/".concat(e,"/delete"),{ids:t})}},{key:"saveStatus",value:function(e,t,n){return s.a.put("/properties/".concat(e,"/status/").concat(t),n)}}]),e}()),Fe=n(18),Ne=n(185),Le=n(625),ze=["editing","dataIndex","title","inputType","property","index","children"],Me=Ne.a.Option,Ve=function(e){if(!e.Orientation)return e;var t={};return-1!==e.Orientation.indexOf("N")?t.N=!0:-1!==e.Orientation.indexOf("S")&&(t.S=!0),-1!==e.Orientation.indexOf("E")?t.E=!0:-1!==e.Orientation.indexOf("W")&&(t.W=!0),Object(a.a)(Object(a.a)({},e),{},{Orientation:t})},Be=function(e){var t="";return e.Orientation.N?t+="N":e.Orientation.S&&(t+="S"),e.Orientation.E?t+="E":e.Orientation.W&&(t+="W"),Object(a.a)(Object(a.a)({},e),{},{Orientation:t})},Re=function(e){var t=e.editing,n=e.dataIndex,i=e.title,c=e.inputType,r=(e.property,e.index,e.children),o=Object(Fe.a)(e,ze),l=Object(x.jsx)(re.a,{});switch(c){case"number":l=Object(x.jsx)(re.a,{});break;case"orientation":l=Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(Me,{value:"N",children:"North"}),Object(x.jsx)(Me,{value:"NE",children:"North-East"}),Object(x.jsx)(Me,{value:"E",children:"East"}),Object(x.jsx)(Me,{value:"SE",children:"South-East"}),Object(x.jsx)(Me,{value:"S",children:"South"}),Object(x.jsx)(Me,{value:"SW",children:"South-West"}),Object(x.jsx)(Me,{value:"W",children:"West"}),Object(x.jsx)(Me,{value:"NW",children:"North-West"})]});break;case"availability":l=Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(Me,{value:"available",children:"Available"}),Object(x.jsx)(Me,{value:"reserved",children:"Reserved"}),Object(x.jsx)(Me,{value:"sold",children:"Sold"})]});break;default:l=Object(x.jsx)(P.a,{})}return Object(x.jsx)("td",Object(a.a)(Object(a.a)({},o),{},{children:t?Object(x.jsx)(S.a.Item,{name:n,style:{margin:0,width:"100%"},rules:[{required:!0,message:"Please Input ".concat(i,"!")}],children:l}):r}))},We=function(e){var t=e.properties,n=e.project,r=e.setProperties,s=e.admin,d=(e.setEditModalOpen,Object(l.useState)([])),u=Object(i.a)(d,2),j=u[0],b=u[1],p=Object(l.useState)(""),h=Object(i.a)(p,2),O=h[0],m=h[1],f=S.a.useForm(),v=Object(i.a)(f,1)[0],g=function(e){return e.id===O},y=function(){m("")},w=function(){var e=Object(c.a)(o.a.mark((function e(t){var a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.validateFields();case 3:return a=e.sent,e.next=6,Ee.saveProperty(n.id,t,Ve(a));case 6:(i=e.sent).data&&(L.b.success("Saved"),r(i.data),m("")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.deleteProperty(n.id,j);case 2:(t=e.sent).data&&r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=[{title:"Name",dataIndex:"Name",sorter:function(e,t){return e.Name>t.Name?1:-1},sortDirections:["descend","ascend"],editable:s,inputType:"text",width:100},{title:"Availability",dataIndex:"Availability",sorter:function(e,t){return e.Availability>t.Availability?1:-1},sortDirections:["descend","ascend"],onFilter:function(e,t){return 0===t.Availability.indexOf(e)},editable:!0,inputType:"availability",width:100,render:function(e,t){return(n=t.Availability).charAt(0).toUpperCase()+n.slice(1);var n}},{title:"Surface",dataIndex:"Surface",sorter:function(e,t){return e.Surface-t.Surface},sortDirections:["descend","ascend"],editable:s,inputType:"number",width:100},{title:"Price",dataIndex:"Price",sorter:function(e,t){return e.Price-t.Price},sortDirections:["descend","ascend"],editable:!0,inputType:"number",width:100},{title:"Bedrooms",dataIndex:"BedroomsCount",key:"bedrooms",sortDirections:["descend","ascend"],editable:s,inputType:"number",width:100},{title:"Bathrooms",dataIndex:"BathroomsCount",sorter:function(e,t){return e.BathroomsCount-t.BathroomsCount},sortDirections:["descend","ascend"],editable:s,inputType:"number",width:100},{title:"id",dataIndex:"id",sorter:function(e,t){return e.id-t.id},sortDirections:["descend","ascend"],editable:!1,inputType:"text",width:100}].concat(Object(G.a)(n.url.toLowerCase()==="Imperial_Square".toLowerCase()||n.url.toLowerCase()==="Forest_Reach".toLowerCase()?[]:[{title:"Frontage",dataIndex:"Frontage",sorter:function(e,t){return e.Frontage-t.Frontage},sortDirections:["descend","ascend"],editable:s,inputType:"number",width:100},{title:"Depth",dataIndex:"Depth",sorter:function(e,t){return e.Depth-t.Depth},sortDirections:["descend","ascend"],editable:s,inputType:"number",width:100},{title:"Virtual tour",dataIndex:"URLVirtualTour",editable:s,inputType:"text",width:100},{title:"3D Tour",dataIndex:"URLPlan",editable:s,inputType:"text",width:100},{title:"Url",dataIndex:"Url",editable:s,inputType:"text",width:200},{title:"FacadeName",dataIndex:"FacadeName",editable:s,inputType:"text",width:100}]),[{title:"Orientation",dataIndex:"Orientation",sorter:function(e,t){return Be(e).Orientation>Be(t).Orientation?1:-1},sortDirections:["descend","ascend"],editable:s,inputType:"orientation",width:100},{title:"Actions",dataIndex:"actions",width:80,render:function(e,t){return g(t)?Object(x.jsxs)("span",{children:[Object(x.jsx)(ge.a.Link,{onClick:function(){return w(t.id)},style:{marginRight:8},children:"Save"}),Object(x.jsx)(ge.a.Link,{onClick:y,children:"Cancel"})]}):Object(x.jsx)("span",{children:Object(x.jsx)(ge.a.Link,{disabled:""!==O,onClick:function(){return function(e){v.setFieldsValue(e),m(e.id)}(t)},children:"Edit"})})}}]).map((function(e){return e.editable?Object(a.a)(Object(a.a)({},e),{},{onCell:function(t){return{property:t,inputType:e.inputType,dataIndex:e.dataIndex,title:e.title,editing:g(t)}}}):e})),P=function(){var e=Object(c.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.createProperty(n.id,t.length?t[t.length-1].id:"");case 2:(a=e.sent).data&&(L.b.success("Added"),r(a.data.newProperties),m(a.data.newProperty.id),v.setFieldsValue(Be(a.data.newProperty)),document.querySelector("div.ant-table-body").scrollTop=1e6);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(S.a,{form:v,component:!1,children:Object(x.jsx)(Le.a,{components:{body:{cell:Re}},size:"small",bordered:!0,dataSource:t.map((function(e){var t=Be(e);return Object(a.a)(Object(a.a)({},t),{},{key:t.id})})),columns:C,rowClassName:"editable-row",rowSelection:s?{type:"checkbox",onChange:function(e,t){b(t.map((function(e){return e.id})))}}:null,pagination:!1,tableLayout:"fixed",scroll:{y:"calc(100vh - 230px)"}})}),s&&Object(x.jsx)(I.a,{onClick:P,style:{margin:"16px"},type:"primary",children:"Add property"}),!!j.length&&s&&Object(x.jsx)(ge.a.Link,{onClick:function(){return k()},type:"danger",disabled:O,children:"Delete"})]})},He=function(e){var t=e.admin,n=e.id,a=e.project,i=e.properties,c=e.setProject,r=e.setProperties;return Object(l.useEffect)((function(){Ee.getProperty(n).then((function(e){r(e.data)})),H.a.getProject(n).then((function(e){c(e.data)}))}),[]),B(),i&&a&&Object(x.jsx)(We,{properties:i,setProperties:r,project:a,admin:t})},Ke=function(e){var t=Object(N.g)().id,n=Object(N.f)(),a=Object(l.useState)(null),c=Object(i.a)(a,2),r=c[0],o=c[1],s=Object(l.useState)(null),d=Object(i.a)(s,2),u=d[0],j=d[1];return B(),Object(l.useEffect)((function(){Ee.getProperty(t).then((function(e){j(e.data)})),H.a.getProject(t).then((function(e){o(e.data)}))}),[]),Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return n("/admin/projects/".concat(t))},title:"Properties of project id: ".concat(t),style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"1200px",width:"100%",margin:"auto"},children:Object(x.jsx)(He,{admin:!0,id:t,setProject:o,setProperties:j,project:r,properties:u})})]})})},qe=n(646),_e=(n(530),n(337),n(178)),Ge=n.n(_e),Ye=function(e){var t,n=Object(N.g)().id,r=Object(l.useRef)(null),s=Object(N.f)(),d=Object(l.useState)(null),u=Object(i.a)(d,2),j=u[0],b=u[1];B(),Object(l.useEffect)((function(){H.a.getProject(n).then((function(e){b(e.data)}))}),[]);var p=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.addMedia(n,t);case 2:(a=e.sent).data&&(L.b.success("Saved"),b(a.data),r.current&&r.current.resetFields());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.moveMedia(n,t,a);case 2:(i=e.sent).data&&(L.b.success("Moved"),b(i.data));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.deleteMedia(n,t);case 2:(a=e.sent).data&&(L.b.success("Deleted"),b(a.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=be((function(e){r.current&&r.current.setFieldsValue(Object(a.a)(Object(a.a)({},r.current.values),e))}),"video"===(null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.getFieldValue("type")));return Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return s("/admin/projects/".concat(n))},title:"Media of project id: ".concat(n),style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"1200px",width:"100%",margin:"auto"},children:j&&j.media&&Object(x.jsxs)("div",{children:[Object(x.jsx)(D.b,{itemLayout:"vertical",size:"large",dataSource:j.media,renderItem:function(e,t){return Object(x.jsxs)(D.b.Item,{actions:[Object(x.jsx)(I.a,{size:"small",onClick:function(){return h(e.id,!1)},children:"Move up"},"up"),Object(x.jsx)(I.a,{size:"small",onClick:function(){return h(e.id,!0)},children:"Move down"},"down"),Object(x.jsx)(A.a,{title:"Are you sure to delete this media?",onConfirm:function(){return O(e.id)},okText:"Yes",cancelText:"No",children:Object(x.jsx)(I.a,{size:"small",danger:!0,children:"Delete"})},"delete")],extra:"video"===e.type?e.vimeo?Object(x.jsx)(Ge.a,{url:e.url,controls:!0}):Object(x.jsxs)("video",{id:"my-player",className:"video-js",controls:!0,preload:"auto","data-setup":"{}",children:[Object(x.jsx)("source",{src:e.url,type:"video/mp4"}),Object(x.jsxs)("p",{className:"vjs-no-js",children:["To view this video please enable JavaScript, and consider upgrading to a web browser that",Object(x.jsx)("a",{href:"https://videojs.com/html5-video-support/",target:"_blank",rel:"noreferrer",children:"supports HTML5 video"})]})]}):Object(x.jsx)("img",{width:"100%",style:{maxWidth:"300px"},alt:"logo",src:e.url}),children:[Object(x.jsx)(D.b.Item.Meta,{description:e.type,title:"".concat(t+1,". ").concat(e.name||"no name")}),e.url]},e.id)}}),Object(x.jsxs)(S.a,{onFinish:p,style:{padding:" 16px",maxWidth:"500px",margin:"auto",backgroundColor:"#eee"},ref:r,children:[Object(x.jsx)(ge.a.Title,{level:4,children:"Add new media"}),Object(x.jsx)(S.a.Item,{name:"type",rules:[{required:!0}],children:Object(x.jsxs)(Ne.a,{placeholder:"Choose type",children:[Object(x.jsx)(Ne.a.Option,{value:"photo",children:"Photo"}),Object(x.jsx)(Ne.a.Option,{value:"plan",children:"Plan"}),Object(x.jsx)(Ne.a.Option,{value:"video",children:"Video"})]})}),Object(x.jsx)(S.a.Item,{name:"name",rules:[{required:!0}],children:Object(x.jsx)(P.a,{placeholder:"Name"})}),Object(x.jsx)(S.a.Item,{name:"url",rules:[{required:!0}],children:Object(x.jsx)(P.a,{placeholder:"Url"})}),Object(x.jsx)(S.a.Item,{name:"thumbnail",hidden:!0,children:Object(x.jsx)(P.a,{placeholder:"Thumbnail"})}),Object(x.jsx)(S.a.Item,{name:"vimeo",label:"Vimeo",valuePropName:"checked",children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(ie.a,{accept:"image/*,video/*",listType:"picture",maxCount:1,customRequest:m,children:Object(x.jsx)(I.a,{icon:Object(x.jsx)(qe.a,{}),children:"Upload (Max: 1)"})})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Add media"})})]})]})})]})})},Je=function(e){var t=Object(N.g)().id,n=m(),a=n.logout,c=n.isLoggedIn,r=n.authData,o=Object(N.f)(),s=Object(l.useState)(null),d=Object(i.a)(s,2),u=d[0],j=d[1],b=Object(l.useState)(null),p=Object(i.a)(b,2),h=p[0],O=p[1],f=Object(l.useState)(!1),v=Object(i.a)(f,2),g=v[0],I=v[1];return Object(l.useEffect)((function(){Ee.getProperty(t).then((function(e){O(e.data)})),H.a.getProject(t).then((function(e){j(e.data)}))}),[]),Object(l.useEffect)((function(){if(!c||(null===r||void 0===r||!r.super)&&t.toString()!==(null===r||void 0===r?void 0:r.projectId.toString()))return a(),o("/login"),null}),[c,null===r||void 0===r?void 0:r.super,null===r||void 0===r?void 0:r.projectId]),Object(x.jsxs)(y.a,{loading:!h||!u,children:[Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return I(!0)},backIcon:Object(x.jsx)(Pe.a,{}),title:"Appartments",style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"1200px",width:"100%",margin:"auto"},children:Object(x.jsx)(He,{id:t,setProject:j,setProperties:O,project:u,properties:h})})]}),Object(x.jsx)(Se.a,{title:"Menu",placement:"left",onClose:function(){return I(!1)},visible:g,children:Object(x.jsxs)(T.a,{mode:"inline",style:{width:"100%"},onClick:function(e){e.item;var t=e.key;switch(I(!1),t){case"logout":a();break;case"visit":o("/p/".concat(u.url));break;case"analytics":o("/p-admin/".concat(u.id,"/analytics"));break;default:return}},activeKey:"properties",selectedKeys:["properties"],children:[Object(x.jsx)(T.a.Item,{children:"Properties"},"properties"),Object(x.jsx)(T.a.Item,{children:"Analytics"},"analytics"),Object(x.jsx)(T.a.Item,{children:"Visit project"},"visit"),Object(x.jsx)(T.a.Item,{children:"Logout"},"logout")]})})]})},Xe=n(76),$e=n(340),Qe=n(232),Ze=n(183),et=n(373),tt=function(e){var t='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';window.URL=window.URL||window.webkitURL;var n,a=document.body,i="http://www.w3.org/2000/xmlns/",c="http://www.w3.org/1999/xlink",r="http://www.w3.org/2000/svg";function o(e){var t="untitled";e.name?t=e.name:e.id?t=e.id:e.class?t=e.class:window.document.title&&(t=window.document.title.replace(/[^a-z0-9]/gi,"-").toLowerCase());var n=window.URL.createObjectURL(new Blob(e.source,{type:"text/xml"})),i=document.createElement("a");a.appendChild(i),i.setAttribute("class","svg-crowbar"),i.setAttribute("download",t+".svg"),i.setAttribute("href",n),i.style.display="none",i.click(),setTimeout((function(){window.URL.revokeObjectURL(n)}),10)}!function(){var l=[window.document],s=[],d=document.querySelectorAll("iframe"),u=document.querySelectorAll("object");n=window.document.createElementNS(r,"svg"),window.document.body.appendChild(n);var j=getComputedStyle(n);[].forEach.call(d,(function(e){try{e.contentDocument&&l.push(e.contentDocument)}catch(t){console.log(t)}})),[].forEach.call(u,(function(e){try{e.contentDocument&&l.push(e.contentDocument)}catch(t){console.log(t)}})),l.forEach((function(n){for(var a=function(n,a){var o=[],l=n.querySelectorAll("svg");return[].forEach.call(l,(function(n){n.setAttribute("version","1.1"),n.removeAttribute("xmlns"),n.removeAttribute("xlink"),n.hasAttributeNS(i,"xmlns")||n.setAttributeNS(i,"xmlns",r),n.hasAttributeNS(i,"xmlns:xlink")||n.setAttributeNS(i,"xmlns:xlink",c),e&&function(e,t){function n(e){var n,a,i,c,r=getComputedStyle(e),o="";for(n=0,a=r.length;n<a;n++)i=r[n],(c=r.getPropertyValue(i))!==t.getPropertyValue(i)&&(o+=i+":"+c+";");e.setAttribute("style",o)}function a(e){var t=[];function n(e){if(e&&e.hasChildNodes())for(var a=e.firstChild;a;)1===a.nodeType&&"SCRIPT"!=a.nodeName&&(t.push(a),n(a)),a=a.nextSibling}return t.push(e),n(e),t}var i=a(e),c=i.length;for(;c--;)n(i[c])}(n,a);var l=(new XMLSerializer).serializeToString(n),s=n.getBoundingClientRect();o.push({top:s.top,left:s.left,width:s.width,height:s.height,class:n.getAttribute("class"),id:n.getAttribute("id"),name:n.getAttribute("name"),childElementCount:n.childElementCount,source:[t+l]})})),o}(n,j),o=0;o<a.length;o++)s.push(a[o])})),s.length>1?function(e){(function(){var e=document.querySelectorAll(".svg-crowbar");[].forEach.call(e,(function(e){e.parentNode.removeChild(e)}))})(),e.forEach((function(t){e.forEach((function(e){t!==e&&Math.abs(t.top-e.top)<38&&Math.abs(t.left-e.left)<38&&(e.top+=38,e.left+=38)}))}));var t=document.createElement("div");a.appendChild(t),t.setAttribute("class","svg-crowbar"),t.style["z-index"]=1e7,t.style.position="absolute",t.style.top=0,t.style.left=0;var n=document.createElement("div");a.appendChild(n),n.setAttribute("class","svg-crowbar"),n.style.background="rgba(255, 255, 255, 0.7)",n.style.position="fixed",n.style.left=0,n.style.top=0,n.style.width="100%",n.style.height="100%",e.forEach((function(e,n){var a=document.createElement("div");t.appendChild(a),a.setAttribute("class","svg-crowbar"),a.style.position="absolute",a.style.top=e.top+document.body.scrollTop+"px",a.style.left=document.body.scrollLeft+e.left+"px",a.style.padding="4px",a.style["border-radius"]="3px",a.style.color="white",a.style["text-align"]="center",a.style["font-family"]="'Helvetica Neue'",a.style.background="rgba(0, 0, 0, 0.8)",a.style["box-shadow"]="0px 4px 18px rgba(0, 0, 0, 0.4)",a.style.cursor="move",a.textContent="SVG #"+n+": "+(e.id?"#"+e.id:"")+(e.class?"."+e.class:"");var i=document.createElement("button");a.appendChild(i),i.setAttribute("data-source-id",n),i.style.width="150px",i.style["font-size"]="12px",i.style["line-height"]="1.4em",i.style.margin="5px 0 0 0",i.textContent="Download",i.onclick=function(t){o(e)}}))}(s):s.length>0?o(s[0]):alert("The Crowbar couldn\u2019t find any SVG nodes.")}()},nt=function(e){var t,n=Object(N.g)().id,r=Object(l.useState)({}),s=Object(i.a)(r,2),d=s[0],u=s[1],j=Object(l.useState)(!1),b=Object(i.a)(j,2),p=b[0],h=b[1],O=Object(l.useState)(null),m=Object(i.a)(O,2),f=m[0],v=m[1],g=Object(N.f)(),C=Object(l.useState)(null),P=Object(i.a)(C,2),D=P[0],U=P[1];B(),Object(l.useEffect)((function(){H.a.getProject(n).then((function(e){U(e.data),h(!0)}))}),[]);var T=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.saveProject(n,{uiData:d});case 2:(t=e.sent).data&&(L.b.success("Saved"),U(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){u(Object(a.a)(Object(a.a)({},(null===D||void 0===D?void 0:D.uiData)||{}),d))}),[null===D||void 0===D?void 0:D.uiData]);var A=Object(l.useState)(!1),F=Object(i.a)(A,2),z=F[0],M=F[1],V=Object(l.useState)(!1),R=Object(i.a)(V,2),W=R[0],K=R[1];return Object(l.useEffect)((function(){f&&(W?tt(f.withStyles):K(!0))}),[f,W]),Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return g("/admin/projects/".concat(n))},title:"UI of project id: ".concat(n),style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsxs)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",paddingBottom:"100px",maxWidth:"1200px",width:"100%",margin:"auto"},children:[p&&Object(x.jsxs)(S.a,{labelCol:{span:8},wrapperCol:{span:16},onFinish:T,onValuesChange:function(e){u((function(t){return Object(a.a)(Object(a.a)({},t),e)}))},initialValues:{background:null===d||void 0===d||null===(t=d.background)||void 0===t?void 0:t.hex,onlyInterior:null===d||void 0===d?void 0:d.onlyInterior,rooms:(null===d||void 0===d?void 0:d.rooms)||""},children:[Object(x.jsx)(S.a.Item,{label:"Only interior",name:"onlyInterior",valuePropName:"checked",children:Object(x.jsx)(ce.a,{})}),Object(x.jsx)(S.a.Item,{label:"Hide hidden elements",children:Object(x.jsx)(ce.a,{onChange:function(e){return M(e.target.checked)}})}),Object(x.jsx)(S.a.Item,{label:"Hide controls",children:Object(x.jsx)(ce.a,{onChange:function(e){return K(e.target.checked)}})}),Object(x.jsx)(I.a,{onClick:function(){v({})},children:"Save svg icons"}),Object(x.jsx)(I.a,{onClick:function(){v({withStyles:!0})},children:"Save svg icons with styles"}),Object(x.jsx)(S.a.Item,{label:"Background",name:"background",valuePropName:"color",children:Object(x.jsx)(Ze.a,{disableAlpha:!0})}),Object(x.jsx)(S.a.Item,{label:"Text",name:"textColor",valuePropName:"color",children:Object(x.jsx)(Ze.a,{disableAlpha:!0})}),Object(x.jsx)(S.a.Item,{label:"Buttons text",name:"buttonColor",valuePropName:"color",children:Object(x.jsx)(Ze.a,{disableAlpha:!0})}),Object(x.jsx)(S.a.Item,{label:"Buttons hover text",name:"buttonHoverColor",valuePropName:"color",children:Object(x.jsx)(Ze.a,{disableAlpha:!0})}),Object(x.jsx)(S.a.Item,{label:"Rooms",name:"rooms",children:Object(x.jsx)(et.a,{height:"200px"})}),Object(x.jsx)(S.a.Item,{wrapperCol:{offset:8,span:16},children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Save"})})]}),Object(x.jsx)(Qe.a,{project:D,admin:!0,uiData:d,setUiData:u,hideHidden:z,hideControls:W})]})]})})},at=n(228),it=function(e){var t=Object(l.useState)(null),n=Object(i.a)(t,2),c=n[0],r=n[1],o=e.featured,s=Object(N.g)().id,d=Object(Xe.b)(),u=Object(i.a)(d,1)[0];return s||(s=u.get("project")),Object(l.useEffect)((function(){r(null),o?H.a.getFeaturedProject().then((function(e){r(Object(a.a)(Object(a.a)({},e.data.project),{},{properties:e.data.properties}))})):H.a.getProjectByUrl(s).then((function(e){r(Object(a.a)(Object(a.a)({},e.data.project),{},{properties:e.data.properties}))}))}),[s,o]),Object(x.jsx)(y.a,{loading:!c,isProject:!0,children:Object(x.jsx)(at.a,{project:c,activeUI:[],open:!0,uiData:(null===c||void 0===c?void 0:c.uiData)||{}})})},ct=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,1410))})),rt=Object(l.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,1398))})),ot=Object(l.lazy)((function(){return n.e(6).then(n.bind(null,1414))}));var lt=function(){return Object(x.jsx)(Xe.a,{history:u,children:Object(x.jsx)(l.Suspense,{fallback:Object(x.jsx)(y.a,{}),children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(L.a,{position:"top-right"}),Object(x.jsxs)(N.c,{children:[Object(x.jsx)(N.a,{exact:!0,path:"/",element:Object(x.jsx)(ct,{})}),Object(x.jsx)(N.a,{path:"/login",element:Object(x.jsx)(we,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/admin",element:Object(x.jsx)(Ae,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/admin/projects/:id",element:Object(x.jsx)(Ce,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/admin/projects/create",element:Object(x.jsx)(he,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/admin/projects/:id/properties",element:Object(x.jsx)(Ke,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/admin/projects/:id/media",element:Object(x.jsx)(Ye,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/admin/projects/:id/ui",element:Object(x.jsx)(nt,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/admin/contant",element:Object(x.jsx)(ee,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/admin/admins",element:Object(x.jsx)(R,{})}),Object(x.jsx)(N.a,{path:"/reset-password",element:Object(x.jsx)(ot,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/p/:id",element:Object(x.jsx)(rt,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/g/:id",element:Object(x.jsx)(it,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/gallery",element:Object(x.jsx)(it,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/pa",element:Object(x.jsx)($e.a,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/p-admin/:id",element:Object(x.jsx)(Je,{})}),Object(x.jsx)(N.a,{exact:!0,path:"/p-admin/:id/analytics",element:Object(x.jsx)(Q,{})}),Object(x.jsx)(N.a,{path:"*",element:Object(x.jsx)("h1",{children:"404 Error Found"})})]})]})})})},st=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,1413)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};n(617),n(618);v.a.render(Object(x.jsx)(g.b,{children:Object(x.jsx)(O,{children:Object(x.jsx)(lt,{})})}),document.getElementById("root")),st()}},[[619,3,4]]]);
//# sourceMappingURL=main.d8ab5873.chunk.js.map