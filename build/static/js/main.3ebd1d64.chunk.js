(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[2],{129:function(e,t,n){"use strict";var a=n(23),c=n(12),i=n(13),r=n(16),o=n.n(r),s=n(34),l=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"login",value:function(){var e=Object(a.a)(o.a.mark((function e(t,n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("/auth/login",{email:t,password:n});case 2:return a=e.sent,c=a.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"googleLogin",value:function(){var e=Object(a.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("/auth/google",{token:t});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("expiresAt")}},{key:"forgotPassword",value:function(e){return s.a.post("/auth/forgot-password",{email:e})}},{key:"checkToken",value:function(e,t){return s.a.post("auth/check-token",{token:e,email:t})}},{key:"resetPassword",value:function(e,t,n,a){return s.a.post("auth/reset-password",{token:e,email:t,password:n,password2:a})}},{key:"register",value:function(e,t,n){return s.a.post("auth/signup",{username:e,email:t,password:n})}},{key:"getCurrentUser",value:function(){return s.a.get("/users/profile")}}]),e}();t.a=new l},230:function(e,t,n){"use strict";var a=n(12),c=n(13),i=n(34),r=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getConstant",value:function(){return i.a.get("/constant")}},{key:"saveConstant",value:function(e){return i.a.put("/constant",e)}}]),e}();t.a=new r},279:function(e,t,n){"use strict";var a,c,i,r,o,s,l,d,u,j,b,p,x,h,O,f,m,v,g,y,w,k,I,C,S,P,T,A,F,L,E,N,M,D,U,W,z=n(8),V=n(5),B=n(0),R=n(292),K=n(2),q=n(30),H=n(305),_=n(31),Y=n(524),G=n(143),J=n(4),Q=_.a.div(a||(a=Object(q.a)(["\n  bottom: 60px;\n  left: 0px;\n  right: 0px;\n  position: absolute;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  visibility: ",";\n"])),(function(e){return e.open?"visible":"hidden"})),X=_.a.div(c||(c=Object(q.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-x: auto;\n  white-space: nowrap;\n  justify-content: end;\n  align-items: center;\n"]))),Z=_.a.div(i||(i=Object(q.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-x: auto;\n  white-space: nowrap;\n  justify-content: end;\n  width: 100%;\n  max-width: 600px;\n"]))),$=_.a.div(r||(r=Object(q.a)(["\n  background-color: black;\n  border-radius: 5px;\n  color: white !important;\n  padding: 15px 20px;\n  display: flex;\n  flex-direction: column;\n"]))),ee=_.a.div(o||(o=Object(q.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: space-between;\n"]))),te=_.a.div(s||(s=Object(q.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 200px;\n"]))),ne=_.a.div(l||(l=Object(q.a)(["\n  font-size: 40px;\n"]))),ae=_.a.div(d||(d=Object(q.a)(["\n  font-size: 26px;\n"]))),ce=_.a.div(u||(u=Object(q.a)(["\n  font-size: 16px;\n"]))),ie=_.a.div(j||(j=Object(q.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),re=_.a.div(b||(b=Object(q.a)(["\n  line-height: 40px;\n"]))),oe=_.a.div(p||(p=Object(q.a)([""]))),se=_.a.div(x||(x=Object(q.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  margin-top: 20px;\n"]))),le=_.a.div(h||(h=Object(q.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin: 0 10px;\n"]))),de=_.a.div(O||(O=Object(q.a)(["\n  margin-left: 10px;\n"]))),ue=_.a.div(f||(f=Object(q.a)(["\n  background-color: black;\n  border-radius: 5px;\n  color: white;\n  padding: 15px 20px;\n  display: flex;\n  margin-top: 5px;\n  justify-content: center;\n"]))),je=_.a.div(m||(m=Object(q.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 5px;\n  margin: 0 10px;\n"]))),be=_.a.div(v||(v=Object(q.a)(["\n  margin-top: 5px;\n"]))),pe=function(e){e.icon;var t=e.children;return Object(J.jsxs)(le,{children:[Object(J.jsx)(Y.a,{style:{fontSize:"30px"}}),Object(J.jsx)(de,{children:t})]})},xe=function(e){e.icon;var t=e.children;return Object(J.jsxs)(je,{children:[Object(J.jsx)(Y.a,{style:{fontSize:"30px"}}),Object(J.jsx)(be,{children:t})]})},he=function(e){var t,n=null===(t=e.activeUI)||void 0===t?void 0:t.includes("apartment");return Object(J.jsx)(Q,{open:n,children:Object(J.jsx)(X,{children:Object(J.jsxs)(Z,{children:[Object(J.jsxs)($,{children:[Object(J.jsxs)(ee,{children:[Object(J.jsxs)(te,{children:[Object(J.jsx)(ne,{children:"Name"}),Object(J.jsx)(ae,{children:"Price"}),Object(J.jsx)(ce,{children:"Available"})]}),Object(J.jsxs)(ie,{children:[Object(J.jsx)(re,{children:"Lot frontage: 10m2"}),Object(J.jsx)(oe,{children:"Lot depth: 10m2"})]})]}),Object(J.jsxs)(se,{children:[Object(J.jsx)(pe,{icon:Object(J.jsx)(G.a,{}),children:"4 bed"}),Object(J.jsx)(pe,{icon:Object(J.jsx)(G.a,{}),children:"2 bath"}),Object(J.jsx)(pe,{icon:Object(J.jsx)(G.a,{}),children:"180 m2"})]})]}),Object(J.jsxs)(ue,{children:[Object(J.jsx)(xe,{icon:Object(J.jsx)(G.a,{}),children:"3D Tour"}),Object(J.jsx)(xe,{icon:Object(J.jsx)(G.a,{}),children:"Virtual tour"}),Object(J.jsx)(xe,{icon:Object(J.jsx)(G.a,{}),children:"Floor plan"})]})]})})})},Oe=_.a.div(g||(g=Object(q.a)(["\n  color: ",";\n  cursor: pointer;\n  padding: 0px 5px;\n  font-size: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  user-select: none;\n  > p {\n    font-size: 13px;\n    margin: 0;\n    text-transform: uppercase;\n  }\n"])),(function(e){return e.isActive?"lightblue":"white"})),fe=function(e){var t=e.activeUI,n=e.value,a=e.title,c=e.icon,i=e.onUnclick,r=e.onClick,o=e.visible,s=null===t||void 0===t?void 0:t.includes(n||a);return null!==t&&void 0!==t&&t.filter((function(e){return o.includes(e)})).length?Object(J.jsxs)(Oe,{onClick:s?i:r,isActive:s,children:[c,a&&Object(J.jsx)("p",{children:a})]}):null},me=n(302),ve=n(510),ge=n(22),ye=n(509),we=n(58),ke=_.a.div(y||(y=Object(q.a)(["\n  top: 20px;\n  bottom: 60px;\n  left: 0;\n  right: 0;\n  position: absolute;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  visibility: ",";\n"])),(function(e){return e.open?"visible":"hidden"})),Ie=_.a.div(w||(w=Object(q.a)(["\n  background-color: rgba(0, 0, 0, 0.8);\n  width: 100%;\n  padding: 0px 30px 20px;\n  max-height: 100%;\n  max-width: 600px;\n  overflow: auto;\n"]))),Ce={wrapperCol:{offset:8,span:16}},Se=function(e){var t=e.options,n=e.value,a=e.onChange;return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(me.a.CheckableTag,{onClick:function(){return a([])},checked:!(null!==n&&void 0!==n&&n.length),style:{color:"white"},children:"All"}),t.map((function(e){var t=e.value,c=e.label;return Object(J.jsx)(me.a.CheckableTag,{onClick:function(){null!==n&&void 0!==n&&n.includes(t)?a(n.filter((function(e){return e!==t}))):a([].concat(Object(z.a)(n||[]),[t]))},checked:null===n||void 0===n?void 0:n.includes(t),style:{color:"white"},children:c||t},t)}))]})},Pe=function(e){var t,n=null===(t=e.activeUI)||void 0===t?void 0:t.includes("filter"),a=ve.a.useForm(),c=Object(V.a)(a,1)[0];return Object(J.jsx)(ke,{open:n,children:Object(J.jsx)(Ie,{children:Object(J.jsx)(ge.a,{getPopupContainer:function(e){return e.parentNode},children:Object(J.jsxs)(ve.a,{layout:"vertical",form:c,children:[[{name:"budget",label:"Budget",type:"range",min:0,max:100,step:1},{name:"size",label:"Size",type:"range",min:0,max:100,step:1},{name:"bedrooms",label:"Bedrooms",type:"range",min:0,max:5,step:.5},{name:"bathrooms",label:"Bathrooms",type:"range",min:0,max:3,step:.5},{name:"availability",label:"Availability",type:"selectMulti",options:[{value:"Available"},{value:"Reserved"},{value:"Sold"}]},{name:"orientation",label:"Orientation",type:"selectMulti",options:[{value:"N"},{value:"NE"},{value:"E"},{value:"SE"},{value:"S"},{value:"SW"},{value:"W"},{value:"NW"}]},{name:"depth",label:"Depth",type:"range",min:0,max:100,step:.5},{name:"frontage",label:"Frontage",type:"range",min:0,max:100,step:.5}].map((function(e){var t=e.name,a=e.label,c=e.type,i=e.defaultValue,r=e.min,o=e.max,s=e.step,l=e.options;return Object(J.jsx)(ve.a.Item,{name:t,label:Object(J.jsx)("label",{style:{color:"white"},children:a}),style:{margin:"50px 0"},children:n?"range"===c?Object(J.jsx)(ye.a,{defaultValue:i||[r,o],min:r,max:o,step:s,range:{draggableTrack:!0},tooltipVisible:!0,tooltipPlacement:"bottom"}):Object(J.jsx)(Se,{options:l,defaultValue:i}):null})})),n&&Object(J.jsxs)(ve.a.Item,Object(K.a)(Object(K.a)({},Ce),{},{children:[Object(J.jsx)(we.a,{htmlType:"button",style:{margin:"0 8px"},type:"link",onClick:function(){return c.resetFields()},children:"Reset"}),Object(J.jsx)(we.a,{type:"primary",onClick:function(){return e.setActiveUI([])},children:"Apply"})]}))]})})})})},Te=(n(495),n(297)),Ae=n.n(Te),Fe=_.a.div(k||(k=Object(q.a)(["\n  top: 20px;\n  bottom: 60px;\n  left: 20px;\n  right: 20px;\n  padding: 10px;\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.8);\n  visibility: ",";\n"])),(function(e){return e.open?"visible":"hidden"})),Le=_.a.div(I||(I=Object(q.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n"]))),Ee=function(e){var t=e.project,n=e.activeUI,a=Object(B.useState)(""),c=Object(V.a)(a,2),i=c[0],r=c[1],o=Object(B.useState)(0),s=Object(V.a)(o,2),l=s[0],d=s[1],u=Object(B.useState)({}),j=Object(V.a)(u,2),b=j[0],p=j[1],x=Object(B.useRef)();Object(B.useEffect)((function(){d(0)}),[i]);var h=function(){x.current&&p({width:x.current.clientWidth,height:x.current.clientHeight})};if(Object(B.useEffect)((function(){window.addEventListener("resize",h),h()}),[]),!t)return null;var O=t.media,f=(null===O||void 0===O?void 0:O.filter((function(e){return!i||i===e.type})).map((function(e,t){return"video"!==e.type?Object(K.a)(Object(K.a)({},e),{},{original:e.url,thumbnail:e.thumbnail,description:e.name,originalClass:"featured-slide",thumbnailClass:"featured-thumb"}):Object(K.a)(Object(K.a)({},e),{},{index:t,thumbnail:e.url,renderItem:function(t){return l===t.index?Object(J.jsxs)("video",{controls:!0,preload:"auto",autoPlay:!0,muted:!0,style:{width:"100%",height:"100%"},children:[Object(J.jsx)("source",{src:e.url,type:"video/mp4"}),Object(J.jsxs)("p",{class:"vjs-no-js",children:["To view this video please enable JavaScript, and consider upgrading to a web browser that",Object(J.jsx)("a",{href:"https://videojs.com/html5-video-support/",target:"_blank",rel:"noreferrer",children:"supports HTML5 video"})]})]}):null},renderThumbInner:function(t){return Object(J.jsxs)("div",{style:{position:"relative"},children:[Object(J.jsxs)("video",{id:"my-player",class:"video-js",controls:!0,"data-setup":"{}",style:{width:"100%",height:"100%"},children:[Object(J.jsx)("source",{src:e.url,type:"video/mp4"}),Object(J.jsxs)("p",{class:"vjs-no-js",children:["To view this video please enable JavaScript, and consider upgrading to a web browser that",Object(J.jsx)("a",{href:"https://videojs.com/html5-video-support/",target:"_blank",rel:"noreferrer",children:"supports HTML5 video"})]})]}),Object(J.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0}})]})}})})).filter((function(e){return e})))||[],m=function(e){r(e===i?"":e)};return Object(J.jsx)(Fe,{ref:x,open:n.includes("gallery"),children:Object(J.jsxs)(Le,{children:[Object(J.jsxs)("div",{className:"buttons",children:[Object(J.jsx)("div",{onClick:function(){return m("photo")},className:"photo"===i?"active":void 0,children:Object(J.jsx)("img",{src:"/gallery/photo.png"})}),Object(J.jsx)("div",{onClick:function(){return m("plan")},className:"plan"===i?"active":void 0,children:Object(J.jsx)("img",{src:"/gallery/plan.png"})}),Object(J.jsx)("div",{onClick:function(){return m("video")},className:"video"===i?"active":void 0,children:Object(J.jsx)("img",{src:"/gallery/video.png"})})]}),Object(J.jsx)(Ae.a,{items:f,showBullets:!1,showFullscreenButton:!1,showPlayButton:!1,thumbnailPosition:b.height>b.width?"bottom":"right",onSlide:d,startIndex:l})]})})},Ne=_.a.div(C||(C=Object(q.a)(["\n  bottom: 60px;\n  left: 0px;\n  right: 0px;\n  position: absolute;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  visibility: ",";\n"])),(function(e){return e.open?"visible":"hidden"})),Me=_.a.div(S||(S=Object(q.a)(["\n  display: flex;\n  flex: 1;\n  overflow-x: auto;\n"]))),De=_.a.div(P||(P=Object(q.a)(["\n  background-color: rgba(0, 0, 0, 0.8);\n  border-radius: 5px;\n  color: white;\n  margin: 0 6px;\n  padding: 5px 10px;\n  white-space: nowrap;\n"]))),Ue=function(e){var t,n=null===(t=e.activeUI)||void 0===t?void 0:t.includes("location");return Object(J.jsx)(Ne,{open:n,children:Object(J.jsx)(Me,{children:["Level 1","Level 2","Level 3","Level 4","Level 5"].map((function(e){return Object(J.jsx)(De,{children:e})}))})})},We=_.a.div(T||(T=Object(q.a)(["\n  top: 20px;\n  bottom: 60px;\n  left: 0;\n  right: 0;\n  position: absolute;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  visibility: ",";\n"])),(function(e){return e.open?"visible":"hidden"})),ze=_.a.table(A||(A=Object(q.a)(["\n  width: 100%;\n  border-collapse: separate;\n  border-spacing: 0 3px;\n  color: white;\n  max-width: 300px;\n"]))),Ve=_.a.tr(F||(F=Object(q.a)(["\n  background-color: rgba(0, 0, 0, 0.8);\n  margin: 5px 0;\n  border-radius: 5px;\n  td {\n    padding: 5px;\n  }\n  td:first-child {\n    border-top-left-radius: 5px;\n  }\n  td:last-child {\n    border-top-right-radius: 5px;\n  }\n\n  td:first-child {\n    border-bottom-left-radius: 5px;\n  }\n  td:last-child {\n    border-bottom-right-radius: 5px;\n  }\n"]))),Be=_.a.td(L||(L=Object(q.a)(["\n  text-align: right;\n"]))),Re=_.a.td(E||(E=Object(q.a)(["\n  width: 100%;\n"]))),Ke=_.a.td(N||(N=Object(q.a)(["\n  text-align: left;\n"]))),qe=function(e){var t,n=null===(t=e.activeUI)||void 0===t?void 0:t.includes("sun");return Object(J.jsx)(We,{open:n,children:Object(J.jsx)(ze,{children:Object(J.jsxs)("tbody",{children:[Object(J.jsxs)(Ve,{children:[Object(J.jsx)(Be,{children:"12:00"}),Object(J.jsx)(Re,{children:Object(J.jsx)(ye.a,{})}),Object(J.jsx)(Ke,{children:"17:00"})]}),Object(J.jsxs)(Ve,{children:[Object(J.jsx)(Be,{children:"S"}),Object(J.jsx)(Re,{children:Object(J.jsx)(ye.a,{})}),Object(J.jsx)(Ke,{children:"N"})]})]})})})},He=n(525),_e=n(526),Ye=n(527),Ge=n(142),Je=n(528),Qe=n(209),Xe=_.a.div(M||(M=Object(q.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n  height: 100%;\n  position: relative;\n  > * {\n    margin: 0px 16px;\n  }\n"]))),Ze=function(e){var t=e.activeUI,n=e.setActiveUI;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(Xe,{children:[Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"home",icon:Object(J.jsx)(He.a,{}),onClick:function(){return n(["exterior"])},visible:["exterior"]})),Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"gallery",icon:Object(J.jsx)(_e.a,{}),onClick:function(){return n([t[0],"gallery"])},onUnclick:function(){return n([t[0]])},visible:["exterior","interior"]})),Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"nearby",icon:Object(J.jsx)(Ye.a,{}),onClick:function(){return n([t[0],"nearby"])},onUnclick:function(){return n([t[0]])},visible:["exterior"]})),Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"filter",icon:Object(J.jsx)(Ge.a,{}),onClick:function(){return n([t[0],"filter"])},onUnclick:function(){return n([t[0]])},visible:["exterior"]})),Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"materials",icon:Object(J.jsx)(Ge.a,{}),onClick:function(){return n([t[0],"materials"])},onUnclick:function(){return n([t[0]])},visible:["interior"]})),Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"teleport",icon:Object(J.jsx)(Ge.a,{}),onClick:function(){return n([t[0],"teleport"])},onUnclick:function(){return n([t[0]])},visible:["interior"]})),Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"info",icon:Object(J.jsx)(Ge.a,{}),onClick:function(){return n([t[0],"info"])},onUnclick:function(){return n([t[0]])},visible:["interior"]})),Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"location",icon:Object(J.jsx)(Je.a,{}),onClick:function(){return n([t[0],"location"])},onUnclick:function(){return n([t[0]])},visible:["exterior","interior"]})),Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"sun",icon:Object(J.jsx)(Qe.a,{}),onClick:function(){return n([t[0],"sun"])},onUnclick:function(){return n([t[0]])},visible:["exterior","interior"]})),Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"interior",icon:Object(J.jsx)(Qe.a,{}),onClick:function(){return n(["interior"])},onUnclick:function(){return n(["exterior"])},visible:["exterior","interior"]})),Object(J.jsx)(fe,Object(K.a)(Object(K.a)({},e),{},{title:"apartment",icon:Object(J.jsx)(Qe.a,{}),onClick:function(){return n(["exterior","apartment"])},onUnclick:function(){return n(["exterior"])},visible:["exterior"]}))]})})},$e=_.a.div(D||(D=Object(q.a)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 50px;\n  display: flex;\n  overflow-x: auto;\n"]))),et=_.a.div(U||(U=Object(q.a)(["\n  background: black;\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: row;\n"]))),tt=_.a.div(W||(W=Object(q.a)(["\n  background: black;\n  margin-left: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0px 16px;\n"]))),nt=function(e){var t=Object(B.useState)(["exterior"]),n=Object(V.a)(t,2),a=n[0],c=n[1],i=Object(K.a)(Object(K.a)({},e),{},{activeUI:a,setActiveUI:c});return Object(J.jsxs)("div",{style:{zIndex:1},children:[Object(J.jsxs)($e,{children:[Object(J.jsx)(et,{children:Object(J.jsx)(Ze,Object(K.a)({},i))}),Object(J.jsx)(tt,{children:Object(J.jsx)(fe,{icon:Object(J.jsx)(H.a,{}),visible:["exterior","interior"],activeUI:a})})]}),Object(J.jsx)(Pe,Object(K.a)({},i)),Object(J.jsx)(Ee,Object(K.a)({},i)),Object(J.jsx)(qe,Object(K.a)({},i)),Object(J.jsx)(Ue,Object(K.a)({},i)),Object(J.jsx)(he,Object(K.a)({},i))]})};t.a=function(e){var t=e.project,n=e.setVideoInitialized,a=Object(B.useRef)(null),c=Object(B.useRef)(null),i=Object(B.useRef)(null),r=Object(B.useState)(),o=Object(V.a)(r,2),s=o[0],l=o[1],d=Object(B.useState)([]),u=Object(V.a)(d,2),j=u[0],b=u[1],p=Object(B.useRef)(),x=function(e){b([e].concat(Object(z.a)(j)))},h=function(){s&&s.emitUIInteraction({time:30}),n(!0)};return Object(B.useEffect)((function(){var t={address:e.project.arcwareAddress||"wss://signalling-client.ragnarok.arcware.cloud/",packageId:e.project.arcwarePackageId||"ff41fd0c-cac9-4e4c-abe5-3ada402f57cc",settings:{},autoplay:{video:!0,audio:!0},sizeContainer:a.current,container:c.current,videoRef:i.current,playOverlay:!1,loader:function(){},applicationResponse:x,videoInitializeCallback:h};p.current||(p.current=!0,l(new R.a(t)))}),[]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{ref:a,style:{flex:1},children:Object(J.jsx)("div",{ref:c,style:{zIndex:1},children:Object(J.jsx)("video",{ref:i})})}),null!=s&&(null===t||void 0===t?void 0:t.newUI)&&Object(J.jsx)(nt,{emitUIInteraction:s.emitUIInteraction,project:t})]})}},34:function(e,t,n){"use strict";var a=n(154),c=n.n(a).a.create({baseURL:"https://tour.immersiv.com.au/api",withCredentials:!0});c.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers["auth-token"]=t),e}),(function(e){return Promise.reject(e)})),t.a=c},483:function(e,t){},496:function(e,t,n){},498:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(5),i=n(23),r=n(16),o=n.n(r),s=n(0),l=n(34),d=n(300),u=Object(d.a)(),j=function(e){var t=e.children,n=f(),a=n.isInitiated,c=n.logout;return Object(s.useEffect)((function(){l.a.interceptors.response.use((function(e){return e}),function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,401!==t.response.status||"/auth/refresh-token"!==n.url){e.next=3;break}return e.abrupt("return",new Promise((function(e,n){c(),u.push("/login"),n(t)})));case 3:if(401!==t.response.status||n._retry){e.next=17;break}return e.prev=4,n._retry=!0,e.next=8,l.a.post("/auth/refresh-token");case 8:return a=e.sent,localStorage.setItem("token",a.data.token),e.abrupt("return",Object(l.a)(n));case 13:e.prev=13,e.t0=e.catch(4),c(),u.push("/login");case 17:return e.abrupt("return",Promise.reject(t));case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}())}),[]),a?t:null},b=n(129),p=n(280),x=n(4),h=Object(s.createContext)(),O=function(e){var t=e.children,n=Object(s.useState)({token:""}),i=Object(c.a)(n,2),r=i[0],o=i[1],l=Object(s.useState)(!1),d=Object(c.a)(l,2),u=d[0],O=d[1],f=Object(s.useState)(!1),m=Object(c.a)(f,2),v=m[0],g=m[1];Object(s.useEffect)((function(){localStorage.getItem("token")&&(O(!0),o((function(){return y(localStorage.getItem("token"))}))),g(!0)}),[]);var y=function(e){if(e){var t=Object(p.a)(e);return Object(a.a)(Object(a.a)({},t),{},{token:e})}return{token:""}};return Object(x.jsx)(h.Provider,{value:{setUserState:function(e){return function(e){var t=e.token;O(!0),o((function(){return y(t)})),localStorage.setItem("token",t)}(e)},logout:function(){o(null),O(!1),b.a.logout()},isInitiated:v,isLoggedIn:u,setIsLoggedIn:O,authData:r,setAuthData:o},children:Object(x.jsx)(j,{children:t})})},f=function(){var e=Object(s.useContext)(h);if(void 0===e)throw new Error("useUser must be used within UserProvider");return e},m=n(54),v=n.n(m),g=n(182),y=n(53),w=n(501),k=n(507),I=n(58),C=n(512),S=n(510),P=n(299),T=n(514),A=n(198),F=n(137),L=n(502),E=n(65),N=n(516),M=n(35),D=n(47),U=n(12),W=n(13),z=new(function(){function e(){Object(U.a)(this,e)}return Object(W.a)(e,[{key:"getAdmin",value:function(){return l.a.get("/admins")}},{key:"createAdmin",value:function(e){return l.a.post("/admins",e)}},{key:"deleteAdmin",value:function(e){return l.a.delete("/admins/".concat(e))}}]),e}()),V=function(){var e=Object(M.f)(),t=f(),n=t.isLoggedIn,a=t.authData,c=t.logout,i=t.isInitiated;Object(s.useEffect)((function(){if(i){if(!n)return c(),e("/login"),null;if(null===a||void 0===a||!a.super)return null!==a&&void 0!==a&&a.projectId?(e("/p-admin/".concat(a.projectId)),null):(c(),e("/login"),null)}}),[n,null===a||void 0===a?void 0:a.super,null===a||void 0===a?void 0:a.projectId,i])},B=function(e){var t=Object(s.useRef)(null),n=Object(s.useState)(null),a=Object(c.a)(n,2),r=a[0],l=a[1],d=Object(s.useState)(null),u=Object(c.a)(d,2),j=u[0],b=u[1],p=Object(M.f)();Object(s.useEffect)((function(){z.getAdmin().then((function(e){l(e.data)}))}),[]),V();var h=function(){var e=Object(i.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.createAdmin(n);case 2:(a=e.sent).data&&(D.b.success("Saved"),l(a.data),b(null),t.current&&t.current.resetFields());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.deleteAdmin(t);case 2:(n=e.sent).data&&l(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(y.a,{loading:!r,children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return p("/admin")},title:"Admins",style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsxs)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"800px",width:"100%",margin:"auto"},children:[Object(x.jsx)(I.a,{onClick:function(){return b({})},style:{margin:"16px"},children:"Add admin"}),Object(x.jsx)(C.a,{visible:!!j,onCancel:function(){return b(null)},footer:null,children:Object(x.jsxs)(S.a,{onFinish:h,style:{padding:" 16px",maxWidth:"500px",margin:"auto"},ref:t,children:[Object(x.jsx)(S.a.Item,{name:"email",rules:[{required:!0,message:"Please add name!",type:"email"}],children:Object(x.jsx)(P.a,{placeholder:"Email"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Save"})})]})}),r&&Object(x.jsx)(T.b,{itemLayout:"horizontal",dataSource:r.sort((function(e,t){return e.name>t.name?1:-1})),renderItem:function(e){return Object(x.jsx)(T.b.Item,{actions:[Object(x.jsx)(A.a,{overlay:Object(x.jsx)(F.a,{children:Object(x.jsx)(L.a,{title:"Are you sure to delete this admin?",onConfirm:function(){return O(e.email)},okText:"Yes",cancelText:"No",children:Object(x.jsx)(F.a.Item,{danger:!0,children:"Delete"},"3")})}),trigger:["click"],children:Object(x.jsx)(N.a,{style:{fontSize:"30px"}})})],style:{borderBottom:"3px solid #ccc",paddingLeft:"16px"},children:Object(x.jsx)(T.b.Item.Meta,{title:e.email,description:e.locked?"Locked":"Not locked"})})}})]})]})})},R=n(504),K=n(56),q=n(76),H=n.n(q),_=new(function(){function e(){Object(U.a)(this,e)}return Object(W.a)(e,[{key:"getGA",value:function(e,t,n,a){return l.a.post("/ga/".concat(e),{metrics:t,dimensions:n,start:a[0],finish:a[1]})}},{key:"getAccessToken",value:function(){return l.a.get("/ga/access-token")}}]),e}()),Y=n(8),G=n(285),J=n(235),Q=n.n(J),X=function(e){var t=e.data,n=e.title,a=e.column,c=e.seconds,i=e.type,r=void 0===i?"LineChart":i,o=e.isDate,s=void 0===o||o,l=t?[[Q()(t.columnHeaders[0].name.replace("ga:","")),Q()(t.columnHeaders[a].name.replace("ga:",""))]].concat(Object(Y.a)(t.rows.map((function(e){return[s?H()(e[0],"YYYYMMDD").format("D MMM"):e[0],parseInt(e[a])/(c?60:1)]})).sort((function(e,t){return s?0:t[1]-e[1]})))):[];return Object(x.jsx)("div",{style:{maxWidth:"400px",margin:"20px",width:"100%"},children:Object(x.jsx)(G.a,{chartType:r,width:"100%",height:"400px",data:l,options:{title:n,legend:{position:"none"},chartArea:{width:"85%",height:"80%"},allowHtml:!0,width:"100%"}})})},Z=function(e){var t=Object(M.g)().id,n=Object(s.useState)(null),a=Object(c.a)(n,2),i=a[0],r=a[1],o=Object(s.useState)(null),l=Object(c.a)(o,2),d=l[0],u=l[1],j=Object(s.useState)(null),b=Object(c.a)(j,2),p=b[0],h=b[1],O=Object(s.useState)(null),m=Object(c.a)(O,2),v=m[0],g=m[1],I=Object(s.useState)(null),C=Object(c.a)(I,2),S=C[0],P=C[1],T=Object(s.useState)([H()().subtract(7,"day").format(),H()().format()]),A=Object(c.a)(T,2),F=A[0],L=A[1],N=Object(M.f)(),U=f(),W=U.logout,z=U.isLoggedIn,V=U.authData;Object(s.useEffect)((function(){if(!z||(null===V||void 0===V||!V.super)&&t.toString()!==(null===V||void 0===V?void 0:V.projectId.toString()))return W(),N("/login"),null}),[z,null===V||void 0===V?void 0:V.super,null===V||void 0===V?void 0:V.projectId]),Object(s.useEffect)((function(){K.a.getProject(t).then((function(e){r(e.data)}))}),[]),Object(s.useEffect)((function(){2===F.length&&null!==i&&void 0!==i&&i.id&&(u(null),h(null),g(null),P(null),B())}),[F[0],F[1],null===i||void 0===i?void 0:i.id]);var B=function(){_.getGA(i.id,"ga:users,ga:newUsers,ga:pageviews,ga:sessions,ga:sessionDuration","ga:date",F).then((function(e){u(e.data.data)})).catch((function(e){D.b.error("Users analytics data not loaded")})),_.getGA(i.id,"ga:users","ga:city",F).then((function(e){h(e.data.data)})).catch((function(e){D.b.error("Location analytics data not loaded")})),_.getGA(i.id,"ga:users","ga:deviceCategory",F).then((function(e){g(e.data.data)})).catch((function(e){D.b.error("Device analytics data not loaded")})),_.getGA(i.id,"ga:users","ga:source",F).then((function(e){P(e.data.data)})).catch((function(e){D.b.error("Source analytics data not loaded")}))};return Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return N("/p-admin/".concat(t))},title:Object(x.jsxs)(x.Fragment,{children:["Analytics",Object(x.jsx)("br",{}),Object(x.jsx)(R.a.RangePicker,{size:"large",defaultValue:[H()().subtract(7,"day"),H()()],onChange:function(e){return L([e[0].format(),e[1].format()])},allowClear:!1})]}),style:{borderBottom:"1px #ccc solid"}}),i&&Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",paddingTop:"100px",padding:"16px",width:"100%",margin:"auto"},children:Object(x.jsxs)("div",{style:{textAlign:"center",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},children:[Object(x.jsx)(X,{data:d,title:"Users",xKey:"start",valKey:"value",column:1}),Object(x.jsx)(X,{data:d,title:"New users",xKey:"start",valKey:"value",column:2}),Object(x.jsx)(X,{data:d,title:"Page views",xKey:"start",valKey:"value",column:3}),Object(x.jsx)(X,{data:d,title:"Sessions",xKey:"start",valKey:"value",column:4}),Object(x.jsx)(X,{data:d,title:"Session duration (minutes)",xKey:"start",valKey:"value",column:5,seconds:!0}),Object(x.jsx)(X,{data:v,title:"Device type",xKey:"start",valKey:"value",type:"PieChart",column:1,seconds:!0,isDate:!1}),Object(x.jsx)(X,{data:S,title:"Source",xKey:"start",valKey:"value",type:"BarChart",column:1,isDate:!1}),Object(x.jsx)(X,{data:p,title:"Source",xKey:"start",valKey:"value",type:"Table",column:1,isDate:!1})]})})]})})},$=n(230),ee=function(e){var t=Object(s.useState)(null),n=Object(c.a)(t,2),a=n[0],r=n[1],l=Object(s.useRef)(null),d=Object(M.f)();Object(s.useEffect)((function(){$.a.getConstant().then((function(e){e.data?(r(e.data),l.current&&l.current.setFieldsValue(e.data)):r({})})).catch((function(){r({})}))}),[]),V();var u=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.saveConstant(t);case 2:(n=e.sent).data&&(r(n.data),D.b.success("Saved"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return d("/admin")},title:"Constants",style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"800px",width:"100%",margin:"auto"},children:Object(x.jsxs)(S.a,{ref:l,name:"normal_login",onFinish:u,style:{padding:" 16px",maxWidth:"500px",margin:"auto"},initialValues:a,children:[Object(x.jsx)(S.a.Item,{name:"email",children:Object(x.jsx)(P.a,{placeholder:"Email"})}),Object(x.jsx)(S.a.Item,{name:"phone",children:Object(x.jsx)(P.a,{placeholder:"Phone"})}),Object(x.jsx)(S.a.Item,{name:"call",children:Object(x.jsx)(P.a,{placeholder:"Phone in international format"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Save"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{onClick:function(){l.current&&l.current.resetFields()},style:{width:"100%"},children:"Reset"})})]})})]})})},te=n(3),ne=n(71),ae=n(508),ce=n(505),ie=n(147),re=n(515),oe=n(286),se=n.n(oe),le=n(154),de=n.n(le),ue=new(function(){function e(){Object(U.a)(this,e)}return Object(W.a)(e,[{key:"signUrl",value:function(e,t){return l.a.get("/utils/sign-s3",{params:{isVideo:!!e,isLogo:!!t}})}}]),e}()),je=function(e,t,n){return function(){var a=Object(i.a)(o.a.mark((function a(c){var i,r,s,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c.action,c.data,i=c.file,c.filename,c.headers,r=c.onError,c.onProgress,s=c.onSuccess,c.withCredentials,a.prev=1,a.next=4,ue.signUrl(t,n);case 4:l=a.sent,de.a.put(l.data.signedRequest,i,{}).then((function(t){e({url:l.data.url,thumbnail:l.data.thumbnail}),s(l.data.thumbnail)})).catch((function(e){console.log(e.message),r()})),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),r(),D.b.error(a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()},be=function(e){var t=je((function(t){e.setFieldsValue(Object(te.a)({},e.id,t.url))}),e.isVideo,!0),n=Object(s.useState)(""),a=Object(c.a)(n,2),i=a[0],r=a[1];return Object(s.useEffect)((function(){setTimeout((function(){return r(e[e.id])}),5e3)}),[e[e.id]]),Object(x.jsxs)(x.Fragment,{children:[i===e[e.id]?e.isVideo?Object(x.jsxs)("video",{id:"my-player",class:"video-js",controls:!0,preload:"auto","data-setup":"{}",children:[Object(x.jsx)("source",{src:i,type:"video/mp4"}),Object(x.jsxs)("p",{class:"vjs-no-js",children:["To view this video please enable JavaScript, and consider upgrading to a web browser that",Object(x.jsx)("a",{href:"https://videojs.com/html5-video-support/",target:"_blank",rel:"noreferrer",children:"supports HTML5 video"})]})]}):Object(x.jsx)(ae.a,{src:i,style:{maxHeight:"50px"}}):Object(x.jsx)(ne.a,{}),Object(x.jsx)("div",{style:{marginTop:"10px"},children:Object(x.jsx)(ce.a,{customRequest:t,showUploadList:!1,maxCount:1,getValueFromEvent:function(){},children:Object(x.jsx)(I.a,{children:"Change"})})})]})},pe=function(e){var t=e.setFieldsValue;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(S.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please set name!"}],children:Object(x.jsx)(P.a,{placeholder:"Name"})}),Object(x.jsx)(S.a.Item,{name:"url",label:"Url",rules:[{required:!0,message:"Please add url!"}],extra:"This is only what should appear at the end of url, for example 'best-hotel', 'sky_mall'... Do not put https://tour.immersiv.com.au/ here!",children:Object(x.jsx)(P.a,{placeholder:"Url"})}),Object(x.jsx)(S.a.Item,{label:"New UI",name:"newUI",valuePropName:"checked",children:Object(x.jsx)(ie.a,{})}),Object(x.jsx)(S.a.Item,{label:"Arcware project",name:"isArcware",valuePropName:"checked",children:Object(x.jsx)(ie.a,{})}),Object(x.jsx)(S.a.Item,{name:"arcwareAddress",label:"Arcware address",children:Object(x.jsx)(P.a,{placeholder:"Arcware address"})}),Object(x.jsx)(S.a.Item,{name:"arcwarePackageId",label:"Arcware project id",children:Object(x.jsx)(P.a,{placeholder:"Arcware project id"})}),Object(x.jsx)(S.a.Item,{name:"projectId",label:"Project id",hidden:!0,children:Object(x.jsx)(P.a,{placeholder:"Project id"})}),Object(x.jsx)(S.a.Item,{name:"modelId",label:"Model id",hidden:!0,children:Object(x.jsx)(P.a,{placeholder:"Model id"})}),Object(x.jsx)(S.a.Item,{label:"Custom background",name:"backgroundOn",valuePropName:"checked",children:Object(x.jsx)(ie.a,{})}),Object(x.jsx)(S.a.Item,{label:"Background video",name:"backgroundTypeVideo",valuePropName:"checked",children:Object(x.jsx)(ie.a,{})}),Object(x.jsx)(S.a.Item,{label:"Background video",valuePropName:"backgroundVideo",name:"backgroundVideo",children:Object(x.jsx)(be,{setFieldsValue:t,isVideo:!0})}),Object(x.jsx)(S.a.Item,{label:"Background image",valuePropName:"backgroundImage",name:"backgroundImage",children:Object(x.jsx)(be,{setFieldsValue:t})}),Object(x.jsx)(S.a.Item,{name:"adminEmail",label:"Client login",children:Object(x.jsx)(P.a,{placeholder:"Admin email"})}),Object(x.jsx)(S.a.Item,{name:"adminPassword",label:"Client password",rules:[{min:6,message:"Must have length at least 6!"}],children:Object(x.jsx)(P.a,{placeholder:"Admin password"})}),Object(x.jsx)(S.a.Item,{name:"analytic",label:"Analytics property",children:Object(x.jsx)(P.a,{placeholder:"Google analytics property id"})}),Object(x.jsx)(S.a.Item,{name:"mobileNativeEvents",label:"Mobile native events",valuePropName:"checked",children:Object(x.jsx)(re.a,{children:"Mobile native events"})}),Object(x.jsx)(S.a.Item,{name:"desktopNativeEvents",label:"Desktop native events",valuePropName:"checked",children:Object(x.jsx)(re.a,{})}),Object(x.jsx)(S.a.Item,{name:"published",valuePropName:"checked",label:"Published",children:Object(x.jsx)(ie.a,{})}),Object(x.jsx)(S.a.Item,{label:"Project details on",name:"projectDetailsOn",valuePropName:"checked",children:Object(x.jsx)(ie.a,{})}),Object(x.jsx)(S.a.Item,{label:"Project details duration",name:"projectDetailsDuraton",children:Object(x.jsx)(P.a,{type:"number"})}),Object(x.jsx)(S.a.Item,{label:"Client logo",valuePropName:"clientLogo",name:"clientLogo",children:Object(x.jsx)(be,{setFieldsValue:t})}),Object(x.jsx)(S.a.Item,{label:"Client logo max width",name:"clientLogoMaxWidth",children:Object(x.jsx)(P.a,{type:"number"})}),Object(x.jsx)(S.a.Item,{label:"Client logo max height",name:"clientLogoMaxHeight",children:Object(x.jsx)(P.a,{type:"number"})}),Object(x.jsx)(S.a.Item,{label:"Project logo",valuePropName:"projectLogo",name:"projectLogo",children:Object(x.jsx)(be,{setFieldsValue:t})}),Object(x.jsx)(S.a.Item,{label:"Project logo max width",name:"projectLogoMaxWidth",children:Object(x.jsx)(P.a,{type:"number"})}),Object(x.jsx)(S.a.Item,{label:"Project logo max height",name:"projectLogoMaxHeight",children:Object(x.jsx)(P.a,{type:"number"})}),Object(x.jsx)(S.a.Item,{name:"projectName",label:"Project name",extra:"This text will appear on the screen where the project is being loaded if there is no logo",children:Object(x.jsx)(P.a,{placeholder:"projectName"})}),Object(x.jsx)(S.a.Item,{name:"description",label:"Description",extra:"This text will appear on the screen where the project is being loaded",children:Object(x.jsx)(se.a,{placeholder:"Description",rows:4})}),Object(x.jsx)(S.a.Item,{wrapperCol:{offset:8,span:16},children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Save"})})]})},xe=function(e){var t=Object(s.useRef)(null),n=Object(M.f)();V();var a=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.createProject(t);case 2:e.sent.data&&(D.b.success("Saved"),n("/admin"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return n("/admin")},title:"Create project",style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"800px",width:"100%",margin:"auto"},children:Object(x.jsxs)(S.a,{ref:t,name:"normal_login",onFinish:a,style:{padding:" 16px",maxWidth:"500px",margin:"auto"},labelCol:{span:8},wrapperCol:{span:16},children:[Object(x.jsx)(pe,{}),Object(x.jsx)(S.a.Item,{wrapperCol:{offset:8,span:16},children:Object(x.jsx)(I.a,{onClick:function(){t.current&&t.current.resetFields()},style:{width:"100%"},children:"Reset"})})]})})]})})},he=n(287),Oe=n.n(he),fe=n(517),me=function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(x.jsx)("div",{children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{onClick:function(){return a(!n)},children:"Forgot password?"}),Object(x.jsx)(Oe.a,{title:"Forgot Password",visible:n,footer:[],onCancel:function(){return a(!1)},children:Object(x.jsxs)(S.a,{name:"normal_login",onFinish:function(e){b.a.forgotPassword(e.email).then((function(e){"OK"===e.data.status&&(D.b.success("Email has been sent successfully."),a(!1))})).catch((function(e){}))},style:{padding:"100px 16px",maxWidth:"500px",margin:"auto"},children:[Object(x.jsx)(S.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(x.jsx)(P.a,{prefix:Object(x.jsx)(fe.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Reset password"})})]})})]})})},ve=n(506),ge=n(518),ye=function(){var e=f(),t=e.isLoggedIn,n=e.setUserState,a=e.authData,r=Object(s.useState)(!1),l=Object(c.a)(r,2),d=l[0],u=l[1],j=Object(s.useState)(!1),p=Object(c.a)(j,2),h=p[0],O=p[1],m=Object(M.f)(),v=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,c=t.password,e.prev=1,u(!0),e.next=5,b.a.login(a,c);case 5:i=e.sent,D.b.success("Login successful \ud83d\udd13"),setTimeout((function(){n(i),O(!0),u(!1)}),1500),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),u(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(t||h)&&(null!==a&&void 0!==a&&a.super||null!==a&&void 0!==a&&a.projectId)&&m("/admin"),Object(x.jsx)(y.a,{title:"Login",loading:d,children:Object(x.jsxs)(S.a,{name:"normal_login",onFinish:v,style:{padding:"100px 16px",maxWidth:"500px",margin:"auto"},children:[Object(x.jsx)(ve.a.Title,{style:{textAlign:"center",marginBottom:"50px"},children:"Manage IMMERSIVE"}),Object(x.jsx)(S.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(x.jsx)(P.a,{prefix:Object(x.jsx)(fe.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(x.jsx)(S.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(x.jsx)(P.a.Password,{prefix:Object(x.jsx)(ge.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)("a",{children:Object(x.jsx)(me,{})})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Log in"})})]})})},we=n(145),ke=n.n(we),Ie=function(e){var t=Object(s.useState)(null),n=Object(c.a)(t,2),r=n[0],l=n[1],d=S.a.useForm(),u=Object(c.a)(d,1)[0],j=Object(M.g)().id;Object(s.useEffect)((function(){K.a.getProject(j).then((function(e){l(e.data)}))}),[j]);var b=Object(M.f)();V();var p=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.saveProject(r.id,t);case 2:e.sent.data&&D.b.success("Saved");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=null!==r&&void 0!==r&&r.url?"https://tour.immersiv.com.au/p/".concat(r.url):"not set yet",O=null!==r&&void 0!==r&&r.url?"https://tour.immersiv.com.au/gallery?project=".concat(r.url):"not set yet",f=null!==r&&void 0!==r&&r.url?"https://tour.immersiv.com.au/api/properties/properties-ue/".concat(r.url):"not set yet",m=(S.a.useWatch("description",u),S.a.useWatch("projectName",u)),v=S.a.useWatch("clientLogo",u),g=S.a.useWatch("clientLogoMaxWidth",u),C=S.a.useWatch("clientLogoMaxHeight",u),P=S.a.useWatch("projectLogo",u),T=S.a.useWatch("projectLogoMaxWidth",u),A=S.a.useWatch("projectLogoMaxHeight",u);return Object(x.jsx)(y.a,{loading:!r,children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return b("/admin")},title:"Project - ".concat(null===r||void 0===r?void 0:r.name),style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"800px",width:"100%",margin:"auto"},children:r&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(I.a,{onClick:function(){return b("/p-admin/".concat(j))},style:{margin:"16px"},children:"See client admin panel"}),Object(x.jsx)(I.a,{onClick:function(){return b("/admin/projects/".concat(r.id,"/properties"))},style:{margin:"16px"},children:"Manage properties"}),Object(x.jsx)(I.a,{onClick:function(){return b("/admin/projects/".concat(r.id,"/media"))},style:{margin:"16px"},children:"Manage media"}),Object(x.jsxs)(ve.a.Paragraph,{children:["The project full url is ".concat(h),Object(x.jsx)(I.a,{onClick:function(){return ke()(h)},type:"link",children:"Copy"})]}),Object(x.jsxs)(ve.a.Paragraph,{children:["The project gallery url is ".concat(O)," ",Object(x.jsx)(I.a,{onClick:function(){return ke()(O)},type:"link",children:"Copy"})]}),Object(x.jsxs)(ve.a.Paragraph,{children:["The project properties api link ".concat(f)," ",Object(x.jsx)(I.a,{onClick:function(){return ke()(f)},type:"link",children:"Copy"})]}),Object(x.jsxs)(S.a,{form:u,onFinish:p,style:{padding:" 16px",maxWidth:"500px",margin:"auto"},initialValues:r,labelCol:{span:8},wrapperCol:{span:16},children:[Object(x.jsx)(pe,{setFieldsValue:function(e){u&&u.setFieldsValue(Object(a.a)(Object(a.a)({},u.getFieldsValue()),e))}}),Object(x.jsx)(S.a.Item,{wrapperCol:{offset:8,span:16},children:Object(x.jsx)(I.a,{onClick:function(){u.current&&u.current.resetFields()},style:{width:"100%"},children:"Reset"})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"Project details preview"}),Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,alignItems:"center"},children:[Object(x.jsx)("img",{src:v,alt:"logo",style:{maxHeight:C+"px",maxWidth:g+"px",marginBottom:"36px"}}),P?Object(x.jsx)("img",{src:P,alt:"logo",style:{maxHeight:A+"px",maxWidth:T+"px",marginBottom:"36px"}}):Object(x.jsx)("h6",{style:{textAlign:"center"},children:m})]})]})]})})]})})},Ce=n(513),Se=n(519),Pe=n(520),Te=n(521),Ae=n(522),Fe=function(e){var t=Object(s.useState)(null),n=Object(c.a)(t,2),a=n[0],r=n[1],l=f().logout,d=Object(M.f)(),u=Object(s.useState)(!1),j=Object(c.a)(u,2),b=j[0],p=j[1];Object(s.useEffect)((function(){K.a.getProject().then((function(e){r(e.data)}))}),[]),V();var h=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.deleteProject(t);case 2:(n=e.sent).data&&r(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.saveProject(t,{featured:!0});case 2:(n=e.sent).data&&r(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(y.a,{loading:!a,children:[Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return p(!0)},backIcon:Object(x.jsx)(Se.a,{}),title:"Projects",style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsxs)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"800px",width:"100%",margin:"auto"},children:[Object(x.jsx)(I.a,{onClick:function(){return d("/admin/projects/create")},style:{margin:"16px"},children:"Add project"}),a&&Object(x.jsx)(T.b,{itemLayout:"horizontal",dataSource:a.sort((function(e,t){return e.url>t.url?1:-1})),renderItem:function(e){return Object(x.jsx)(T.b.Item,{actions:[Object(x.jsx)(A.a,{overlay:Object(x.jsxs)(F.a,{children:[Object(x.jsx)(F.a.Item,{onClick:function(){return O(e.id)},children:"Set as featured"},"1"),Object(x.jsx)(F.a.Divider,{}),Object(x.jsx)(L.a,{title:"Are you sure to delete this project?",onConfirm:function(){return h(e.id)},okText:"Yes",cancelText:"No",children:Object(x.jsx)(F.a.Item,{danger:!0,children:"Delete"},"3")})]}),trigger:["click"],children:Object(x.jsx)(N.a,{style:{fontSize:"30px"}})})],children:Object(x.jsx)(T.b.Item.Meta,{avatar:e.featured?Object(x.jsx)(Pe.a,{style:{fontSize:"24px"}}):e.published?Object(x.jsx)(Te.a,{style:{fontSize:"24px"}}):Object(x.jsx)(Ae.a,{style:{fontSize:"24px"}}),title:e.name,description:e.url,onClick:function(){d("/admin/projects/".concat(e.id))}})})}})]})]}),Object(x.jsx)(Ce.a,{title:"Menu",placement:"left",onClose:function(){return p(!1)},visible:b,children:Object(x.jsxs)(F.a,{mode:"inline",style:{width:"100%"},onClick:function(e){e.item;var t=e.key;switch(p(!1),t){case"logout":l();break;case"info":d("/admin/contant");break;case"admins":d("/admin/admins");break;default:return}},activeKey:"projects",selectedKeys:["projects"],children:[Object(x.jsx)(F.a.Item,{children:"Projects"},"projects"),Object(x.jsx)(F.a.Item,{children:"Constant"},"info"),Object(x.jsx)(F.a.Item,{children:"Admins"},"admins"),Object(x.jsx)(F.a.Item,{children:"Logout"},"logout")]})})]})},Le=new(function(){function e(){Object(U.a)(this,e)}return Object(W.a)(e,[{key:"getProperty",value:function(e,t){return l.a.get("/properties/".concat(e,"/").concat(t?"/"+t:""))}},{key:"saveProperty",value:function(e,t,n){return l.a.put("/properties/".concat(e,"/").concat(t),n)}},{key:"createProperty",value:function(e,t){return l.a.post("/properties/".concat(e),{id:t})}},{key:"deleteProperty",value:function(e,t){return l.a.post("/properties/".concat(e,"/delete"),{ids:t})}},{key:"saveStatus",value:function(e,t,n){return l.a.put("/properties/".concat(e,"/status/").concat(t),n)}}]),e}()),Ee=n(14),Ne=n(169),Me=n(511),De=n(503),Ue=["editing","dataIndex","title","inputType","property","index","children"],We=Ne.a.Option,ze=function(e){if(!e.Orientation)return e;var t={};return-1!==e.Orientation.indexOf("N")?t.N=!0:-1!==e.Orientation.indexOf("S")&&(t.S=!0),-1!==e.Orientation.indexOf("E")?t.E=!0:-1!==e.Orientation.indexOf("W")&&(t.W=!0),Object(a.a)(Object(a.a)({},e),{},{Orientation:t})},Ve=function(e){var t="";return e.Orientation.N?t+="N":e.Orientation.S&&(t+="S"),e.Orientation.E?t+="E":e.Orientation.W&&(t+="W"),Object(a.a)(Object(a.a)({},e),{},{Orientation:t})},Be=function(e){var t=e.editing,n=e.dataIndex,c=e.title,i=e.inputType,r=(e.property,e.index,e.children),o=Object(Ee.a)(e,Ue),s=Object(x.jsx)(Me.a,{});switch(i){case"number":s=Object(x.jsx)(Me.a,{});break;case"orientation":s=Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(We,{value:"N",children:"North"}),Object(x.jsx)(We,{value:"NE",children:"North-East"}),Object(x.jsx)(We,{value:"E",children:"East"}),Object(x.jsx)(We,{value:"SE",children:"South-East"}),Object(x.jsx)(We,{value:"S",children:"South"}),Object(x.jsx)(We,{value:"SW",children:"South-West"}),Object(x.jsx)(We,{value:"W",children:"West"}),Object(x.jsx)(We,{value:"NW",children:"North-West"})]});break;case"availability":s=Object(x.jsxs)(Ne.a,{children:[Object(x.jsx)(We,{value:"available",children:"Available"}),Object(x.jsx)(We,{value:"reserved",children:"Reserved"}),Object(x.jsx)(We,{value:"sold",children:"Sold"})]});break;default:s=Object(x.jsx)(P.a,{})}return Object(x.jsx)("td",Object(a.a)(Object(a.a)({},o),{},{children:t?Object(x.jsx)(S.a.Item,{name:n,style:{margin:0,width:"100%"},rules:[{required:!0,message:"Please Input ".concat(c,"!")}],children:s}):r}))},Re=function(e){var t=e.properties,n=e.project,r=e.setProperties,l=e.admin,d=(e.setEditModalOpen,Object(s.useState)([])),u=Object(c.a)(d,2),j=u[0],b=u[1],p=Object(s.useState)(""),h=Object(c.a)(p,2),O=h[0],f=h[1],m=S.a.useForm(),v=Object(c.a)(m,1)[0],g=function(e){return e.id===O},y=function(){f("")},w=function(){var e=Object(i.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.validateFields();case 3:return a=e.sent,e.next=6,Le.saveProperty(n.id,t,ze(a));case 6:(c=e.sent).data&&(D.b.success("Saved"),r(c.data),f("")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Validate Failed:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.deleteProperty(n.id,j);case 2:(t=e.sent).data&&r(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=[{title:"Name",dataIndex:"Name",sorter:function(e,t){return e.Name>t.Name?1:-1},sortDirections:["descend","ascend"],editable:l,inputType:"text",width:100},{title:"Availability",dataIndex:"Availability",sorter:function(e,t){return e.Availability>t.Availability?1:-1},sortDirections:["descend","ascend"],onFilter:function(e,t){return 0===t.Availability.indexOf(e)},editable:!0,inputType:"availability",width:100,render:function(e,t){return(n=t.Availability).charAt(0).toUpperCase()+n.slice(1);var n}},{title:"Surface",dataIndex:"Surface",sorter:function(e,t){return e.Surface-t.Surface},sortDirections:["descend","ascend"],editable:l,inputType:"number",width:100},{title:"Price",dataIndex:"Price",sorter:function(e,t){return e.Price-t.Price},sortDirections:["descend","ascend"],editable:!0,inputType:"number",width:100},{title:"Bedrooms",dataIndex:"BedroomsCount",key:"bedrooms",sortDirections:["descend","ascend"],editable:l,inputType:"number",width:100},{title:"Bathrooms",dataIndex:"BathroomsCount",sorter:function(e,t){return e.BathroomsCount-t.BathroomsCount},sortDirections:["descend","ascend"],editable:l,inputType:"number",width:100}].concat(Object(Y.a)(n.url.toLowerCase()==="Imperial_Square".toLowerCase()?[]:[{title:"Frontage",dataIndex:"Frontage",sorter:function(e,t){return e.Frontage-t.Frontage},sortDirections:["descend","ascend"],editable:l,inputType:"number",width:100},{title:"Depth",dataIndex:"Depth",sorter:function(e,t){return e.Depth-t.Depth},sortDirections:["descend","ascend"],editable:l,inputType:"number",width:100}]),[{title:"Orientation",dataIndex:"Orientation",sorter:function(e,t){return Ve(e).Orientation>Ve(t).Orientation?1:-1},sortDirections:["descend","ascend"],editable:l,inputType:"orientation",width:100},{title:"Actions",dataIndex:"actions",width:80,render:function(e,t){return g(t)?Object(x.jsxs)("span",{children:[Object(x.jsx)(ve.a.Link,{onClick:function(){return w(t.id)},style:{marginRight:8},children:"Save"}),Object(x.jsx)(ve.a.Link,{onClick:y,children:"Cancel"})]}):Object(x.jsx)("span",{children:Object(x.jsx)(ve.a.Link,{disabled:""!==O,onClick:function(){return function(e){v.setFieldsValue(e),f(e.id)}(t)},children:"Edit"})})}}]).map((function(e){return e.editable?Object(a.a)(Object(a.a)({},e),{},{onCell:function(t){return{property:t,inputType:e.inputType,dataIndex:e.dataIndex,title:e.title,editing:g(t)}}}):e})),P=function(){var e=Object(i.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.createProperty(n.id,t.length?t[t.length-1].id:"");case 2:(a=e.sent).data&&(D.b.success("Added"),r(a.data.newProperties),f(a.data.newProperty.id),v.setFieldsValue(Ve(a.data.newProperty)),document.querySelector("div.ant-table-body").scrollTop=1e6);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(S.a,{form:v,component:!1,children:Object(x.jsx)(De.a,{components:{body:{cell:Be}},size:"small",bordered:!0,dataSource:t.map((function(e){var t=Ve(e);return Object(a.a)(Object(a.a)({},t),{},{key:t.id})})),columns:C,rowClassName:"editable-row",rowSelection:l?{type:"checkbox",onChange:function(e,t){b(t.map((function(e){return e.id})))}}:null,pagination:!1,tableLayout:"fixed",scroll:{y:"calc(100vh - 230px)"}})}),l&&Object(x.jsx)(I.a,{onClick:P,style:{margin:"16px"},type:"primary",children:"Add property"}),!!j.length&&l&&Object(x.jsx)(ve.a.Link,{onClick:function(){return k()},type:"danger",disabled:O,children:"Delete"})]})},Ke=function(e){var t=e.admin,n=e.id,a=e.project,c=e.properties,i=e.setProject,r=e.setProperties;return Object(s.useEffect)((function(){Le.getProperty(n).then((function(e){r(e.data)})),K.a.getProject(n).then((function(e){i(e.data)}))}),[]),V(),c&&a&&Object(x.jsx)(Re,{properties:c,setProperties:r,project:a,admin:t})},qe=function(e){var t=Object(M.g)().id,n=Object(M.f)(),a=Object(s.useState)(null),i=Object(c.a)(a,2),r=i[0],o=i[1],l=Object(s.useState)(null),d=Object(c.a)(l,2),u=d[0],j=d[1];return V(),Object(s.useEffect)((function(){Le.getProperty(t).then((function(e){j(e.data)})),K.a.getProject(t).then((function(e){o(e.data)}))}),[]),Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return n("/admin/projects/".concat(t))},title:"Properties of project id: ".concat(t),style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"1200px",width:"100%",margin:"auto"},children:Object(x.jsx)(Ke,{admin:!0,id:t,setProject:o,setProperties:j,project:r,properties:u})})]})})},He=n(523),_e=(n(482),n(494),function(e){var t,n=Object(M.g)().id,r=Object(s.useRef)(null),l=Object(M.f)(),d=Object(s.useState)(null),u=Object(c.a)(d,2),j=u[0],b=u[1];V(),Object(s.useEffect)((function(){K.a.getProject(n).then((function(e){b(e.data)}))}),[]);var p=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.addMedia(n,t);case 2:(a=e.sent).data&&(D.b.success("Saved"),b(a.data),r.current&&r.current.resetFields());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(o.a.mark((function e(t,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.moveMedia(n,t,a);case 2:(c=e.sent).data&&(D.b.success("Moved"),b(c.data));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.deleteMedia(n,t);case 2:(a=e.sent).data&&(D.b.success("Deleted"),b(a.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=je((function(e){r.current&&r.current.setFieldsValue(Object(a.a)(Object(a.a)({},r.current.values),e))}),"video"===(null===r||void 0===r||null===(t=r.current)||void 0===t?void 0:t.getFieldValue("type")));return Object(x.jsx)(y.a,{children:Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return l("/admin/projects/".concat(n))},title:"Media of project id: ".concat(n),style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"1200px",width:"100%",margin:"auto"},children:j&&j.media&&Object(x.jsxs)("div",{children:[Object(x.jsx)(T.b,{itemLayout:"vertical",size:"large",dataSource:j.media,renderItem:function(e,t){return Object(x.jsxs)(T.b.Item,{actions:[Object(x.jsx)(I.a,{size:"small",onClick:function(){return h(e.id,!1)},children:"Move up"},"up"),Object(x.jsx)(I.a,{size:"small",onClick:function(){return h(e.id,!0)},children:"Move down"},"down"),Object(x.jsx)(L.a,{title:"Are you sure to delete this media?",onConfirm:function(){return O(e.id)},okText:"Yes",cancelText:"No",children:Object(x.jsx)(I.a,{size:"small",danger:!0,children:"Delete"})},"delete")],extra:"video"===e.type?Object(x.jsxs)("video",{id:"my-player",class:"video-js",controls:!0,preload:"auto","data-setup":"{}",children:[Object(x.jsx)("source",{src:e.url,type:"video/mp4"}),Object(x.jsxs)("p",{class:"vjs-no-js",children:["To view this video please enable JavaScript, and consider upgrading to a web browser that",Object(x.jsx)("a",{href:"https://videojs.com/html5-video-support/",target:"_blank",rel:"noreferrer",children:"supports HTML5 video"})]})]}):Object(x.jsx)("img",{width:"100%",style:{maxWidth:"300px"},alt:"logo",src:e.url}),children:[Object(x.jsx)(T.b.Item.Meta,{description:e.type,title:"".concat(t+1,". ").concat(e.name||"no name")}),e.url]},e.id)}}),Object(x.jsxs)(S.a,{onFinish:p,style:{padding:" 16px",maxWidth:"500px",margin:"auto",backgroundColor:"#eee"},ref:r,children:[Object(x.jsx)(ve.a.Title,{level:4,children:"Add new media"}),Object(x.jsx)(S.a.Item,{name:"type",rules:[{required:!0}],children:Object(x.jsxs)(Ne.a,{placeholder:"Choose type",children:[Object(x.jsx)(Ne.a.Option,{value:"photo",children:"Photo"}),Object(x.jsx)(Ne.a.Option,{value:"plan",children:"Plan"}),Object(x.jsx)(Ne.a.Option,{value:"video",children:"Video"})]})}),Object(x.jsx)(S.a.Item,{name:"name",rules:[{required:!0}],children:Object(x.jsx)(P.a,{placeholder:"Name"})}),Object(x.jsx)(S.a.Item,{name:"url",rules:[{required:!0}],children:Object(x.jsx)(P.a,{placeholder:"Url",readOnly:!0})}),Object(x.jsx)(S.a.Item,{name:"thumbnail",hidden:!0,children:Object(x.jsx)(P.a,{placeholder:"Thumbnail"})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(ce.a,{accept:"image/*,video/*",listType:"picture",maxCount:1,customRequest:f,children:Object(x.jsx)(I.a,{icon:Object(x.jsx)(He.a,{}),children:"Upload (Max: 1)"})})}),Object(x.jsx)(S.a.Item,{children:Object(x.jsx)(I.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Add media"})})]})]})})]})})}),Ye=function(e){var t=Object(M.g)().id,n=f(),a=n.logout,i=n.isLoggedIn,r=n.authData,o=Object(M.f)(),l=Object(s.useState)(null),d=Object(c.a)(l,2),u=d[0],j=d[1],b=Object(s.useState)(null),p=Object(c.a)(b,2),h=p[0],O=p[1],m=Object(s.useState)(!1),v=Object(c.a)(m,2),g=v[0],I=v[1];return Object(s.useEffect)((function(){Le.getProperty(t).then((function(e){O(e.data)})),K.a.getProject(t).then((function(e){j(e.data)}))}),[]),Object(s.useEffect)((function(){if(!i||(null===r||void 0===r||!r.super)&&t.toString()!==(null===r||void 0===r?void 0:r.projectId.toString()))return a(),o("/login"),null}),[i,null===r||void 0===r?void 0:r.super,null===r||void 0===r?void 0:r.projectId]),Object(x.jsxs)(y.a,{loading:!h||!u,children:[Object(x.jsxs)(w.a,{style:{height:"100%",display:"flex",flex:1,background:"white"},children:[Object(x.jsx)(k.a,{onBack:function(){return I(!0)},backIcon:Object(x.jsx)(Se.a,{}),title:"Appartments",style:{boxShadow:"1px 1px 10px 1px #ccc",position:"fixed",zIndex:100,width:"100%"}}),Object(x.jsx)(E.Content,{style:{flex:1,overflow:"auto",padding:"16px",paddingTop:"100px",maxWidth:"1200px",width:"100%",margin:"auto"},children:Object(x.jsx)(Ke,{id:t,setProject:j,setProperties:O,project:u,properties:h})})]}),Object(x.jsx)(Ce.a,{title:"Menu",placement:"left",onClose:function(){return I(!1)},visible:g,children:Object(x.jsxs)(F.a,{mode:"inline",style:{width:"100%"},onClick:function(e){e.item;var t=e.key;switch(I(!1),t){case"logout":a();break;case"visit":o("/p/".concat(u.url));break;case"analytics":o("/p-admin/".concat(u.id,"/analytics"));break;default:return}},activeKey:"properties",selectedKeys:["properties"],children:[Object(x.jsx)(F.a.Item,{children:"Properties"},"properties"),Object(x.jsx)(F.a.Item,{children:"Analytics"},"analytics"),Object(x.jsx)(F.a.Item,{children:"Visit project"},"visit"),Object(x.jsx)(F.a.Item,{children:"Logout"},"logout")]})})]})},Ge=n(78),Je=n(279),Qe=Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,1284))})),Xe=Object(s.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,1275))})),Ze=Object(s.lazy)((function(){return n.e(6).then(n.bind(null,1288))}));var $e=function(){return Object(x.jsx)(Ge.a,{history:u,children:Object(x.jsx)(s.Suspense,{fallback:Object(x.jsx)(y.a,{}),children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(D.a,{position:"top-right"}),Object(x.jsxs)(M.c,{children:[Object(x.jsx)(M.a,{exact:!0,path:"/",element:Object(x.jsx)(Qe,{})}),Object(x.jsx)(M.a,{path:"/login",element:Object(x.jsx)(ye,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/admin",element:Object(x.jsx)(Fe,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/admin/projects/:id",element:Object(x.jsx)(Ie,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/admin/projects/create",element:Object(x.jsx)(xe,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/admin/projects/:id/properties",element:Object(x.jsx)(qe,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/admin/projects/:id/media",element:Object(x.jsx)(_e,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/admin/contant",element:Object(x.jsx)(ee,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/admin/admins",element:Object(x.jsx)(B,{})}),Object(x.jsx)(M.a,{path:"/reset-password",element:Object(x.jsx)(Ze,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/p/:id",element:Object(x.jsx)(Xe,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/pa",element:Object(x.jsx)(Je.a,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/p-admin/:id",element:Object(x.jsx)(Ye,{})}),Object(x.jsx)(M.a,{exact:!0,path:"/p-admin/:id/analytics",element:Object(x.jsx)(Z,{})}),Object(x.jsx)(M.a,{path:"*",element:Object(x.jsx)("h1",{children:"404 Error Found"})})]})]})})})},et=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,1287)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};n(496),n(497);v.a.render(Object(x.jsx)(g.b,{children:Object(x.jsx)(O,{children:Object(x.jsx)($e,{})})}),document.getElementById("root")),et()},53:function(e,t,n){"use strict";n(0);var a=n(182),c=n(4);t.a=function(e){var t=e.children,n=e.title,i=e.loading,r=e.description,o=e.isProject;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(a.a,{children:[Object(c.jsxs)("title",{children:[n||"Home"," | IMMERSIV "]}),Object(c.jsx)("meta",{name:"description",content:r||"IMMERSIV is a digital interactive sales experience for unbuilt environments"})]}),i?null:Object(c.jsx)("div",{style:{flex:1,display:o?"flex":"block"},children:t})]})}},56:function(e,t,n){"use strict";var a=n(12),c=n(13),i=n(34),r=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getProject",value:function(e){return i.a.get("/projects".concat(e?"/"+e:""))}},{key:"getProjectByUrl",value:function(e){return i.a.get("/projects/url/".concat(e))}},{key:"getFeaturedProject",value:function(){return i.a.get("/projects/url/__featured__")}},{key:"saveProject",value:function(e,t){return i.a.put("/projects/".concat(e),t)}},{key:"createProject",value:function(e){return i.a.post("/projects",e)}},{key:"deleteProject",value:function(e){return i.a.delete("/projects/".concat(e))}},{key:"addMedia",value:function(e,t){return i.a.post("/projects/".concat(e,"/media"),t)}},{key:"deleteMedia",value:function(e,t){return i.a.delete("/projects/".concat(e,"/media/").concat(t))}},{key:"moveMedia",value:function(e,t,n){return i.a.put("/projects/".concat(e,"/media/").concat(t),null,{params:{down:n?"true":"false"}})}}]),e}();t.a=new r}},[[498,3,4]]]);
//# sourceMappingURL=main.3ebd1d64.chunk.js.map