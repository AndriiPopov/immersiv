(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[2],{1074:function(e,t){},1076:function(e,t){},1108:function(e,t){},1110:function(e,t){},1111:function(e,t){},1116:function(e,t){},1118:function(e,t){},1137:function(e,t){},1149:function(e,t){},1152:function(e,t){},1226:function(e,t,n){},1227:function(e,t,n){e.exports={fullscreen:"EmbededView_fullscreen__1m664"}},1228:function(e,t,n){e.exports={wrap:"Contacts_wrap__3_sbQ"}},1229:function(e,t,n){e.exports={wrap:"DesktopLayout_wrap__1mtTA",top:"DesktopLayout_top__Y4Ff7",center:"DesktopLayout_center__2eQxd",viewWrap:"DesktopLayout_viewWrap__D5Bx2",viewInner:"DesktopLayout_viewInner__1zz8M",bottomWrap:"DesktopLayout_bottomWrap__bulEz",bottomCenter:"DesktopLayout_bottomCenter__2Zd2Y",bottomCenterLeft:"DesktopLayout_bottomCenterLeft__1XdAW",bottomCenterCenter:"DesktopLayout_bottomCenterCenter__1rkt5",bottomCenterRight:"DesktopLayout_bottomCenterRight__2tzje",contactWrap:"DesktopLayout_contactWrap__3awf9",contactIconWrap:"DesktopLayout_contactIconWrap__3DzS0",contactIcon:"DesktopLayout_contactIcon__zcub5",contactText:"DesktopLayout_contactText__2wUm_"}},1235:function(e,t,n){e.exports={button:"Button_button__2AWMo",wrap:"Button_wrap__34mdk"}},1236:function(e,t,n){e.exports={logo:"MobileLayout_logo__1Jr_D",center:"MobileLayout_center__330jW"}},1237:function(e,t,n){e.exports={wrap:"Loading_wrap__FOxXe",logo:"Loading_logo___Qs_r",center:"Loading_center__1Nf3i",video:"Loading_video__OXbDo"}},1260:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(47),o=n(0),s=(n(809),n(810)),r=n(1263),i=n(789),l=n.n(i),d=n(790),u=n.n(d),j=n(44),b=n.n(j),h=n(59),p=n(458),f=n(785),x=n(1225),m=n.n(x),O=(n(1226),function(e){return e.StreamerStatus===p.StreamerStatus.Connected||e.StreamerStatus===p.StreamerStatus.Completed?(e.setLoaded(!0),Object(a.jsx)("div",{})):(e.StreamerStatus===p.StreamerStatus.NotSupported&&(e.setLoaded(!0),t=Object(a.jsx)("div",{children:Object(a.jsx)("h3",{children:"Your browser does not support the necessary WebRTC capabilities."})})),e.LaunchRequestStatus.status===p.LaunchStatusType.Unavailable||e.LaunchRequestStatus.status===p.LaunchStatusType.Error||e.StreamerStatus===p.StreamerStatus.Failed?(e.setLoaded(!0),t=Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"The experience is presently unavailable."}),Object(a.jsx)("h3",{children:"Please refresh to request a new session."})]})):t=Object(a.jsxs)("div",{children:[Object(a.jsx)("svg",{className:"logo",viewBox:"410.5 265.5 90.12054 104.02344",children:Object(a.jsx)("g",{fillRule:"nonzero",children:Object(a.jsx)("path",{d:"M 495.4032 310.1983 L 484.1122 336.6803 C 483.9952 336.9373 483.8712 337.1633 483.7452 337.3853 L 459.3812 304.5723 L 477.0682 270.8543 C 478.1542 271.7123 478.9182 272.8703 479.6262 273.9833 L 480.0632 274.6613 L 495.0372 299.2173 C 495.9882 300.8173 496.5252 302.6543 496.5952 304.5553 C 496.6622 306.4163 496.2812 308.3503 495.4032 310.1983 M 448.9282 347.3083 C 448.5962 350.9113 448.2602 354.5423 447.7532 358.1613 C 447.2272 361.2263 446.4642 363.1463 445.4102 364.2293 C 444.4962 365.1683 443.2082 365.5153 441.5212 365.5073 L 434.7122 365.5073 C 431.3752 365.3863 430.9012 363.7163 429.4212 358.4833 C 429.1172 357.4093 428.7792 356.2143 428.4382 355.0733 C 428.3492 354.9843 419.5002 325.7033 417.1802 318.0873 L 437.5242 340.7223 C 438.4982 341.7353 439.5882 342.6203 440.7782 343.2493 C 441.9062 343.8473 443.1252 344.2143 444.4232 344.2493 L 449.2172 344.2233 C 449.1232 345.2093 449.0262 346.2453 448.9282 347.3083 M 475.7822 340.0613 C 475.7812 340.0613 475.7802 340.0623 475.7782 340.0623 C 475.7772 340.0623 475.7762 340.0613 475.7742 340.0613 L 444.5222 340.2333 C 443.8962 340.2143 443.2662 340.0153 442.6522 339.6903 C 441.8882 339.2863 441.1522 338.6853 440.4682 337.9813 L 416.1402 310.9083 C 415.7802 310.5073 415.4802 310.1443 415.2322 309.7873 L 455.7092 306.3673 L 480.4472 339.6853 C 479.2762 339.9463 477.7772 340.0643 475.7822 340.0613 M 430.4182 282.5003 C 431.9252 280.3873 433.5952 278.7143 435.5382 277.4503 C 437.4782 276.1883 439.7352 275.3073 442.4212 274.7693 L 471.2542 269.7603 C 471.9712 269.6263 472.6072 269.5813 473.2012 269.5833 L 456.0442 302.2923 C 456.0402 302.2933 456.0382 302.2953 456.0352 302.2963 L 414.7762 305.7823 C 414.9612 305.1193 415.2262 304.4623 415.6132 303.8563 L 430.4182 282.5003 M 498.4782 297.1393 C 494.8552 289.8933 487.6422 278.9223 483.0092 271.8113 C 480.7722 268.3063 478.2572 264.3733 470.5452 265.8003 L 441.6342 270.8183 C 438.4552 271.4533 435.7392 272.5253 433.3502 274.0793 C 430.9652 275.6313 428.9412 277.6463 427.1432 280.1703 C 422.2182 287.3093 417.2882 294.6593 412.2272 301.6833 C 411.5152 302.7953 411.0152 304.0283 410.7322 305.2793 C 410.5422 306.1473 410.5022 307.0243 410.5322 307.8933 C 410.5272 307.9843 410.4932 308.0683 410.5012 308.1613 C 410.5022 308.1823 410.5152 308.1983 410.5172 308.2183 C 410.5192 308.2443 410.5082 308.2683 410.5112 308.2943 C 410.5252 308.4063 410.5592 308.4853 410.5762 308.5923 C 410.5942 308.7653 410.5812 308.9443 410.6092 309.1163 C 411.0622 311.8913 412.0262 315.0063 412.9092 317.8673 L 424.5782 356.2233 C 424.9802 357.5693 425.2792 358.6233 425.5472 359.5703 C 427.6332 366.9413 428.3002 369.2943 434.5702 369.5223 L 441.5212 369.5233 C 444.2902 369.5343 446.5132 368.8593 448.2922 367.0323 C 449.9312 365.3483 451.0502 362.7473 451.7222 358.8383 L 451.7302 358.7753 C 452.2332 355.1963 452.5822 351.4193 452.9282 347.6713 C 453.0292 346.5673 453.1382 345.4223 453.2582 344.2013 L 475.7902 344.0773 C 475.7912 344.0773 475.7912 344.0763 475.7912 344.0763 C 479.2552 344.0813 481.6612 343.7543 483.4982 342.9103 C 485.5602 341.9623 486.8052 340.4913 487.7962 338.2863 L 499.0572 311.8803 C 500.2042 309.4543 500.7002 306.8953 500.6102 304.4133 C 500.5162 301.8253 499.7812 299.3223 498.4782 297.1393"})})}),Object(a.jsx)("h3",{children:"Please wait, your session is loading."})]}),Object(a.jsx)("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:Object(a.jsx)("div",{style:{textAlign:"center"},children:t})}));var t}),v=n(1264),g=n(1227),y=n.n(g),L=n(216),C=n(1332),_=function(e){var t=Object(o.useRef)(null),n=Object(v.b)(),c="iOS"===f.System.Browser().os&&!window.navigator.userAgent.includes("iPad");return Object(a.jsx)("div",{style:{flex:1,position:"relative"},children:Object(a.jsxs)(v.a,{handle:n,className:y.a.fullscreen,children:[Object(a.jsx)(f.IdleTimeout,{Status:e.StreamerStatus,WarningThreshold:300,ExitThreshold:120,WarningCallback:n.exit,ExitCallback:function(){return window.location.reload()}}),Object(a.jsx)(O,{LaunchRequestStatus:e.LaunchRequestStatus,StreamerStatus:e.StreamerStatus,setLoaded:e.setLoaded}),Object(a.jsx)(f.VideoStream,{VideoRef:t,Emitter:e.InputEmitter,Stream:e.VideoStream,UseNativeTouchEvents:!0,UsePointerLock:e.UsePointerLock,PointerLockRelease:e.PointerLockRelease}),Object(a.jsx)(L.a,{onClick:n.enter,style:{position:"absolute",top:10,right:10,backgroundColor:"rgba(0,0,0,0.4)",borderColor:"#777777",color:"white",visibility:c||n.active||e.StreamerStatus!==p.StreamerStatus.Connected?"hidden":"visible"},type:"default",children:Object(a.jsx)(C.a,{})})]})})},w=p.LoggerProvider.getLogger("client"),S=new Audio;S.autoplay=!0,S.volume=.5;var k=new p.PlatformNext;k.initialize({endpoint:"https://api.pureweb.io"});var N=function(e){var t=e.project,n=Object(o.useState)(!1),s=Object(c.a)(n,2),r=s[0],i=s[1],l=Object(o.useState)(new p.UndefinedModelDefinition),d=Object(c.a)(l,2),u=d[0],j=d[1],x=Object(o.useState)(),O=Object(c.a)(x,2),v=O[0],g=O[1],y=Object(o.useState)(),L=Object(c.a)(y,2),C=L[0],N=L[1],I=p.DefaultStreamerOptions,P=Object(f.useLaunchRequest)(k,u,{}),D=Object(c.a)(P,3),W=D[0],R=D[1],A=D[2],T=Object(f.useStreamer)(k,R,I),E=Object(c.a)(T,4),M=E[0],z=E[1],F=E[2],q=E[3],U=Object(o.useState)(!1),V=Object(c.a)(U,2),B=V[0],Y=V[1];Object(o.useEffect)((function(){M===p.StreamerStatus.Failed&&k.disconnect()}),[M]),q&&(S.srcObject=q);var J=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y(!0),S.load(),"local"===t.LaunchType){e.next=11;break}return e.prev=3,e.next=6,A();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),N(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();return m()(Object(h.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.projectId){e.next=20;break}return w.info("Initializing available models: "+t.projectId),e.prev=2,e.next=5,k.useAnonymousCredentials(t.projectId);case 5:return e.next=7,k.connect();case 7:return w.info("Agent Connected: "+k.agent.id),I.iceServers=k.agent.serviceCredentials.iceServers,I.forceRelay=t.ForceRelay,e.next=12,k.getModels();case 12:n=e.sent,g(n),w.debug("Available models",n),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),w.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])}))),[t]),Object(o.useEffect)((function(){if(null===v||void 0===v?void 0:v.length){var e=v.filter((function(e){if(t.modelId===e.id){if(t.Version&&t.Version===e.version)return!0;if(!t.Version&&e.active)return!0}return!1}));(null===e||void 0===e?void 0:e.length)?j(e[0]):i(!0)}}),[v]),Object(o.useEffect)((function(){0!==u.type&&J()}),[u]),Object(o.useEffect)((function(){w.info("Status",W,M)}),[W,M]),console.log(t),t.modelId&&t.projectId?r?(e.setLoaded(!0),Object(a.jsx)("div",{style:{display:"flex",height:"100%",overflow:"none",textAlign:"center",alignItems:"center",justifyContent:"center",flex:1},children:Object(a.jsx)("span",{children:"The model that you have requested does not exist"})})):C?(e.setLoaded(!0),Object(a.jsx)("div",{style:{display:"flex",height:"100%",overflow:"none",textAlign:"center",alignItems:"center",justifyContent:"center",flex:1},children:Object(a.jsx)("span",{children:"It appears the requested model is currently not online as per your set schedule. Please contact support if it should be available."})})):M===p.StreamerStatus.Disconnected?(e.setLoaded(!0),Object(a.jsx)("div",{style:{display:"flex",height:"100%",overflow:"none",textAlign:"center",alignItems:"center",justifyContent:"center",flex:1},children:Object(a.jsx)("h2",{children:"Disconnected from stream"})})):M===p.StreamerStatus.Failed?(e.setLoaded(!0),Object(a.jsxs)("div",{style:{display:"flex",height:"100%",overflow:"none",textAlign:"center",alignItems:"center",justifyContent:"center",flex:1},children:[Object(a.jsx)("h2",{children:"Failure during stream"}),Object(a.jsx)("h2",{children:"Please refresh to request a new session"})]})):M===p.StreamerStatus.Withdrawn?(e.setLoaded(!0),Object(a.jsx)("div",{style:{display:"flex",height:"100%",overflow:"none",textAlign:"center",alignItems:"center",justifyContent:"center",flex:1},children:Object(a.jsx)("h2",{children:"Streamer contribution withdrawn"})})):B?Object(a.jsx)(_,{VideoStream:F,StreamerStatus:M,LaunchRequestStatus:W,InputEmitter:z,UseNativeTouchEvents:!0,UsePointerLock:t.UsePointerLock,PointerLockRelease:t.PointerLockRelease,setLoaded:e.setLoaded}):"local"===t.LaunchType||v?"local"===t.LaunchType||(null===v||void 0===v?void 0:v.length)?null:(e.setLoaded(!0),Object(a.jsx)("div",{style:{display:"flex",height:"100%",overflow:"none",textAlign:"center",alignItems:"center",justifyContent:"center",flex:1},children:Object(a.jsx)("h2",{children:"No models are currently available in this environment."})})):Object(a.jsx)("div",{style:{display:"flex",height:"100%",overflow:"none",textAlign:"center",alignItems:"center",justifyContent:"center",flex:1},children:Object(a.jsx)("h2",{children:"Initializing..."})}):(e.setLoaded(!0),Object(a.jsx)("div",{style:{display:"flex",height:"100%",overflow:"none",textAlign:"center",alignItems:"center",justifyContent:"center",flex:1},children:Object(a.jsxs)("p",{children:["Your client has one or more configuration errors. Please consult the"," ",Object(a.jsxs)("a",{href:"https://www.npmjs.com/package/@pureweb/cra-template-pureweb-client",children:[" ","README"," "]})," ","for details on how to configure the client template."]})}))},I=function(e){return f.System.IsBrowserSupported()?Object(a.jsx)("div",{style:{backgroundColor:"black",height:"100%",flex:1,display:"flex",color:"white"},children:Object(a.jsx)(N,{setLoaded:e.setLoaded,project:e.project})}):Object(a.jsx)("div",{className:"ui red segment center aligned basic",children:Object(a.jsx)("h2",{className:"header",children:"Your browser is currently unsupported"})})},P=n(1228),D=n.n(P),W=function(e){return Object(a.jsxs)("div",{className:D.a.wrap,style:{visibility:e.invisible?"hidden":"visible"},children:["Powered by",Object(a.jsx)("img",{src:"/images/logo-black.png",alt:"logo",style:{width:"150px"}})]})},R=n(1229),A=n.n(R),T=function(e){var t=e.project,n=e.constant;return Object(a.jsxs)("div",{className:A.a.wrap,children:[Object(a.jsx)("div",{className:A.a.top,children:t.name}),Object(a.jsxs)("div",{className:A.a.center,children:[Object(a.jsx)(W,{invisible:!0}),Object(a.jsx)("div",{className:A.a.viewWrap,children:Object(a.jsx)("div",{className:A.a.viewInner,children:Object(a.jsx)(I,{setLoaded:e.setLoaded,project:t})})}),Object(a.jsx)(W,{})]}),Object(a.jsxs)("div",{className:A.a.bottomWrap,children:[Object(a.jsx)(W,{invisible:!0}),Object(a.jsxs)("div",{className:A.a.bottomCenter,children:[Object(a.jsx)("div",{className:A.a.bottomCenterLeft,children:Object(a.jsx)("img",{src:"/images/controls.png",alt:"logo",style:{width:"100%"}})}),Object(a.jsx)("div",{className:A.a.bottomCenterCenter,children:t.logo&&Object(a.jsx)("img",{src:"/images/imperial-logo.png",alt:"logo",style:{height:"120px"}})}),Object(a.jsxs)("div",{className:A.a.bottomCenterRight,children:[Object(a.jsxs)("a",{href:"tel:".concat(n.call),className:A.a.contactWrap,children:[Object(a.jsx)("div",{className:A.a.contactIconWrap,children:Object(a.jsx)(l.a,{name:"phone",size:"small",className:A.a.contactIcon})}),Object(a.jsx)("div",{style:{width:"10px"}}),Object(a.jsx)("div",{className:A.a.contactText,children:n.phone})]}),Object(a.jsxs)("a",{href:"mailto:".concat(n.email),className:A.a.contactWrap,children:[Object(a.jsx)("div",{className:A.a.contactIconWrap,children:Object(a.jsx)(u.a,{name:"mail",size:"small",className:A.a.contactIcon})}),Object(a.jsx)("div",{style:{width:"10px"}}),Object(a.jsx)("div",{className:A.a.contactText,children:n.email})]})]})]}),Object(a.jsx)(W,{invisible:!0})]})]})},E=n(1235),M=n.n(E),z=function(e){return Object(a.jsx)("a",{className:M.a.wrap,href:e.link,children:"phone"===e.name?Object(a.jsx)(l.a,{className:M.a.button}):Object(a.jsx)(u.a,{className:M.a.button})})},F=n(1236),q=n.n(F),U=function(e){var t=e.project,n=e.constant;return Object(a.jsxs)("div",{style:{flex:1,display:"flex"},children:[Object(a.jsx)(I,{setLoaded:e.setLoaded,project:t}),e.loaded&&Object(a.jsx)("img",{src:"/images/logo-white.png",alt:"logo",className:q.a.logo}),Object(a.jsxs)("div",{className:q.a.center,children:[Object(a.jsx)(z,{link:"tel:".concat(n.call),name:"phone"}),Object(a.jsx)(z,{link:"mailto:".concat(n.email),name:"mail"})]})]})},V=n(1237),B=n.n(V),Y=function(e){return e.loaded?null:Object(a.jsxs)("div",{className:B.a.wrap,children:[Object(a.jsx)("img",{src:"/images/logo-white.png",alt:"logo",className:B.a.logo}),Object(a.jsx)("div",{className:B.a.center,children:Object(a.jsx)("div",{className:B.a.video,children:Object(a.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,style:{objectFit:"contain"},children:Object(a.jsx)("source",{src:"/videos/Immersiv-logo.mp4",type:"video/mp4"})})})}),Object(a.jsx)("div",{style:{paddingBottom:"100px"},children:"Loading..."})]})},J=function(e){var t=e.project,n=e.constant,i=Object(r.a)(),l=Object(c.a)(i,2),d=l[0],u=l[1],j=s.isMobile||d<1200||u<700,b=Object(o.useState)(!1),h=Object(c.a)(b,2),p=h[0],f=h[1];return Object(a.jsxs)(a.Fragment,{children:[j?Object(a.jsx)(U,{setLoaded:f,loaded:p,project:t,constant:n}):Object(a.jsx)(T,{setLoaded:f,project:t,constant:n}),Object(a.jsx)(Y,{loaded:p})]})},Q=n(88),X=n(528),Z=n(415),G=n(561);t.default=function(e){var t=Object(o.useState)(null),n=Object(c.a)(t,2),s=n[0],r=n[1],i=Object(o.useState)({}),l=Object(c.a)(i,2),d=l[0],u=l[1],j=e.featured,b=Object(Z.g)().id;return Object(o.useEffect)((function(){r(null),j?X.a.getFeaturedProject().then((function(e){r(e.data)})):X.a.getProject(b).then((function(e){r(e.data)})),G.a.getConstant().then((function(e){e.data&&u(e.data)}))}),[b,j]),Object(a.jsx)(Q.a,{loading:!s,isProject:!0,children:Object(a.jsx)(J,{project:s,constant:d})})}},528:function(e,t,n){"use strict";var a=n(145),c=n(146),o=n(43),s=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getProject",value:function(e){return o.a.get("/projects".concat(e?"/"+e:""))}},{key:"getFeaturedProject",value:function(){return o.a.get("/projects/__featured__")}},{key:"saveProject",value:function(e,t){return o.a.put("/projects/".concat(e),t)}},{key:"createProject",value:function(e){return o.a.post("/projects",e)}},{key:"deleteProject",value:function(e){return o.a.delete("/projects/".concat(e))}}]),e}();t.a=new s},561:function(e,t,n){"use strict";var a=n(145),c=n(146),o=n(43),s=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getConstant",value:function(){return o.a.get("/constant")}},{key:"saveConstant",value:function(e){return o.a.put("/constant",e)}}]),e}();t.a=new s},593:function(e,t){},809:function(e,t,n){},829:function(e,t){},831:function(e,t){},897:function(e,t){},899:function(e,t){},910:function(e,t){},911:function(e,t){},912:function(e,t){},914:function(e,t){},921:function(e,t){},923:function(e,t){}}]);
//# sourceMappingURL=2.9c0e06b7.chunk.js.map