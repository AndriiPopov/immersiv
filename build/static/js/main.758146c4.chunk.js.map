{"version":3,"sources":["services/auth.service.js","services/constant.service.js","api/axios.config.js","helpers/history.js","helpers/WithAxios.js","context/UserContext.jsx","services/admin.service.js","hooks/useLoginCheck.js","pages/Admins.jsx","services/ga.service.js","components/DashboardItem/DataItems/ChartItem/ChartItem.js","pages/AnalyticClient.jsx","components/DashboardItem/DataItems/RealTimeItem/RealTimeItem.js","pages/Constants.jsx","components/ProjectFormFields.jsx","pages/CreateProject.jsx","components/ForgotPasswordModal.jsx","pages/Login.jsx","pages/ProjectDetails.jsx","pages/Projects.jsx","services/property.service.js","components/ProjectView/Components/PropertiesTable.jsx","pages/Properties.jsx","pages/PropertiesAdmin.jsx","pages/PropertiesClient.jsx","App.js","reportWebVitals.js","index.js","layout/Layout.jsx","services/project.service.js"],"names":["AuthService","email","password","a","API","post","data","token","console","log","localStorage","removeItem","password2","username","get","ConstantService","put","axios","create","baseURL","withCredentials","interceptors","request","use","req","getItem","headers","error","Promise","reject","createBrowserHistory","WithAxios","children","useUser","setIsLoggedIn","setUserData","setAuthData","isLoggedIn","isInitiated","useEffect","response","originalRequest","config","status","url","resolve","history","push","_retry","res","setItem","UserContext","createContext","UserProvider","useState","authData","setIsInitiated","getTokenData","decoded","jwt_decode","Provider","value","setUserState","setUserInfo","logout","authService","context","useContext","undefined","Error","id","delete","useLoginCheck","navigate","useNavigate","super","projectId","Admins","props","formRef","useRef","admins","setAdmins","editModalOpen","setEditModalOpen","adminService","getAdmin","then","onFinish","values","createAdmin","toast","success","current","resetFields","deleteAdmin","Layout","loading","style","height","display","flex","background","onBack","title","boxShadow","overflow","padding","maxWidth","width","margin","onClick","visible","onCancel","footer","name","ref","Item","rules","required","message","type","placeholder","htmlType","itemLayout","dataSource","sort","b","renderItem","admin","actions","overlay","onConfirm","okText","cancelText","danger","trigger","MoreOutlined","fontSize","borderBottom","paddingLeft","Meta","description","locked","metrics","dimensions","period","start","finish","ChartItem","column","seconds","isDate","dataRefined","humanizeString","columnHeaders","replace","rows","map","i","moment","format","parseInt","chartType","options","legend","position","chartArea","allowHtml","AnalyticClient","openSocket","useParams","project","setProject","dateData","setDateData","cityData","setCityData","deviceData","setDeviceData","sourceData","setSourceData","subtract","setPeriod","projectService","getProject","length","getMetricData","gaService","getGA","catch","err","RangePicker","size","defaultValue","onChange","m","allowClear","textAlign","flexDirection","flexWrap","alignItems","justifyContent","xKey","valKey","Constants","constants","setConstants","constantService","getConstant","setFieldsValue","saveConstant","initialValues","ProjectFormFields","label","min","valuePropName","wrapperCol","offset","span","CreateProject","createProject","labelCol","ForgotPasswordModal","isOpen","setIsOpen","forgotPassword","prefix","UserOutlined","className","Login","isLoading","setIsLoading","redirectToReferrer","setRedirectToReferrer","login","setTimeout","Title","marginBottom","Password","LockOutlined","ProjectDetails","saveProject","Projects","projects","setProjects","openDrawer","setOpenDrawer","deleteProject","setFeatured","featured","backIcon","MenuOutlined","Divider","avatar","StarFilled","published","EyeFilled","EyeInvisibleFilled","placement","onClose","mode","item","key","activeKey","selectedKeys","PropertiesTable","properties","setProperties","transferOrientationToString","Option","Select","propertyService","saveStatus","Availability","deleteProperty","propertyId","columns","dataIndex","sorter","Name","sortDirections","render","property","onFilter","record","indexOf","Surface","Price","BedroomsCount","BathroomsCount","orientation","Orientation","_","Properties","getProperty","saveProperty","transferOrientationToObject","createProperty","o","N","S","E","W","readOnly","PropertiesAdmin","PropertiesClient","toString","Home","lazy","Project","ResetPassword","App","fallback","exact","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","isProject","content","ProjectService"],"mappings":"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","file":"static/js/main.758146c4.chunk.js","sourcesContent":["import API from \"api/axios.config\";\r\n\r\nclass AuthService {\r\n    async login(email, password) {\r\n        const { data } = await API.post(\"/auth/login\", {\r\n            email,\r\n            password,\r\n        });\r\n        return data;\r\n    }\r\n\r\n    async googleLogin(token) {\r\n        const { data } = await API.post(\"/auth/google\", {\r\n            token,\r\n        });\r\n        return data;\r\n    }\r\n\r\n    logout() {\r\n        console.log(\"logout\");\r\n        localStorage.removeItem(\"user\");\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"expiresAt\");\r\n    }\r\n\r\n    forgotPassword(email) {\r\n        return API.post(\"/auth/forgot-password\", {\r\n            email,\r\n        });\r\n    }\r\n\r\n    checkToken(token, email) {\r\n        return API.post(\"auth/check-token\", {\r\n            token,\r\n            email,\r\n        });\r\n    }\r\n\r\n    resetPassword(token, email, password, password2) {\r\n        return API.post(\"auth/reset-password\", {\r\n            token,\r\n            email,\r\n            password,\r\n            password2,\r\n        });\r\n    }\r\n\r\n    register(username, email, password) {\r\n        return API.post(\"auth/signup\", {\r\n            username,\r\n            email,\r\n            password,\r\n        });\r\n    }\r\n\r\n    getCurrentUser() {\r\n        return API.get(\"/users/profile\");\r\n    }\r\n}\r\n\r\nexport default new AuthService();\r\n","import API from \"api/axios.config\";\r\n\r\nclass ConstantService {\r\n    getConstant() {\r\n        return API.get(`/constant`);\r\n    }\r\n    saveConstant(data) {\r\n        return API.put(`/constant`, data);\r\n    }\r\n}\r\n\r\nexport default new ConstantService();\r\n","import axios from \"axios\";\r\n\r\nconst baseURL =\r\n    process.env.NODE_ENV === \"production\"\r\n        ? \"https://tour.immersiv.com.au/api\"\r\n        : \"http://localhost:5000/api\";\r\n\r\nconst API = axios.create({\r\n    baseURL,\r\n    withCredentials: true,\r\n});\r\n\r\nAPI.interceptors.request.use(\r\n    function (req) {\r\n        const token = localStorage.getItem(\"token\");\r\n        if (token) req.headers[\"auth-token\"] = token;\r\n        return req;\r\n    },\r\n    function (error) {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default API;\r\n","import { createBrowserHistory } from \"history\";\nexport default createBrowserHistory();\n","import { useEffect } from \"react\";\nimport API from \"api/axios.config\";\nimport { useUser } from \"context/UserContext\";\nimport history from \"helpers/history\";\n\nconst WithAxios = ({ children }) => {\n    const { setIsLoggedIn, setUserData, setAuthData, isLoggedIn, isInitiated } =\n        useUser();\n\n    useEffect(() => {\n        API.interceptors.response.use(\n            (response) => response,\n            async (error) => {\n                const originalRequest = error.config;\n                if (\n                    error.response.status === 401 &&\n                    originalRequest.url === \"/auth/refresh-token\"\n                ) {\n                    return new Promise((resolve, reject) => {\n                        setIsLoggedIn(false);\n                        setAuthData(null);\n                        setUserData(null);\n                        history.push(\"/login\");\n                        reject(error);\n                    });\n                }\n\n                if (error.response.status === 401 && !originalRequest._retry) {\n                    try {\n                        originalRequest._retry = true;\n                        const res = await API.post(\"/auth/refresh-token\");\n                        localStorage.setItem(\"token\", res.data.token);\n                        return API(originalRequest);\n                    } catch (error) {\n                        localStorage.removeItem(\"token\");\n                        setIsLoggedIn(false);\n                        setAuthData(null);\n                        setUserData(null);\n                        history.push(\"/login\");\n                    }\n                }\n                return Promise.reject(error);\n            }\n        );\n    }, []);\n\n    return children;\n};\n\nexport default WithAxios;\n","import WithAxios from \"helpers/WithAxios\";\r\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport authService from \"services/auth.service\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst UserContext = createContext();\r\n\r\nconst UserProvider = ({ children }) => {\r\n    const [authData, setAuthData] = useState({\r\n        token: \"\",\r\n    });\r\n\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [isInitiated, setIsInitiated] = useState(false);\r\n\r\n    useEffect(() => {\r\n        console.log(\"token on startup\", localStorage.getItem(\"token\"));\r\n        if (localStorage.getItem(\"token\")) {\r\n            setIsLoggedIn(true);\r\n            setAuthData(() => getTokenData(localStorage.getItem(\"token\")));\r\n        }\r\n        setIsInitiated(true);\r\n    }, []);\r\n\r\n    const getTokenData = (token) => {\r\n        if (token) {\r\n            const decoded = jwt_decode(token);\r\n            return {\r\n                ...decoded,\r\n                token,\r\n            };\r\n        } else\r\n            return {\r\n                token: \"\",\r\n            };\r\n    };\r\n\r\n    const setUserInfo = (data) => {\r\n        const { token } = data;\r\n\r\n        setIsLoggedIn(true);\r\n\r\n        setAuthData(() => getTokenData(token));\r\n        localStorage.setItem(\"token\", token);\r\n        console.log(\"token after login\", localStorage.getItem(\"token\"));\r\n    };\r\n\r\n    const logout = () => {\r\n        setAuthData(null);\r\n        setIsLoggedIn(false);\r\n        authService.logout();\r\n    };\r\n\r\n    return (\r\n        <UserContext.Provider\r\n            value={{\r\n                setUserState: (data) => setUserInfo(data),\r\n                logout,\r\n                isInitiated,\r\n                isLoggedIn,\r\n                setIsLoggedIn,\r\n                authData,\r\n                setAuthData,\r\n            }}\r\n        >\r\n            <WithAxios>{children}</WithAxios>\r\n        </UserContext.Provider>\r\n    );\r\n};\r\n\r\nconst useUser = () => {\r\n    const context = useContext(UserContext);\r\n\r\n    if (context === undefined) {\r\n        throw new Error(\"useUser must be used within UserProvider\");\r\n    }\r\n    return context;\r\n};\r\n\r\nexport { UserProvider, useUser };\r\n","import API from \"api/axios.config\";\r\n\r\nclass AdminService {\r\n    getAdmin() {\r\n        return API.get(`/admins`);\r\n    }\r\n\r\n    createAdmin(data) {\r\n        return API.post(`/admins`, data);\r\n    }\r\n\r\n    deleteAdmin(id) {\r\n        return API.delete(`/admins/${id}`);\r\n    }\r\n}\r\n\r\nexport default new AdminService();\r\n","import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useUser } from \"context/UserContext\";\n\nconst useLoginCheck = () => {\n    const navigate = useNavigate();\n    const { isLoggedIn, authData, logout, isInitiated } = useUser();\n    useEffect(() => {\n        if (isInitiated) {\n            if (!isLoggedIn) {\n                logout();\n                navigate(\"/login\");\n                return null;\n            }\n\n            if (!authData?.super) {\n                if (authData?.projectId) {\n                    navigate(`/p-admin/${authData.projectId}`);\n                    return null;\n                } else {\n                    logout();\n                    navigate(\"/login\");\n                    return null;\n                }\n            }\n        }\n    }, [isLoggedIn, authData?.super, authData?.projectId, isInitiated]);\n};\n\nexport default useLoginCheck;\n","import LayoutHOC from \"layout/Layout\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport {\r\n    Button,\r\n    Dropdown,\r\n    Form,\r\n    Input,\r\n    Layout,\r\n    List,\r\n    Menu,\r\n    Modal,\r\n    PageHeader,\r\n    Popconfirm,\r\n} from \"antd\";\r\nimport { Content } from \"antd/lib/layout/layout\";\r\nimport { MoreOutlined } from \"@ant-design/icons\";\r\nimport { useUser } from \"context/UserContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport toast from \"react-hot-toast\";\r\nimport adminService from \"services/admin.service\";\r\nimport useLoginCheck from \"hooks/useLoginCheck\";\r\n\r\nconst Admins = (props) => {\r\n    const formRef = useRef(null);\r\n    const [admins, setAdmins] = useState(null);\r\n    const [editModalOpen, setEditModalOpen] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        adminService.getAdmin().then((response) => {\r\n            setAdmins(response.data);\r\n        });\r\n    }, []);\r\n\r\n    useLoginCheck();\r\n\r\n    const onFinish = async (values) => {\r\n        const response = await adminService.createAdmin(values);\r\n        if (response.data) {\r\n            toast.success(\"Saved\");\r\n            setAdmins(response.data);\r\n            setEditModalOpen(null);\r\n            if (formRef.current) formRef.current.resetFields();\r\n        }\r\n    };\r\n\r\n    const deleteAdmin = async (id) => {\r\n        const response = await adminService.deleteAdmin(id);\r\n        if (response.data) setAdmins(response.data);\r\n    };\r\n\r\n    return (\r\n        <LayoutHOC loading={!admins}>\r\n            <Layout\r\n                style={{\r\n                    height: \"100%\",\r\n                    display: \"flex\",\r\n                    flex: 1,\r\n                    background: \"white\",\r\n                }}\r\n            >\r\n                <PageHeader\r\n                    onBack={() => navigate(`/admin`)}\r\n                    title={`Admins`}\r\n                    style={{ boxShadow: \"1px 1px 10px 1px #ccc\" }}\r\n                />\r\n\r\n                <Content\r\n                    style={{\r\n                        flex: 1,\r\n                        overflow: \"auto\",\r\n                        padding: \"16px\",\r\n                        maxWidth: \"800px\",\r\n                        width: \"100%\",\r\n                        margin: \"auto\",\r\n                    }}\r\n                >\r\n                    <Button\r\n                        onClick={() => setEditModalOpen({})}\r\n                        style={{ margin: \"16px\" }}\r\n                    >\r\n                        Add admin\r\n                    </Button>\r\n                    <Modal\r\n                        visible={!!editModalOpen}\r\n                        onCancel={() => setEditModalOpen(null)}\r\n                        footer={null}\r\n                    >\r\n                        <Form\r\n                            name=\"normal_login\"\r\n                            onFinish={onFinish}\r\n                            style={{\r\n                                padding: \" 16px\",\r\n                                maxWidth: \"500px\",\r\n                                margin: \"auto\",\r\n                            }}\r\n                            ref={formRef}\r\n                        >\r\n                            <Form.Item\r\n                                name=\"email\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: \"Please add name!\",\r\n                                        type: \"email\",\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <Input placeholder=\"Email\" />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item>\r\n                                <Button\r\n                                    type=\"primary\"\r\n                                    htmlType=\"submit\"\r\n                                    style={{ width: \"100%\" }}\r\n                                >\r\n                                    Save\r\n                                </Button>\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </Modal>\r\n                    {admins && (\r\n                        <List\r\n                            itemLayout=\"horizontal\"\r\n                            dataSource={admins.sort((a, b) =>\r\n                                a.name > b.name ? 1 : -1\r\n                            )}\r\n                            renderItem={(admin) => (\r\n                                <List.Item\r\n                                    actions={[\r\n                                        <Dropdown\r\n                                            overlay={\r\n                                                <Menu>\r\n                                                    <Popconfirm\r\n                                                        title=\"Are you sure to delete this admin?\"\r\n                                                        onConfirm={() =>\r\n                                                            deleteAdmin(\r\n                                                                admin.email\r\n                                                            )\r\n                                                        }\r\n                                                        okText=\"Yes\"\r\n                                                        cancelText=\"No\"\r\n                                                    >\r\n                                                        <Menu.Item\r\n                                                            key=\"3\"\r\n                                                            danger\r\n                                                        >\r\n                                                            Delete\r\n                                                        </Menu.Item>\r\n                                                    </Popconfirm>\r\n                                                </Menu>\r\n                                            }\r\n                                            trigger={[\"click\"]}\r\n                                        >\r\n                                            <MoreOutlined\r\n                                                style={{ fontSize: \"30px\" }}\r\n                                            />\r\n                                        </Dropdown>,\r\n                                    ]}\r\n                                    style={{\r\n                                        borderBottom: \"3px solid #ccc\",\r\n                                        paddingLeft: \"16px\",\r\n                                    }}\r\n                                >\r\n                                    <List.Item.Meta\r\n                                        title={admin.email}\r\n                                        description={\r\n                                            admin.locked\r\n                                                ? \"Locked\"\r\n                                                : \"Not locked\"\r\n                                        }\r\n                                    />\r\n                                </List.Item>\r\n                            )}\r\n                        />\r\n                    )}\r\n                </Content>\r\n            </Layout>\r\n        </LayoutHOC>\r\n    );\r\n};\r\n\r\nexport default Admins;\r\n","import API from \"api/axios.config\";\r\n\r\nclass GAService {\r\n    getGA(projectId, metrics, dimensions, period) {\r\n        return API.post(`/ga/${projectId}`, {\r\n            metrics,\r\n            dimensions,\r\n            start: period[0],\r\n            finish: period[1],\r\n        });\r\n    }\r\n\r\n    getAccessToken() {\r\n        return API.get(`/ga/access-token`);\r\n    }\r\n}\r\n\r\nexport default new GAService();\r\n","import React from \"react\";\n\nimport { Chart } from \"react-google-charts\";\nimport moment from \"moment\";\nimport humanizeString from \"string-humanize\";\n\nexport const ChartItem = (props) => {\n    const {\n        data,\n        title,\n        column,\n        seconds,\n        type = \"LineChart\",\n        isDate = true,\n    } = props;\n\n    const dataRefined = data\n        ? [\n              [\n                  humanizeString(data.columnHeaders[0].name.replace(\"ga:\", \"\")),\n                  humanizeString(\n                      data.columnHeaders[column].name.replace(\"ga:\", \"\")\n                  ),\n              ],\n              ...data.rows\n                  .map((i) => [\n                      isDate ? moment(i[0], \"YYYYMMDD\").format(\"D MMM\") : i[0],\n                      parseInt(i[column]) / (seconds ? 60 : 1),\n                  ])\n                  .sort((a, b) => (isDate ? 0 : b[1] - a[1])),\n          ]\n        : [];\n    return (\n        <div style={{ maxWidth: \"400px\", margin: \"20px\", width: \"100%\" }}>\n            <Chart\n                chartType={type}\n                width=\"100%\"\n                height=\"400px\"\n                data={dataRefined}\n                options={{\n                    title,\n                    legend: {\n                        position: \"none\",\n                    },\n                    chartArea: { width: \"85%\", height: \"80%\" },\n                    allowHtml: true,\n                    width: \"100%\",\n                }}\n            />\n        </div>\n    );\n};\n\nexport default ChartItem;\n","import LayoutHOC from \"layout/Layout\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { DatePicker, Layout, PageHeader } from \"antd\";\n\nimport { Content } from \"antd/lib/layout/layout\";\n\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nimport projectService from \"services/project.service\";\nimport moment from \"moment\";\nimport gaService from \"services/ga.service\";\nimport toast from \"react-hot-toast\";\nimport { ChartItem } from \"components/DashboardItem/DataItems\";\nimport useLoginCheck from \"hooks/useLoginCheck\";\n\nconst AnalyticClient = (props) => {\n    const { id } = useParams();\n\n    const [project, setProject] = useState(null);\n    const [dateData, setDateData] = useState(null);\n    const [cityData, setCityData] = useState(null);\n    const [deviceData, setDeviceData] = useState(null);\n    const [sourceData, setSourceData] = useState(null);\n    const [period, setPeriod] = useState([\n        moment().subtract(7, \"day\").format(),\n        moment().format(),\n    ]);\n    const navigate = useNavigate();\n\n    useLoginCheck();\n\n    useEffect(() => {\n        projectService.getProject(id).then((response) => {\n            setProject(response.data);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (period.length === 2 && project?.id) {\n            setDateData(null);\n            setCityData(null);\n            setDeviceData(null);\n            setSourceData(null);\n            getMetricData();\n        }\n    }, [period[0], period[1], project?.id]);\n\n    const getMetricData = () => {\n        gaService\n            .getGA(\n                project.id,\n                \"ga:users,ga:newUsers,ga:pageviews,ga:sessions,ga:sessionDuration\",\n                \"ga:date\",\n                period\n            )\n            .then((res) => {\n                setDateData(res.data.data);\n            })\n            .catch((err) => {\n                toast.error(\"Users analytics data not loaded\");\n            });\n\n        gaService\n            .getGA(project.id, \"ga:users\", \"ga:city\", period)\n            .then((res) => {\n                setCityData(res.data.data);\n            })\n            .catch((err) => {\n                toast.error(\"Location analytics data not loaded\");\n            });\n\n        gaService\n            .getGA(project.id, \"ga:users\", \"ga:deviceCategory\", period)\n            .then((res) => {\n                setDeviceData(res.data.data);\n            })\n            .catch((err) => {\n                toast.error(\"Device analytics data not loaded\");\n            });\n\n        gaService\n            .getGA(project.id, \"ga:users\", \"ga:source\", period)\n            .then((res) => {\n                setSourceData(res.data.data);\n            })\n            .catch((err) => {\n                toast.error(\"Source analytics data not loaded\");\n            });\n    };\n\n    return (\n        <LayoutHOC>\n            <Layout\n                style={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    flex: 1,\n                    background: \"white\",\n                }}\n            >\n                <PageHeader\n                    onBack={() => navigate(`/p-admin/${id}`)}\n                    title={\n                        <>\n                            Analytics\n                            <br />\n                            <DatePicker.RangePicker\n                                size=\"large\"\n                                defaultValue={[\n                                    moment().subtract(7, \"day\"),\n                                    moment(),\n                                ]}\n                                onChange={(m) =>\n                                    setPeriod([m[0].format(), m[1].format()])\n                                }\n                                allowClear={false}\n                            />\n                        </>\n                    }\n                    style={{ borderBottom: \"1px #ccc solid\" }}\n                />\n                {project && (\n                    <Content\n                        style={{\n                            flex: 1,\n                            overflow: \"auto\",\n                            padding: \"16px\",\n\n                            width: \"100%\",\n                            margin: \"auto\",\n                        }}\n                    >\n                        <div\n                            style={{\n                                textAlign: \"center\",\n                                display: \"flex\",\n                                flexDirection: \"row\",\n                                flexWrap: \"wrap\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                            }}\n                        >\n                            <ChartItem\n                                data={dateData}\n                                title=\"Users\"\n                                xKey=\"start\"\n                                valKey=\"value\"\n                                column={1}\n                            />\n                            <ChartItem\n                                data={dateData}\n                                title=\"New users\"\n                                xKey=\"start\"\n                                valKey=\"value\"\n                                column={2}\n                            />\n                            <ChartItem\n                                data={dateData}\n                                title=\"Page views\"\n                                xKey=\"start\"\n                                valKey=\"value\"\n                                column={3}\n                            />\n                            <ChartItem\n                                data={dateData}\n                                title=\"Sessions\"\n                                xKey=\"start\"\n                                valKey=\"value\"\n                                column={4}\n                            />\n                            <ChartItem\n                                data={dateData}\n                                title=\"Session duration (minutes)\"\n                                xKey=\"start\"\n                                valKey=\"value\"\n                                column={5}\n                                seconds\n                            />\n                            <ChartItem\n                                data={deviceData}\n                                title=\"Device type\"\n                                xKey=\"start\"\n                                valKey=\"value\"\n                                type=\"PieChart\"\n                                column={1}\n                                seconds\n                                isDate={false}\n                            />\n                            <ChartItem\n                                data={sourceData}\n                                title=\"Source\"\n                                xKey=\"start\"\n                                valKey=\"value\"\n                                type=\"BarChart\"\n                                column={1}\n                                isDate={false}\n                            />\n                            <ChartItem\n                                data={cityData}\n                                title=\"Source\"\n                                xKey=\"start\"\n                                valKey=\"value\"\n                                type=\"Table\"\n                                column={1}\n                                isDate={false}\n                            />\n                        </div>\n                    </Content>\n                )}\n            </Layout>\n        </LayoutHOC>\n    );\n};\n\nexport default AnalyticClient;\n","import React, { useState } from 'react';\nimport openSocket from 'socket.io-client';\nconst socket = openSocket('http://localhost:3001');\n\nconst getConnections = (cb) => {\n  socket.on('pageview', (connections) => cb(connections.connections))\n}\n\nexport const RealTimeItem = () => {\n  const [connections, setConnections] = useState(0);\n\n  getConnections((conns) => {\n    console.log(conns);\n    setConnections(conns);\n  });\n\n  return (\n    <p>\n      {connections}\n    </p>\n  );\n};\n  \nexport default RealTimeItem;","import LayoutHOC from \"layout/Layout\";\nimport React, { useEffect, useRef, useState } from \"react\";\n\nimport { Button, Layout, PageHeader, Form, Input } from \"antd\";\nimport { Content } from \"antd/lib/layout/layout\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport constantService from \"services/constant.service\";\nimport useLoginCheck from \"hooks/useLoginCheck\";\n\nconst Constants = (props) => {\n    const [constants, setConstants] = useState(null);\n    const formRef = useRef(null);\n\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        constantService\n            .getConstant()\n            .then((response) => {\n                if (response.data) {\n                    setConstants(response.data);\n                    formRef.current &&\n                        formRef.current.setFieldsValue(response.data);\n                } else setConstants({});\n            })\n            .catch(() => {\n                setConstants({});\n            });\n    }, []);\n\n    useLoginCheck();\n    const onFinish = async (values) => {\n        const response = await constantService.saveConstant(values);\n        if (response.data) {\n            setConstants(response.data);\n            toast.success(\"Saved\");\n        }\n    };\n\n    return (\n        <LayoutHOC>\n            <Layout\n                style={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    flex: 1,\n                    background: \"white\",\n                }}\n            >\n                <PageHeader\n                    onBack={() => navigate(\"/admin\")}\n                    title=\"Constants\"\n                    style={{ boxShadow: \"1px 1px 10px 1px #ccc\" }}\n                />\n\n                <Content\n                    style={{\n                        flex: 1,\n                        overflow: \"auto\",\n                        padding: \"16px\",\n                        maxWidth: \"800px\",\n                        width: \"100%\",\n                        margin: \"auto\",\n                    }}\n                >\n                    <Form\n                        ref={formRef}\n                        name=\"normal_login\"\n                        onFinish={onFinish}\n                        style={{\n                            padding: \" 16px\",\n                            maxWidth: \"500px\",\n                            margin: \"auto\",\n                        }}\n                        initialValues={constants}\n                    >\n                        <Form.Item name=\"email\">\n                            <Input placeholder=\"Email\" />\n                        </Form.Item>\n\n                        <Form.Item name=\"phone\">\n                            <Input placeholder=\"Phone\" />\n                        </Form.Item>\n\n                        <Form.Item name=\"call\">\n                            <Input placeholder=\"Phone in international format\" />\n                        </Form.Item>\n\n                        <Form.Item>\n                            <Button\n                                type=\"primary\"\n                                htmlType=\"submit\"\n                                style={{ width: \"100%\" }}\n                            >\n                                Save\n                            </Button>\n                        </Form.Item>\n                        <Form.Item>\n                            <Button\n                                onClick={() => {\n                                    if (formRef.current)\n                                        formRef.current.resetFields();\n                                }}\n                                style={{ width: \"100%\" }}\n                            >\n                                Reset\n                            </Button>\n                        </Form.Item>\n                    </Form>\n                </Content>\n            </Layout>\n        </LayoutHOC>\n    );\n};\n\nexport default Constants;\n","import { Button, Checkbox, Form, Input, Switch } from \"antd\";\nimport React from \"react\";\n\nconst ProjectFormFields = () => {\n    return (\n        <>\n            <Form.Item\n                name=\"name\"\n                label=\"Name\"\n                rules={[\n                    {\n                        required: true,\n                        message: \"Please set name!\",\n                    },\n                ]}\n            >\n                <Input placeholder=\"Name\" />\n            </Form.Item>\n            <Form.Item\n                name=\"url\"\n                label=\"Url\"\n                rules={[\n                    {\n                        required: true,\n                        message: \"Please add url!\",\n                    },\n                ]}\n            >\n                <Input placeholder=\"Url\" />\n            </Form.Item>\n\n            <Form.Item\n                name=\"projectId\"\n                label=\"Project id\"\n                rules={[\n                    {\n                        required: true,\n                        message: \"Please add project id!\",\n                    },\n                ]}\n            >\n                <Input placeholder=\"Project id\" />\n            </Form.Item>\n\n            <Form.Item\n                name=\"modelId\"\n                label=\"Model id\"\n                rules={[\n                    {\n                        required: true,\n                        message: \"Please add model id!\",\n                    },\n                ]}\n            >\n                <Input placeholder=\"Model id\" />\n            </Form.Item>\n\n            <Form.Item name=\"adminEmail\" label=\"Client login\">\n                <Input placeholder=\"Admin email\" />\n            </Form.Item>\n\n            <Form.Item\n                name=\"adminPassword\"\n                label=\"Client password\"\n                rules={[\n                    {\n                        min: 6,\n                        message: \"Must have length at least 6!\",\n                    },\n                ]}\n            >\n                <Input placeholder=\"Admin password\" />\n            </Form.Item>\n\n            <Form.Item name=\"analytic\" label=\"Analytics property\">\n                <Input placeholder=\"Google analytics property id\" />\n            </Form.Item>\n\n            <Form.Item\n                name=\"mobileNativeEvents\"\n                label=\"Mobile native events\"\n                valuePropName=\"checked\"\n            >\n                <Switch>Mobile native events</Switch>\n            </Form.Item>\n            <Form.Item\n                name=\"desktopNativeEvents\"\n                label=\"Desktop native events\"\n                valuePropName=\"checked\"\n            >\n                <Switch />\n            </Form.Item>\n\n            <Form.Item\n                name=\"published\"\n                valuePropName=\"checked\"\n                label=\"Published\"\n            >\n                <Checkbox />\n            </Form.Item>\n\n            <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n                <Button\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    style={{ width: \"100%\" }}\n                >\n                    Save\n                </Button>\n            </Form.Item>\n        </>\n    );\n};\n\nexport default ProjectFormFields;\n","import LayoutHOC from \"layout/Layout\";\nimport React, { useRef } from \"react\";\nimport projectService from \"services/project.service\";\n\nimport { Button, Layout, PageHeader, Form } from \"antd\";\nimport { Content } from \"antd/lib/layout/layout\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport ProjectFormFields from \"components/ProjectFormFields\";\nimport useLoginCheck from \"hooks/useLoginCheck\";\n\nconst CreateProject = (props) => {\n    const formRef = useRef(null);\n\n    const navigate = useNavigate();\n\n    useLoginCheck();\n\n    const onFinish = async (values) => {\n        const response = await projectService.createProject(values);\n        if (response.data) {\n            toast.success(\"Saved\");\n            navigate(\"/admin\");\n        }\n    };\n\n    return (\n        <LayoutHOC>\n            <Layout\n                style={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    flex: 1,\n                    background: \"white\",\n                }}\n            >\n                <PageHeader\n                    onBack={() => navigate(\"/admin\")}\n                    title=\"Create project\"\n                    style={{ boxShadow: \"1px 1px 10px 1px #ccc\" }}\n                />\n\n                <Content\n                    style={{\n                        flex: 1,\n                        overflow: \"auto\",\n                        padding: \"16px\",\n                        maxWidth: \"800px\",\n                        width: \"100%\",\n                        margin: \"auto\",\n                    }}\n                >\n                    <Form\n                        ref={formRef}\n                        name=\"normal_login\"\n                        onFinish={onFinish}\n                        style={{\n                            padding: \" 16px\",\n                            maxWidth: \"500px\",\n                            margin: \"auto\",\n                        }}\n                        labelCol={{ span: 8 }}\n                        wrapperCol={{ span: 16 }}\n                    >\n                        <ProjectFormFields />\n                        <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n                            <Button\n                                onClick={() => {\n                                    if (formRef.current)\n                                        formRef.current.resetFields();\n                                }}\n                                style={{ width: \"100%\" }}\n                            >\n                                Reset\n                            </Button>\n                        </Form.Item>\n                    </Form>\n                </Content>\n            </Layout>\n        </LayoutHOC>\n    );\n};\n\nexport default CreateProject;\n","import React, { useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport authService from \"services/auth.service\";\r\nimport Modal from \"antd/lib/modal/Modal\";\r\nimport { Button, Form, Input } from \"antd\";\r\nimport { UserOutlined } from \"@ant-design/icons\";\r\n\r\nconst ForgotPasswordModal = () => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const onFinish = (data) => {\r\n        authService\r\n            .forgotPassword(data.email)\r\n            .then((data) => {\r\n                if (data.data.status === \"OK\") {\r\n                    toast.success(\"Email has been sent successfully.\");\r\n                    setIsOpen(false);\r\n                }\r\n            })\r\n            .catch((error) => {});\r\n    };\r\n    return (\r\n        <div>\r\n            <>\r\n                <span onClick={() => setIsOpen(!isOpen)}>Forgot password?</span>\r\n                <Modal\r\n                    title=\"Forgot Password\"\r\n                    visible={isOpen}\r\n                    footer={[]}\r\n                    onCancel={() => setIsOpen(false)}\r\n                >\r\n                    <Form\r\n                        name=\"normal_login\"\r\n                        onFinish={onFinish}\r\n                        style={{\r\n                            padding: \"100px 16px\",\r\n                            maxWidth: \"500px\",\r\n                            margin: \"auto\",\r\n                        }}\r\n                    >\r\n                        <Form.Item\r\n                            name=\"email\"\r\n                            rules={[\r\n                                {\r\n                                    type: \"email\",\r\n                                    message: \"The input is not valid E-mail!\",\r\n                                },\r\n                                {\r\n                                    required: true,\r\n                                    message: \"Please input your E-mail!\",\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input\r\n                                prefix={\r\n                                    <UserOutlined className=\"site-form-item-icon\" />\r\n                                }\r\n                                placeholder=\"Email\"\r\n                            />\r\n                        </Form.Item>\r\n\r\n                        <Form.Item>\r\n                            <Button\r\n                                type=\"primary\"\r\n                                htmlType=\"submit\"\r\n                                style={{ width: \"100%\" }}\r\n                            >\r\n                                Reset password\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPasswordModal;\r\n","// import { Button, HelperText, Input, Label } from \"@windmill/react-ui\";\r\nimport ForgotPasswordModal from \"components/ForgotPasswordModal\";\r\nimport { useUser } from \"context/UserContext\";\r\nimport Layout from \"layout/Layout\";\r\nimport React, { useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport authService from \"services/auth.service\";\r\nimport { Form, Input, Button, Typography } from \"antd\";\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\n\r\nconst Login = () => {\r\n    const { isLoggedIn, setUserState, authData } = useUser();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [redirectToReferrer, setRedirectToReferrer] = useState(false);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const onFinish = async (data) => {\r\n        const { email, password } = data;\r\n\r\n        try {\r\n            setIsLoading(true);\r\n            const data = await authService.login(email, password);\r\n            toast.success(\"Login successful \");\r\n\r\n            setTimeout(() => {\r\n                setUserState(data);\r\n                setRedirectToReferrer(true);\r\n                setIsLoading(false);\r\n            }, 1500);\r\n        } catch (error) {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    if (\r\n        (isLoggedIn || redirectToReferrer) &&\r\n        (authData?.super || authData?.projectId)\r\n    ) {\r\n        navigate(\"/admin\");\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"Login\" loading={isLoading}>\r\n            <Form\r\n                name=\"normal_login\"\r\n                onFinish={onFinish}\r\n                style={{\r\n                    padding: \"100px 16px\",\r\n                    maxWidth: \"500px\",\r\n                    margin: \"auto\",\r\n                }}\r\n            >\r\n                <Typography.Title\r\n                    style={{ textAlign: \"center\", marginBottom: \"50px\" }}\r\n                >\r\n                    Manage IMMERSIVE\r\n                </Typography.Title>\r\n                <Form.Item\r\n                    name=\"email\"\r\n                    rules={[\r\n                        {\r\n                            type: \"email\",\r\n                            message: \"The input is not valid E-mail!\",\r\n                        },\r\n                        {\r\n                            required: true,\r\n                            message: \"Please input your E-mail!\",\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input\r\n                        prefix={\r\n                            <UserOutlined className=\"site-form-item-icon\" />\r\n                        }\r\n                        placeholder=\"Email\"\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"password\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"Please input your Password!\",\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input.Password\r\n                        prefix={\r\n                            <LockOutlined className=\"site-form-item-icon\" />\r\n                        }\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                    />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <a>\r\n                        <ForgotPasswordModal />\r\n                    </a>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        htmlType=\"submit\"\r\n                        style={{ width: \"100%\" }}\r\n                    >\r\n                        Log in\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import LayoutHOC from \"layout/Layout\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport projectService from \"services/project.service\";\n\nimport { Button, Layout, PageHeader, Form, Typography } from \"antd\";\nimport { Content } from \"antd/lib/layout/layout\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport ProjectFormFields from \"components/ProjectFormFields\";\nimport useLoginCheck from \"hooks/useLoginCheck\";\n\nconst ProjectDetails = (props) => {\n    const [project, setProject] = useState(null);\n\n    const formRef = useRef(null);\n\n    const { id } = useParams();\n\n    useEffect(() => {\n        projectService.getProject(id).then((response) => {\n            setProject(response.data);\n        });\n    }, [id]);\n\n    const navigate = useNavigate();\n    useLoginCheck();\n\n    const onFinish = async (values) => {\n        const response = await projectService.saveProject(project.id, values);\n        if (response.data) toast.success(\"Saved\");\n    };\n\n    return (\n        <LayoutHOC loading={!project}>\n            <Layout\n                style={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    flex: 1,\n                    background: \"white\",\n                }}\n            >\n                <PageHeader\n                    onBack={() => navigate(\"/admin\")}\n                    title={`Project - ${project?.name}`}\n                    style={{ boxShadow: \"1px 1px 10px 1px #ccc\" }}\n                />\n\n                <Content\n                    style={{\n                        flex: 1,\n                        overflow: \"auto\",\n                        padding: \"16px\",\n                        maxWidth: \"800px\",\n                        width: \"100%\",\n                        margin: \"auto\",\n                    }}\n                >\n                    {project && (\n                        <>\n                            <Typography.Title>\n                                Project id: {project.id}\n                            </Typography.Title>\n                            <Button\n                                onClick={() => navigate(`/p-admin/${id}`)}\n                                style={{ margin: \"16px\" }}\n                            >\n                                See client admin panel\n                            </Button>\n                            <Button\n                                onClick={() =>\n                                    navigate(\n                                        `/admin/projects/${project.id}/properties`\n                                    )\n                                }\n                                style={{ margin: \"16px\" }}\n                            >\n                                Manage properties\n                            </Button>\n                            <Form\n                                ref={formRef}\n                                name=\"normal_login\"\n                                onFinish={onFinish}\n                                style={{\n                                    padding: \" 16px\",\n                                    maxWidth: \"500px\",\n                                    margin: \"auto\",\n                                }}\n                                initialValues={project}\n                                labelCol={{ span: 8 }}\n                                wrapperCol={{ span: 16 }}\n                            >\n                                <ProjectFormFields />\n                                <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n                                    <Button\n                                        onClick={() => {\n                                            if (formRef.current)\n                                                formRef.current.resetFields();\n                                        }}\n                                        style={{ width: \"100%\" }}\n                                    >\n                                        Reset\n                                    </Button>\n                                </Form.Item>\n                            </Form>\n                        </>\n                    )}\n                </Content>\n            </Layout>\n        </LayoutHOC>\n    );\n};\n\nexport default ProjectDetails;\n","import LayoutHOC from \"layout/Layout\";\nimport React, { useEffect, useState } from \"react\";\nimport projectService from \"services/project.service\";\n\nimport {\n    Button,\n    Drawer,\n    Dropdown,\n    Layout,\n    List,\n    Menu,\n    PageHeader,\n    Popconfirm,\n} from \"antd\";\nimport { Content } from \"antd/lib/layout/layout\";\nimport {\n    EyeFilled,\n    EyeInvisibleFilled,\n    MenuOutlined,\n    MoreOutlined,\n    StarFilled,\n} from \"@ant-design/icons\";\nimport { useUser } from \"context/UserContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport useLoginCheck from \"hooks/useLoginCheck\";\n\nconst Projects = (props) => {\n    const [projects, setProjects] = useState(null);\n    const { logout } = useUser();\n    const navigate = useNavigate();\n\n    const [openDrawer, setOpenDrawer] = useState(false);\n    useEffect(() => {\n        projectService.getProject().then((response) => {\n            setProjects(response.data);\n        });\n    }, []);\n\n    useLoginCheck();\n\n    const deleteProject = async (id) => {\n        const response = await projectService.deleteProject(id);\n        if (response.data) setProjects(response.data);\n    };\n\n    const setFeatured = async (id) => {\n        const response = await projectService.saveProject(id, {\n            featured: true,\n        });\n\n        if (response.data) setProjects(response.data);\n    };\n\n    return (\n        <LayoutHOC loading={!projects}>\n            <Layout\n                style={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    flex: 1,\n                    background: \"white\",\n                }}\n            >\n                <PageHeader\n                    onBack={() => setOpenDrawer(true)}\n                    backIcon={<MenuOutlined />}\n                    title={\"Projects\"}\n                    style={{ boxShadow: \"1px 1px 10px 1px #ccc\" }}\n                />\n\n                <Content\n                    style={{\n                        flex: 1,\n                        overflow: \"auto\",\n                        padding: \"16px\",\n                        maxWidth: \"800px\",\n                        width: \"100%\",\n                        margin: \"auto\",\n                    }}\n                >\n                    <Button\n                        onClick={() => navigate(\"/admin/projects/create\")}\n                        style={{ margin: \"16px\" }}\n                    >\n                        Add project\n                    </Button>\n                    {projects && (\n                        <List\n                            itemLayout=\"horizontal\"\n                            dataSource={projects.sort((a, b) =>\n                                a.url > b.url ? 1 : -1\n                            )}\n                            renderItem={(project) => (\n                                <List.Item\n                                    actions={[\n                                        <Dropdown\n                                            overlay={\n                                                <Menu>\n                                                    <Menu.Item\n                                                        key=\"1\"\n                                                        onClick={() =>\n                                                            setFeatured(\n                                                                project.id\n                                                            )\n                                                        }\n                                                    >\n                                                        Set as featured\n                                                    </Menu.Item>\n                                                    <Menu.Divider />\n                                                    <Popconfirm\n                                                        title=\"Are you sure to delete this project?\"\n                                                        onConfirm={() =>\n                                                            deleteProject(\n                                                                project.id\n                                                            )\n                                                        }\n                                                        okText=\"Yes\"\n                                                        cancelText=\"No\"\n                                                    >\n                                                        <Menu.Item\n                                                            key=\"3\"\n                                                            danger\n                                                        >\n                                                            Delete\n                                                        </Menu.Item>\n                                                    </Popconfirm>\n                                                </Menu>\n                                            }\n                                            trigger={[\"click\"]}\n                                        >\n                                            <MoreOutlined\n                                                style={{ fontSize: \"30px\" }}\n                                            />\n                                        </Dropdown>,\n                                    ]}\n                                >\n                                    <List.Item.Meta\n                                        avatar={\n                                            project.featured ? (\n                                                <StarFilled\n                                                    style={{ fontSize: \"24px\" }}\n                                                />\n                                            ) : project.published ? (\n                                                <EyeFilled\n                                                    style={{ fontSize: \"24px\" }}\n                                                />\n                                            ) : (\n                                                <EyeInvisibleFilled\n                                                    style={{ fontSize: \"24px\" }}\n                                                />\n                                            )\n                                        }\n                                        title={project.name}\n                                        description={project.url}\n                                        onClick={() => {\n                                            navigate(\n                                                `/admin/projects/${project.id}`\n                                            );\n                                        }}\n                                    />\n                                </List.Item>\n                            )}\n                        />\n                    )}\n                </Content>\n            </Layout>\n            <Drawer\n                title=\"Menu\"\n                placement=\"left\"\n                onClose={() => setOpenDrawer(false)}\n                visible={openDrawer}\n            >\n                <Menu\n                    mode=\"inline\"\n                    style={{ width: \"100%\" }}\n                    onClick={({ item, key }) => {\n                        setOpenDrawer(false);\n                        switch (key) {\n                            case \"logout\":\n                                logout();\n                                break;\n                            case \"info\":\n                                navigate(\"/admin/contant\");\n                                break;\n                            case \"admins\":\n                                navigate(\"/admin/admins\");\n                                break;\n                            default:\n                                return;\n                        }\n                    }}\n                    activeKey=\"projects\"\n                    selectedKeys={[\"projects\"]}\n                >\n                    <Menu.Item key=\"projects\">Projects</Menu.Item>\n                    <Menu.Item key=\"info\">Constant</Menu.Item>\n                    <Menu.Item key=\"admins\">Admins</Menu.Item>\n                    <Menu.Item key=\"logout\">Logout</Menu.Item>\n                </Menu>\n            </Drawer>\n        </LayoutHOC>\n    );\n};\n\nexport default Projects;\n","import API from \"api/axios.config\";\r\n\r\nclass PropertyService {\r\n    getProperty(projectId, id) {\r\n        return API.get(`/properties/${projectId}/${id ? \"/\" + id : \"\"}`);\r\n    }\r\n    saveProperty(projectId, id, data) {\r\n        return API.put(`/properties/${projectId}/${id}`, data);\r\n    }\r\n    createProperty(projectId, data) {\r\n        return API.post(`/properties/${projectId}`, data);\r\n    }\r\n    deleteProperty(projectId, id) {\r\n        return API.delete(`/properties/${projectId}/${id}`);\r\n    }\r\n    saveStatus(projectId, id, data) {\r\n        return API.put(`/properties/${projectId}/status/${id}`, data);\r\n    }\r\n}\r\n\r\nexport default new PropertyService();\r\n","import { Button, Popconfirm, Select, Table } from \"antd\";\nimport React from \"react\";\nimport toast from \"react-hot-toast\";\nimport propertyService from \"services/property.service\";\n\nconst PropertiesTable = (props) => {\n    const {\n        properties,\n        project,\n        setProperties,\n        admin,\n        setEditModalOpen,\n        transferOrientationToString,\n    } = props;\n\n    const { Option } = Select;\n\n    const onChange = async (value, id) => {\n        const response = await propertyService.saveStatus(project.id, id, {\n            Availability: value,\n        });\n        if (response.data) {\n            toast.success(\"Saved\");\n            setProperties(response.data);\n        }\n    };\n\n    const deleteProperty = async (propertyId) => {\n        const response = await propertyService.deleteProperty(\n            project.id,\n            propertyId\n        );\n        if (response.data) setProperties(response.data);\n    };\n\n    const columns = [\n        {\n            title: \"Name\",\n            dataIndex: \"Name\",\n            key: \"name\",\n            sorter: (a, b) => (a.Name > b.Name ? 1 : -1),\n            sortDirections: [\"descend\", \"ascend\"],\n        },\n        {\n            title: \"Availability\",\n            dataIndex: \"Availability\",\n            key: \"availability\",\n            render: (status, property) => (\n                <Select\n                    value={status}\n                    onChange={(value) => onChange(value, property.id)}\n                    style={{ width: \"100%\" }}\n                >\n                    <Option value=\"available\">Available</Option>\n                    <Option value=\"reserved\">Reserved</Option>\n                    <Option value=\"sold\">Sold</Option>\n                </Select>\n            ),\n            sorter: (a, b) => (a.Availability > b.Availability ? 1 : -1),\n            sortDirections: [\"descend\", \"ascend\"],\n            onFilter: (value, record) =>\n                record.Availability.indexOf(value) === 0,\n        },\n        {\n            title: \"Surface\",\n            dataIndex: \"Surface\",\n            key: \"surface\",\n            sorter: (a, b) => a.Surface - b.Surface,\n            sortDirections: [\"descend\", \"ascend\"],\n        },\n        {\n            title: \"Price\",\n            dataIndex: \"Price\",\n            key: \"price\",\n            sorter: (a, b) => a.Price - b.Price,\n            sortDirections: [\"descend\", \"ascend\"],\n        },\n        {\n            title: \"Bedrooms\",\n            dataIndex: \"BedroomsCount\",\n            key: \"bedrooms\",\n            sorter: (a, b) => a.BedroomsCount - b.BedroomsCount,\n            sortDirections: [\"descend\", \"ascend\"],\n        },\n        {\n            title: \"Bathrooms\",\n            dataIndex: \"BathroomsCount\",\n            key: \"bathrooms\",\n            sorter: (a, b) => a.BathroomsCount - b.BathroomsCount,\n            sortDirections: [\"descend\", \"ascend\"],\n        },\n        {\n            title: \"Orientation\",\n            dataIndex: \"Orientation\",\n            key: \"orientation\",\n            render: (orientation, property) =>\n                transferOrientationToString(property).Orientation,\n            sorter: (a, b) =>\n                transferOrientationToString(a).Orientation >\n                transferOrientationToString(b).Orientation\n                    ? 1\n                    : -1,\n            sortDirections: [\"descend\", \"ascend\"],\n        },\n        {\n            title: \"\",\n            render: (_, property) => (\n                <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n                    <Button\n                        type=\"link\"\n                        onClick={() => setEditModalOpen(property)}\n                    >\n                        Edit\n                    </Button>\n                    {admin && (\n                        <Popconfirm\n                            title=\"Are you sure to delete this property?\"\n                            onConfirm={() => deleteProperty(property.id)}\n                            okText=\"Yes\"\n                            cancelText=\"No\"\n                        >\n                            <Button type=\"text\" danger>\n                                Delete\n                            </Button>\n                        </Popconfirm>\n                    )}\n                </div>\n            ),\n        },\n    ];\n    return (\n        <Table\n            dataSource={properties.sort((a, b) => {\n                return a.Name > b.Name ? 1 : -1;\n            })}\n            columns={columns}\n        />\n    );\n};\n\nexport default PropertiesTable;\n","import React, { useEffect, useRef, useState } from \"react\";\n\nimport { Button, Form, Input, Modal, Select } from \"antd\";\n\nimport propertyService from \"services/property.service\";\nimport toast from \"react-hot-toast\";\nimport PropertiesTable from \"components/ProjectView/Components/PropertiesTable\";\nimport projectService from \"services/project.service\";\nimport useLoginCheck from \"hooks/useLoginCheck\";\n\nconst Properties = (props) => {\n    const { admin, id, project, properties, setProject, setProperties } = props;\n    const formRef = useRef(null);\n\n    const [editModalOpen, setEditModalOpen] = useState(null);\n\n    useEffect(() => {\n        propertyService.getProperty(id).then((response) => {\n            setProperties(response.data);\n        });\n\n        projectService.getProject(id).then((response) => {\n            setProject(response.data);\n        });\n    }, []);\n\n    useLoginCheck();\n\n    useEffect(() => {\n        if (formRef.current) {\n            if (editModalOpen)\n                formRef.current.setFieldsValue(\n                    editModalOpen.id\n                        ? transferOrientationToString(editModalOpen)\n                        : editModalOpen\n                );\n        }\n    }, [editModalOpen?.id]);\n\n    const onFinish = async (values) => {\n        const response = editModalOpen?.id\n            ? await propertyService.saveProperty(\n                  id,\n                  editModalOpen.id,\n                  transferOrientationToObject(values)\n              )\n            : await propertyService.createProperty(\n                  id,\n                  transferOrientationToObject(values)\n              );\n        if (response.data) {\n            toast.success(\"Saved\");\n            setProperties(response.data);\n            setEditModalOpen(null);\n            if (formRef.current) formRef.current.resetFields();\n        }\n    };\n\n    const transferOrientationToObject = (data) => {\n        const o = {};\n        if (data.Orientation.indexOf(\"N\") !== -1) o.N = true;\n        else if (data.Orientation.indexOf(\"S\") !== -1) o.S = true;\n        if (data.Orientation.indexOf(\"E\") !== -1) o.E = true;\n        else if (data.Orientation.indexOf(\"W\") !== -1) o.W = true;\n        return { ...data, Orientation: o };\n    };\n\n    const transferOrientationToString = (data) => {\n        let o = \"\";\n        if (data.Orientation.N) o = o + \"N\";\n        else if (data.Orientation.S) o = o + \"S\";\n        if (data.Orientation.E) o = o + \"E\";\n        else if (data.Orientation.W) o = o + \"W\";\n        return { ...data, Orientation: o };\n    };\n    const { Option } = Select;\n\n    return (\n        <>\n            {admin && (\n                <Button\n                    onClick={() => setEditModalOpen({})}\n                    style={{ margin: \"16px\" }}\n                >\n                    Add property\n                </Button>\n            )}\n            <Modal\n                visible={!!editModalOpen}\n                onCancel={() => setEditModalOpen(null)}\n                footer={null}\n            >\n                <Form\n                    name=\"normal_login\"\n                    onFinish={onFinish}\n                    style={{\n                        padding: \" 16px\",\n                        maxWidth: \"500px\",\n                        margin: \"auto\",\n                    }}\n                    ref={formRef}\n                    labelCol={{ span: 8 }}\n                    wrapperCol={{ span: 16 }}\n                >\n                    <Form.Item\n                        name=\"Name\"\n                        label=\"Name\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please add name!\",\n                            },\n                        ]}\n                    >\n                        <Input placeholder=\"Name\" readOnly={!admin} />\n                    </Form.Item>\n\n                    <Form.Item name=\"Surface\" label=\"Surface\">\n                        <Input placeholder=\"Surface\" type=\"number\" />\n                    </Form.Item>\n                    <Form.Item name=\"Price\" label=\"Price\">\n                        <Input placeholder=\"Price\" type=\"number\" />\n                    </Form.Item>\n                    <Form.Item name=\"BedroomsCount\" label=\"Bedrooms\">\n                        <Input placeholder=\"Bedrooms\" type=\"number\" />\n                    </Form.Item>\n                    <Form.Item name=\"BathroomsCount\" label=\"Bathrooms\">\n                        <Input placeholder=\"Bathrooms\" type=\"number\" />\n                    </Form.Item>\n                    <Form.Item name=\"Orientation\" label=\"Orientation\">\n                        <Select>\n                            <Option value=\"N\">North</Option>\n                            <Option value=\"NE\">North-East</Option>\n                            <Option value=\"E\">East</Option>\n                            <Option value=\"SE\">South-East</Option>\n                            <Option value=\"S\">South</Option>\n                            <Option value=\"SW\">South-West</Option>\n                            <Option value=\"W\">West</Option>\n                            <Option value=\"NW\">North-West</Option>\n                        </Select>\n                    </Form.Item>\n                    <Form.Item\n                        name=\"Availability\"\n                        label=\"Availability\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please set the status!\",\n                            },\n                        ]}\n                    >\n                        <Select>\n                            <Option value=\"available\">Available</Option>\n                            <Option value=\"reserved\">Reserved</Option>\n                            <Option value=\"sold\">Sold</Option>\n                        </Select>\n                    </Form.Item>\n                    <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n                        <Button\n                            type=\"primary\"\n                            htmlType=\"submit\"\n                            style={{ width: \"100%\" }}\n                        >\n                            Save\n                        </Button>\n                    </Form.Item>\n                </Form>\n            </Modal>\n            {properties && project && (\n                <PropertiesTable\n                    properties={properties}\n                    setProperties={setProperties}\n                    project={project}\n                    admin={admin}\n                    setEditModalOpen={setEditModalOpen}\n                    transferOrientationToString={transferOrientationToString}\n                />\n            )}\n        </>\n    );\n};\n\nexport default Properties;\n","import React, { useEffect, useState } from \"react\";\n\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Properties from \"./Properties\";\nimport LayoutHOC from \"layout/Layout\";\nimport { Layout, PageHeader } from \"antd\";\nimport { Content } from \"antd/lib/layout/layout\";\nimport propertyService from \"services/property.service\";\nimport projectService from \"services/project.service\";\nimport useLoginCheck from \"hooks/useLoginCheck\";\n\nconst PropertiesAdmin = (props) => {\n    const { id } = useParams();\n\n    const navigate = useNavigate();\n    const [project, setProject] = useState(null);\n    const [properties, setProperties] = useState(null);\n    useLoginCheck();\n\n    useEffect(() => {\n        propertyService.getProperty(id).then((response) => {\n            setProperties(response.data);\n        });\n\n        projectService.getProject(id).then((response) => {\n            setProject(response.data);\n        });\n    }, []);\n    return (\n        <LayoutHOC>\n            <Layout\n                style={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    flex: 1,\n                    background: \"white\",\n                }}\n            >\n                <PageHeader\n                    onBack={() => navigate(`/admin/projects/${id}`)}\n                    title={`Properties of project id: ${id}`}\n                    style={{ boxShadow: \"1px 1px 10px 1px #ccc\" }}\n                />\n\n                <Content\n                    style={{\n                        flex: 1,\n                        overflow: \"auto\",\n                        padding: \"16px\",\n                        maxWidth: \"1200px\",\n                        width: \"100%\",\n                        margin: \"auto\",\n                    }}\n                >\n                    <Properties\n                        admin\n                        id={id}\n                        setProject={setProject}\n                        setProperties={setProperties}\n                        project={project}\n                        properties={properties}\n                    />\n                </Content>\n            </Layout>\n        </LayoutHOC>\n    );\n};\n\nexport default PropertiesAdmin;\n","import LayoutHOC from \"layout/Layout\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { Drawer, Layout, Menu, PageHeader } from \"antd\";\nimport { Content } from \"antd/lib/layout/layout\";\nimport { MenuOutlined } from \"@ant-design/icons\";\nimport { useUser } from \"context/UserContext\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport Properties from \"./Properties\";\nimport projectService from \"services/project.service\";\nimport propertyService from \"services/property.service\";\n\nconst PropertiesClient = (props) => {\n    const { id } = useParams();\n    const { logout, isLoggedIn, authData } = useUser();\n    const navigate = useNavigate();\n    const [project, setProject] = useState(null);\n    const [properties, setProperties] = useState(null);\n\n    const [openDrawer, setOpenDrawer] = useState(false);\n\n    useEffect(() => {\n        propertyService.getProperty(id).then((response) => {\n            setProperties(response.data);\n        });\n\n        projectService.getProject(id).then((response) => {\n            setProject(response.data);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (\n            !isLoggedIn ||\n            (!authData?.super &&\n                id.toString() !== authData?.projectId.toString())\n        ) {\n            logout();\n            navigate(\"/login\");\n            return null;\n        }\n    }, [isLoggedIn, authData?.super, authData?.projectId]);\n\n    return (\n        <LayoutHOC loading={!properties || !project}>\n            <Layout\n                style={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    flex: 1,\n                    background: \"white\",\n                }}\n            >\n                <PageHeader\n                    onBack={() => setOpenDrawer(true)}\n                    backIcon={<MenuOutlined />}\n                    title={\"Appartments\"}\n                    style={{ boxShadow: \"1px 1px 10px 1px #ccc\" }}\n                />\n\n                <Content\n                    style={{\n                        flex: 1,\n                        overflow: \"auto\",\n                        padding: \"16px\",\n                        maxWidth: \"1200px\",\n                        width: \"100%\",\n                        margin: \"auto\",\n                    }}\n                >\n                    <Properties\n                        id={id}\n                        setProject={setProject}\n                        setProperties={setProperties}\n                        project={project}\n                        properties={properties}\n                    />\n                </Content>\n            </Layout>\n            <Drawer\n                title=\"Menu\"\n                placement=\"left\"\n                onClose={() => setOpenDrawer(false)}\n                visible={openDrawer}\n            >\n                <Menu\n                    mode=\"inline\"\n                    style={{ width: \"100%\" }}\n                    onClick={({ item, key }) => {\n                        setOpenDrawer(false);\n                        switch (key) {\n                            case \"logout\":\n                                logout();\n                                break;\n                            case \"visit\":\n                                navigate(`/p/${project.url}`);\n                                break;\n                            case \"analytics\":\n                                navigate(`/p-admin/${project.id}/analytics`);\n                                break;\n                            default:\n                                return;\n                        }\n                    }}\n                    activeKey=\"properties\"\n                    selectedKeys={[\"properties\"]}\n                >\n                    <Menu.Item key=\"properties\">Properties</Menu.Item>\n                    <Menu.Item key=\"analytics\">Analytics</Menu.Item>\n                    <Menu.Item key=\"visit\">Visit project</Menu.Item>\n                    <Menu.Item key=\"logout\">Logout</Menu.Item>\n                </Menu>\n            </Drawer>\n        </LayoutHOC>\n    );\n};\n\nexport default PropertiesClient;\n","import history from \"helpers/history\";\nimport Layout from \"layout/Layout\";\nimport Admins from \"pages/Admins\";\nimport AnalyticClient from \"pages/AnalyticClient\";\nimport Constants from \"pages/Constants\";\nimport CreateProject from \"pages/CreateProject\";\nimport Login from \"pages/Login\";\nimport ProjectDetails from \"pages/ProjectDetails\";\nimport Projects from \"pages/Projects\";\nimport PropertiesAdmin from \"pages/PropertiesAdmin\";\nimport PropertiesClient from \"pages/PropertiesClient\";\nimport { lazy, Suspense } from \"react\";\nimport { Toaster } from \"react-hot-toast\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\n\nconst Home = lazy(() => import(\"pages/Home\"));\nconst Project = lazy(() => import(\"pages/Project\"));\n\nconst ResetPassword = lazy(() => import(\"pages/ResetPassword\"));\n// const Preview = lazy(() => import(\"pages/Preview\"));\n\nfunction App() {\n    return (\n        <BrowserRouter history={history}>\n            <Suspense\n                fallback={<Layout>{/* <Spinner size={100} /> */}</Layout>}\n            >\n                <>\n                    <Toaster position=\"top-right\" />\n                    <Routes>\n                        <Route exact path={\"/\"} element={<Home />} />\n                        <Route path=\"/login\" element={<Login />} />\n                        <Route\n                            exact\n                            path=\"/admin\"\n                            element={<Projects />}\n                        ></Route>\n                        <Route\n                            exact\n                            path=\"/admin/projects/:id\"\n                            element={<ProjectDetails />}\n                        ></Route>\n                        <Route\n                            exact\n                            path=\"/admin/projects/create\"\n                            element={<CreateProject />}\n                        ></Route>\n                        <Route\n                            exact\n                            path=\"/admin/projects/:id/properties\"\n                            element={<PropertiesAdmin />}\n                        ></Route>\n                        <Route\n                            exact\n                            path=\"/admin/contant\"\n                            element={<Constants />}\n                        ></Route>\n                        <Route\n                            exact\n                            path=\"/admin/admins\"\n                            element={<Admins />}\n                        ></Route>\n\n                        <Route\n                            path=\"/reset-password\"\n                            element={<ResetPassword />}\n                        ></Route>\n                        <Route\n                            exact\n                            path=\"/p/:id\"\n                            element={<Project />}\n                        ></Route>\n                        <Route\n                            exact\n                            path=\"/p-admin/:id\"\n                            element={<PropertiesClient />}\n                        ></Route>\n\n                        <Route\n                            exact\n                            path=\"/p-admin/:id/analytics\"\n                            element={<AnalyticClient />}\n                        ></Route>\n\n                        <Route\n                            path=\"*\"\n                            element={<h1>404 Error Found</h1>}\n                        ></Route>\n                    </Routes>\n                </>\n            </Suspense>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { UserProvider } from \"context/UserContext\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HelmetProvider } from \"react-helmet-async\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"antd/dist/antd.css\";\n\nReactDOM.render(\n    <HelmetProvider>\n        <UserProvider>\n            <App />\n        </UserProvider>\n    </HelmetProvider>,\n    document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\n\r\nconst Layout = ({ children, title, loading, description, isProject }) => {\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>{title || \"Home\"} | IMMERSIV </title>\r\n                <meta\r\n                    name=\"description\"\r\n                    content={\r\n                        description ||\r\n                        \"IMMERSIV is a digital interactive sales experience for unbuilt environments\"\r\n                    }\r\n                />\r\n            </Helmet>\r\n\r\n            {loading ? null : (\r\n                <div style={{ flex: 1, display: isProject ? \"flex\" : \"block\" }}>\r\n                    {children}\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n","import API from \"api/axios.config\";\r\n\r\nclass ProjectService {\r\n    getProject(id) {\r\n        return API.get(`/projects${id ? \"/\" + id : \"\"}`);\r\n    }\r\n\r\n    getProjectByUrl(id) {\r\n        return API.get(`/projects/url/${id}`);\r\n    }\r\n\r\n    getFeaturedProject() {\r\n        return API.get(`/projects/url/__featured__`);\r\n    }\r\n    saveProject(id, data) {\r\n        return API.put(`/projects/${id}`, data);\r\n    }\r\n    createProject(data) {\r\n        return API.post(`/projects`, data);\r\n    }\r\n    deleteProject(id) {\r\n        return API.delete(`/projects/${id}`);\r\n    }\r\n}\r\n\r\nexport default new ProjectService();\r\n"],"sourceRoot":""}