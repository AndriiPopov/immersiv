(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{1059:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(7),r=n(0),s=n.n(r),o=n(986),i=n(1063),u=n(1054),j=n(1053),l=n(1070),b=n(1068),d=n(981),O=n.n(d),p=n(978),x=n.n(p),f=n(979),h=n.n(f),m=n(980),v=n.n(m),g=n(28),k=n(3),C=n.n(k),w=n(8),y=n(1065),P=n(1057),T=n(1056),S=n(1072),A=n(1060),E=n(1050),I=n(219),F=n(1061),_=n(1067),L=n(1045),D=n(1046),J=n(1047),M=n(990),G=n(1064),N=n(970),U=n.n(N),W=n(971),q=n.n(W),z=n(969),B=n.n(z),H=n(967),K=n.n(H),Q=function(e){var t=e.project,n=e.data,r=e.setEditId,o=e.setEditState,i=s.a.useState(null),u=Object(c.a)(i,2),j=u[0],l=u[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(F.a,{secondaryAction:Object(a.jsx)(_.a,{edge:"end",onClick:function(e){l(e.currentTarget)},children:Object(a.jsx)(K.a,{})}),children:Object(a.jsxs)(L.a,{onClick:function(){r(t.url),o(t)},children:[Object(a.jsx)(D.a,{children:t.featured?Object(a.jsx)(B.a,{}):t.published?Object(a.jsx)(U.a,{}):Object(a.jsx)(q.a,{})}),Object(a.jsx)(J.a,{primary:t.name,secondary:t.url})]})}),Object(a.jsxs)(M.a,{anchorEl:j,open:!!j,onClose:function(){return l(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(a.jsx)(G.a,{onClick:function(){o(t),r(t.url),l(null)},children:"Edit"}),Object(a.jsx)(G.a,{onClick:Object(w.a)(C.a.mark((function e(){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.saveProject(t.url,Object(g.a)(Object(g.a)({},t),{},{featured:!0}));case 2:(a=e.sent).data&&n.setProjects(a.data),l(null);case 5:case"end":return e.stop()}}),e)}))),children:"Set as featured"}),Object(a.jsx)(G.a,{onClick:Object(w.a)(C.a.mark((function e(){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.deleteProject(t.url);case 2:(a=e.sent).data&&n.setProjects(a.data),l(null);case 5:case"end":return e.stop()}}),e)}))),children:"Delete"})]})]})},R=function(e){var t=e.data,n=e.menuTab,s=Object(r.useState)(""),o=Object(c.a)(s,2),i=o[0],u=o[1],j=Object(r.useState)(null),l=Object(c.a)(j,2),b=l[0],d=l[1],O=function(){var e=Object(w.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=6;break}return e.next=3,I.a.saveProject(i,b);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,I.a.createProject(b);case 8:e.t0=e.sent;case 9:(n=e.t0).data&&t.setProjects(n.data),p();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){u(""),d(null)};return"project"===n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(y.a,{onClick:function(){u(!1),d({published:!0})},children:"Add project"}),t.projects.sort((function(e,t){return e.url>t.url?1:-1})).map((function(e){return Object(a.jsx)(Q,{project:e,setEditId:u,setEditState:d,data:t},e.url)})),Object(a.jsx)(P.a,{open:!!b,children:!!b&&Object(a.jsxs)(E.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,maxWidth:"100%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[Object(a.jsx)(T.a,{value:b.name,onChange:function(e){return d(Object(g.a)(Object(g.a)({},b),{},{name:e.target.value}))},label:"Name",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(T.a,{value:b.url,onChange:function(e){return d(Object(g.a)(Object(g.a)({},b),{},{url:e.target.value}))},label:"Url",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(T.a,{value:b.projectId,onChange:function(e){return d(Object(g.a)(Object(g.a)({},b),{},{projectId:e.target.value}))},label:"Project id",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(T.a,{value:b.modelId,onChange:function(e){return d(Object(g.a)(Object(g.a)({},b),{},{modelId:e.target.value}))},label:"Model id",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(S.a,{label:"Published",control:Object(a.jsx)(A.a,{checked:b.published,onChange:function(e){return d(Object(g.a)(Object(g.a)({},b),{},{published:e.target.checked}))}})}),Object(a.jsxs)("div",{style:{marginTop:"50px"},children:[Object(a.jsx)(y.a,{onClick:O,children:"Save"}),Object(a.jsx)(y.a,{onClick:p,children:"Cancel"})]})]})})]}):null},V=n(253),X=function(e){var t=e.data,n=e.menuTab,s=Object(r.useState)(t.constant),o=Object(c.a)(s,2),i=o[0],u=o[1];Object(r.useEffect)((function(){u(t.constant)}),[t.constant]);var j=function(){var e=Object(w.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.saveConstant(i);case 2:(n=e.sent).data?t.setConstant(n.data):t.setConstant({});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return"constant"===n?Object(a.jsxs)(E.a,{sx:{width:400,bgcolor:"background.paper",p:4},children:[Object(a.jsx)(T.a,{value:i.email,onChange:function(e){return u(Object(g.a)(Object(g.a)({},i),{},{email:e.target.value}))},label:"Email",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(T.a,{value:i.phone,onChange:function(e){return u(Object(g.a)(Object(g.a)({},i),{},{phone:e.target.value}))},label:"Phone",style:{marginTop:"20px",width:"100%"}}),Object(a.jsx)(T.a,{value:i.call,onChange:function(e){return u(Object(g.a)(Object(g.a)({},i),{},{call:e.target.value}))},label:"International phone number",style:{marginTop:"20px",width:"100%"}}),Object(a.jsxs)("div",{style:{marginTop:"50px"},children:[Object(a.jsx)(y.a,{onClick:j,children:"Save"}),Object(a.jsx)(y.a,{onClick:function(){return u(t.constant)},children:"Cancel"})]})]}):null},Y=n(34),Z=n(35),$=n(12),ee=new(function(){function e(){Object(Y.a)(this,e)}return Object(Z.a)(e,[{key:"getAdmin",value:function(e){return $.a.get("/admins")}},{key:"createAdmin",value:function(e){return $.a.post("/admins",e)}},{key:"deleteAdmin",value:function(e){return $.a.delete("/admins/".concat(e))}}]),e}()),te=n(975),ne=n.n(te),ae=n(976),ce=n.n(ae),re=n(977),se=n.n(re),oe=function(e){var t=e.data,n=e.menuTab,s=Object(r.useState)(null),o=Object(c.a)(s,2),i=o[0],u=o[1],j=function(){var e=Object(w.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.createAdmin(i);case 2:(n=e.sent).data&&t.setAdmins(n.data),l();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){u(null)},b=function(){var e=Object(w.a)(C.a.mark((function e(n){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.deleteAdmin(n);case 2:(a=e.sent).data&&t.setAdmins(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"admin"===n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(y.a,{onClick:function(){u({published:!0})},children:"Add admin"}),t.admins.sort((function(e,t){return e.email>t.email?1:-1})).map((function(e){return Object(a.jsxs)(F.a,{secondaryAction:Object(a.jsx)(_.a,{edge:"end",onClick:function(){return b(e.email)},children:Object(a.jsx)(ne.a,{})}),children:[Object(a.jsx)(D.a,{children:e.locked?Object(a.jsx)(ce.a,{}):Object(a.jsx)(se.a,{})}),Object(a.jsx)(J.a,{primary:e.email})]})})),Object(a.jsx)(P.a,{open:!!i,children:!!i&&Object(a.jsxs)(E.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[Object(a.jsx)(T.a,{value:i.email,onChange:function(e){return u(Object(g.a)(Object(g.a)({},i),{},{email:e.target.value}))},label:"Email",style:{marginTop:"20px",width:"100%"}}),Object(a.jsxs)("div",{style:{marginTop:"50px"},children:[Object(a.jsx)(y.a,{onClick:j,children:"Save"}),Object(a.jsx)(y.a,{onClick:l,children:"Cancel"})]})]})})]}):null},ie=n(15),ue=n(1069),je=n(1071),le=n(1073),be=n(1074),de=Object(o.a)(),Oe=function(e){var t=e.data,n=Object(ie.b)().logout,s=Object(r.useState)("project"),o=Object(c.a)(s,2),d=o[0],p=o[1];return Object(r.useEffect)((function(){"logout"===d&&(p("project"),n())}),[d]),Object(a.jsxs)(i.a,{theme:de,children:[Object(a.jsx)(ue.a,{children:Object(a.jsx)(l.a,{children:Object(a.jsx)(b.a,{variant:"h6",component:"div",children:"Dashboard -> ".concat("admin"===d?"Admins":"project"===d?"Projects":"General info")})})}),Object(a.jsxs)(j.a,{sx:{p:2,pb:7,pt:13},children:[Object(a.jsx)(u.a,{}),Object(a.jsx)(R,{data:t,menuTab:d}),Object(a.jsx)(oe,{data:t,menuTab:d}),Object(a.jsx)(X,{data:t,menuTab:d}),Object(a.jsx)(je.a,{sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3,children:Object(a.jsxs)(le.a,{showLabels:!0,value:d,onChange:function(e,t){p(t)},children:[Object(a.jsx)(be.a,{label:"Projects",icon:Object(a.jsx)(x.a,{}),value:"project"}),Object(a.jsx)(be.a,{label:"Info",icon:Object(a.jsx)(h.a,{}),value:"constant"}),Object(a.jsx)(be.a,{label:"Admins",icon:Object(a.jsx)(v.a,{}),value:"admin"}),Object(a.jsx)(be.a,{label:"Logout",icon:Object(a.jsx)(O.a,{}),value:"logout"})]})})]})]})},pe=n(20);t.default=function(){var e=Object(r.useState)(null),t=Object(c.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)(null),i=Object(c.a)(o,2),u=i[0],j=i[1],l=Object(r.useState)(null),b=Object(c.a)(l,2),d=b[0],O=b[1];return Object(r.useEffect)((function(){I.a.getProject().then((function(e){O(e.data)})),ee.getAdmin().then((function(e){j(e.data)})),V.a.getConstant().then((function(e){e.data?s(e.data):s({})})).catch((function(){s({})}))}),[]),Object(a.jsx)(pe.a,{loading:!n||!u||!d,children:Object(a.jsx)(Oe,{data:{constant:n,setConstant:s,admins:u,setAdmins:j,projects:d,setProjects:O}})})}},219:function(e,t,n){"use strict";var a=n(34),c=n(35),r=n(12),s=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getProject",value:function(e){return r.a.get("/projects".concat(e?"/"+e:""))}},{key:"getFeaturedProject",value:function(){return r.a.get("/projects/__featured__")}},{key:"saveProject",value:function(e,t){return r.a.put("/projects/".concat(e),t)}},{key:"createProject",value:function(e){return r.a.post("/projects",e)}},{key:"deleteProject",value:function(e){return r.a.delete("/projects/".concat(e))}}]),e}();t.a=new s},253:function(e,t,n){"use strict";var a=n(34),c=n(35),r=n(12),s=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getConstant",value:function(){return r.a.get("/constant")}},{key:"saveConstant",value:function(e){return r.a.put("/constant",e)}}]),e}();t.a=new s}}]);
//# sourceMappingURL=7.d1df5a88.chunk.js.map